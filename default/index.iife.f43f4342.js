(function(){"use strict";const gh_UrlInfo={resolveQueries:n=>{const l={},c=n.split("&");for(let d=c.length-1;d>=0;d--){const[h,g]=c[d].split("=");l[h]=g}return l},isGladiatus:n=>/gladiatus\.gameforge\.com/.test(n),ajaxLink:n=>gh_UrlInfo.link(n,"ajax.php"),link:(n,l)=>{var c;const d=[];for(const h in n)d.push(h+"="+n[h]);return d.push("sh="+((c=gh_UrlInfo==null?void 0:gh_UrlInfo.queries)!=null&&c.sh?gh_UrlInfo.queries.sh:secureHash)),(l||"index.php")+"?"+d.join("&")},isPlaying:n=>/https:\/\/s(\d+)-(\w+)\.gladiatus\.gameforge\.com/.test(n),isLobby:n=>/lobby\.gladiatus\.gameforge\.com/.test(n)&&n.indexOf("loading")<0,resolve:function(n,l=!1){if(this.resolved&&!l)return this;this.resolved=!0;const c=n.match(/https?:\/\/s(\d+)-(\w+)\.gladiatus\.gameforge\.com\/game\/(?:index|main).php\?(.*)/i);return!!c&&(this.server=c[1],this.country=c[2],this.domain=`s${this.server}-${this.country}.gladiatus.gameforge.com`,this.queries=this.resolveQueries(c[3]),this)},server:void 0,country:void 0,queries:{}},gh_lang={global:{all:"All",weapons:"Weapons",shields:"Shields",chestArmour:"Chest Armour",helmets:"Helmets",gloves:"Gloves",shoes:"Shoes",rings:"Rings",amulets:"Amulets",usable:"Usable",upgrades:"Upgrades",recipes:"Recipes",mercenary:"Mercenary",tools:"Tools",scroll:"Scroll",eventItems:"Event Items",reinforcements:"Reinforcements",forgingGoods:"Forging goods",gold:"Gold",grindstone:"Grindstone",smallGrindstone:"Small Grindstone",shredLeather:"Shred of leather",protectiveGear:"Protective Gear",godOils:"God Oils",qualities:{white:"White",green:"Green",blue:"Blue",purple:"Purple",orange:"Orange",red:"Red"},stats:{random:"Min cost",strength:"Strength",dexterity:"Dexterity",agility:"Agility",constitution:"Constitution",charisma:"Charisma",intelligence:"Intelligence"},settings:{title:"GH",expedition:{title:"Expedition",description:"Description",descriptionContent:"Configuration for automating Expedition",location:"Location",opponent:"Opponent",notAvailableSetting:"Configuration is not available when you are in underworld or travelling",autoCollectAllBonuses:"Auto collect all bonuses",useHolyHourGlass:"Use Holy Hourglass"},underworld:{title:"Underworld",descriptionContent:"Configuration for automating Underworld",additionalDescription:"You are in underworld. No need configuration for this section.",additionalDescription1:"Configuration for automating Underworld.",attackDisPaterAsap:"Attack Dis Pater asap",allowUseRuby:"Allow use ruby",allowUseMobilisation:"Allow use Mobilisation",farmingMode:"Farming purpose",farmingCostume:"To get costume",farmingItem:"To farm items",location:"Location",opponent:"Opponent",autoEnterUnderworld:"Auto enter underworld",normal:"Normal",medium:"Medium",hard:"Hard",currentCostume:"Current costume",pauseArena:"Pause arena while in underworld",autoWearUWCostume:"Auto wear Underworld costume"},dungeon:{title:"Dungeon",description:"Description",descriptionContent:"Configuration for automating Dungeon",location:"Location",isAdvanced:"Is advanced",skipBoss:"Skip boss",skipBossDescription:" (If you can not defeat boss, turn on this option to skip boss and restart dungeon)",bossText:"'Boss' in your language",notAvailableSetting:"Configuration is not available when you are in underworld or travelling or in Britannia",restartAfterXTimesLost:"Restart after x times lost"},arena:{title:"Arena",provinceTitle:"Provinciarum Arena",description:"Description",descriptionContent:"Configuration for automating Provinciarum Arena",preferPlayers:"Attack players cross server",sameServerPlayers:"Same server attack list",addToAttachList:"Attack if raid over",ignorePlayers:"Ignore players",preferServers:"Attack servers",ignoreServers:"Ignore servers",copyToClipboard:"copy to clipboard",autoIgnorePlayer:"Auto ignore player if lose",attackFiveTimesEnabled:"Limit 5 attacks per day",donotRunIfNoQuest:"Pause if no suiable quest",addToSameServerAttackList:"Add this player to the same server attack list in Arena",removeFromSameServerAttackList:"Remove this player from the same server attack list in Arena",attackSameServerEnabled:"Enable attacking same server"},circusTuma:{title:"Circus",provinceTitle:"Circus Provinciarum",description:"Description",descriptionContent:"Configuration for automating Circus Provinciarum",preferPlayers:"Attack players cross server",sameServerPlayers:"Same server attack list",addToAttachList:"Attack if raid over",ignorePlayers:"Ignore players",preferServers:"Attack servers",ignoreServers:"Ignore servers",copyToClipboard:"copy to clipboard",autoIgnorePlayer:"Auto ignore player if lose",donotRunIfNoQuest:"Pause if no suiable quest",runUntilGetChest:"Pause after get treasure box",addToSameServerAttackList:"Add this player to the same server attack list in Circus Tuma",removeFromSameServerAttackList:"Remove this player from the same server attack list in Circus Tuma",attackSameServerEnabled:"Enable attacking same server"},quest:{title:"Pantheon",description:"Description",descriptionContent:"Configuration for picking quest automatically.",ruleForPickingQuest:"Picking quest rules",descriptionForStandardLicense:"Buy premium license to make picking quests configuable."},healing:{title:"Heal",description:"Description",descriptionContent:"Configuration for automating heal life point and some other features",healPercent:"Heal once % life below",bagOfFoods:"Bag of foods",autoHideGold:"Auto hide gold",bidOnceGoldOver:"Hide gold once over",attackEventMobs:"Auto attack event mobs",attackEventBoss:"Attack event boss",autoPickQuest:"Auto pick quests",guildMedic:"Guild medic",healingPotion:"Healing potion",underworlHealFunction:"Underworld healing",hideGoldIn:"Hide gold in",guildMarket:"Guild market",guildBank:"Guild bank",training:"Training",shop:"Shop",auctionHouse:"Auction house",stopAllIfHealingFail:"Stop Bot if cant heal",autoPickQuestInstruction:"Note: Currently this checkbox is turned off automatically because you have full of quests or no possible completed quest to pick. It will be turned on automatically when there is any completed or failed quests or after 3 minutes.",questOfYourChoice:"of your choice",questSuccession:"succession",pickingFoodMessage:"Bot is picking food from packages",autoBuyFood:"Auto buy food in Auction House",buyFoodDescription:"Buy any food which has ratio of life points per gold greater than ",allowBotEatCervisia:"Allow Bot eats Cervisia",buyFoodFromShop:"Buy food from shop",renewShopForFood:"Renew shop for food",onlyBuyFoodIfNeed:"Only buy food if need"},premium:{title:"Premium",description:"Description",descriptionContent:"All features are listed in this section is Premium Feature.",allowRequestPack:"Allow request pack",messageFolder:"Message folder",autoGetFoodFromPackages:"Auto get food from packages",packBoughtFromGuildMarket:"Packs bought from Guild Market",autoPutPackToGuildMarketDescription:"Enable this option for auto put all gold packs in queue below to Guild Market with selected duration ",hours:"hours",days:"day(s)",noBoughtPack:"There is no pack need to put back in Guild Market",autoHideGoldInstruction:"Note: Currently this checkbox is turned off automatically because no item to buy. It will be turned on automatically after 5 minutes.",boughtPackHistorySentence:"Bot bought {itemName} from {playerName}",errorOnPuttingPack:"Bot can not find the item for putting this pack to guild market. Please do it manualy and remove this pack",puttingPackMessage:"Bot is putting pack to Guild Market",failedMessage:"Failed",minGoldPackCanBuy:"Gold packing range",goldPackingRangeHelpText:"Bot will buy any items which has amount of gold in the configuration range",autoRepackExpiringItem:"Auto reset timer of expiring items",autoRepackExpiringItemDescription:"By enable this option, the Bot will sell upcoming expired items from Packages to Guild Market with 2 gold and cancel to reset expiration time. It requires player must in a Guild and the items cooldown less than ",selectedItemTypeForRepack:"Item types should repack",autoRenewShopOption:"Auto renew shop once full",resetEventPoint:"Auto reset event points",onlyForPremium:"Available only for Premium License",statToTrain:"Training attribute",publicMarket:"Public market",buyPackFromPlayer:"Only buy from player",profileUrlText:"Copy & Paste seller profile's url here and press Enter",enableHighlightUnderworldItem:"Highlight underworld items",amountOfGoldForPicking:"Max gold amount can pick from packages",sellingGoldTarget:"Selling gold target from packages",amountOfGoldForPickingDescription:"The bot will ignore any gold item that has amount over setting while picking items from package to inventory",autoThrowDice:"Auto throw free dice",autoRepairItem:"Auto repair item",repairConditioningThrehold:"Repair when conditioning below x%",ignoreMaterials:"Repair item without using listed materials",itemNameContains:"Name contains",auctionHouseItemFilter:"Auction house item filters",autoBidMatchedItem:"Auto bid matched items",autoCollectGodOils:"Auto collect god oils",filterFullWord:"Filter full word",itemTypesForFiltering:"Item types for filtering",nameContainsWord:"Name contains word",repairBeforeSmelt:"Repair before smelt item",keepAmountOfGoldOnHand:"Keep amount of gold on hand",damage:"Min damage",storeResourcesAfterSmelted:"Store smelted resources",storeResourcesEveryHour:"Store resources every hour",scheduleStartStop:"Schedule start/stop",enabled:"Enabled",startAt:"Start at",stopAt:"Stop at",donateGuildBankBeforeStop:"Donate guild bank before stop",autoSmeltSettings:"Auto smelting item filters",itemColorIsGreen:'Item color is <b style="color:green">green</b>',itemColorIsBlue:'Item color is <b style="color:blue">blue</b>',itemColorIsPurple:'Item color is <b style="color:purple">purple</b>',itemColorIsOrange:'Item color is <b style="color:orange">orange</b>',itemColorIsRed:'Item color is <b style="color:red">red</b>',isUnderworldItem:'Item has underworld <b style="color:red">prefix/suffix</b>'},auction:{outbidDuration:"Auction bidding duration",maxOutbidItemPrice:"Max bidding item price"},general:{title:"General",description:"Description",descriptionContent:"General settings",language:"Language",randomDelay:"Random delay",randomDelayDescription:"Auto will be delayed a random second from 0 to ",second:" second(s)",allowRelogin:"Allow relogin",licenseKey:"License key",validUntil:"Valid until",invalidKey:"Invalid key",expiredKey:"Key Expired",serverTime:"Server time",buyLicenseKey:"Upgrade Premium",day:"Days",year:"Year",lifetime:"Lifetime",contactDescription:"Your payment account code is ",contact:"Contact",resetButtonText:"Reset default settings",releaseNotes:"Release Notes",individualTabRunning:"Individual tab running",menuPosition:"Menu position",animateItemColor:"Animate item color",debugMode:"Debug mode",debugModeDescription:"This option is used only for debugging purpose, please don't turn it on."},event:{title:"Event",description:"Description",descriptionContent:"Configuration for automating attack Event mobs",stopPoint:"Event points stop at",shouldFollowLeaderScore:"Follow leader score"}},messages:{checkPlayerBelongToGuild:"Checking is player belong to a Guild or not",findEmptySlot:"Finding empty space ({w} x {h} cells) in inventory",findUpcomingExpiredItem:"Finding upcoming expired item in page ",moveItemToInventory:"Moving item to inventory",sellItemToGuildMarket:"Selling item to Guild Market",cancelItemInGuildMarket:"Cancelling item in Guild Market",sellItemToShop:"Selling item to shop",gettingShopInformation:"Checking empty space in shop",gettingPackagePage:"Getting items information from Package page ",shopIsFull:"Shop is full",inventoryIsFull:"No space (2x3) in inventory for picking up item from Package",renewShop:"Renewing shop",checkingSmelterState:"Checking smelter state",runningAutoSmelt:"Auto smelt is running",buyingItemFromShop:"Buying back item from shop",checkingDollItemForRepair:"Checking items need to repair on doll ",searchingItemsInAuctionHouse:"Searching items in auction house",rentingSmelterySlot:"renting smeltery slot",isHealing:"Bot is healing",buyingFoodFromShop:"Buying food from shop",noEmptySpaceInInventory:"No space {w} x {h} in inventory for buying food for buying food"}},packages:{pickingSectionTitle:"Select items type for picking",pickAll:"Pick all",pickAllConfirmation:"Are you sure you want to pick all items in this page (except gold)?",pickGoldConfirmation:"Are you sure you want to pick selected items including gold pack (over {maxAmount} gold pack will be ignored)?",pickSelectedType:"Pick selected types",sendAllResourceToHorreum:"Store resources",itemType:"Item types",itemQuality:"Item qualities",stop:"Stop",sellSelectedTypeToMerchants:"Sell to shop",selectItemForAutoSmelt:"Select item for auto smelt"},merchants:{sellAll:"Sell all",sellSelectedType:"Sell selected types",stop:"Stop",sellSectionTitle:"Select item types for sale"},guildMarket:{quickAction:"Quick actions",offerAs1Gold:"Offer item as 1 gold",stop:"Stop"},publicMarket:{quickAction:"Quick actions",quickOffer:"Quick offer",stop:"Stop"},smeltery:{action:"Actions",noSlot:"There is no slot to melt.",startMelt:"Start melt",stopMelt:"Stop melt",sendAllToHorreum:"Send all to Horreum",noFinishedItem:"There is no finished item.",notEnoughGold:"You've not enough gold.",itemTypesForSmelt:"Item types for auto smelt",itemQualitiesForSmelt:"Item qualities for auto smelt"},workbench:{action:"Actions",startFix:"Full fix",partialFix:"Partial fix",stopFix:"Stop fix",noSlot:"There is no slot to fixing item.",notEnoughGold:"You've not enough gold.",sendToPackage:"Send all to package",noFinishedItem:"There is no finished item.",maxMaterialQuality:"Max used material quality",notHaveMaterial:"Dont have any required material"},location:{level1:["Grimwood","Rat","Lynx","Wolf","Bear"],level5:["Pirate Harbour","Fled Slave","Corrupt Soldier","Assasin","Captain"],level10:["Misty Mountains","Elusive Recruit","Harpy","Cerberus","Medusa"],level15:["Wolf Cave","Wild Boar","Wolf Pack","Alphawolf","Werewolf"],level60:["Ancient Temple","Cultist Guard","Wererat","Minotaur","Minotaur Chief"],level65:["Barbarian Village","Barbarian","Barbarian Warrior","Berserker","Barbarian Chief"],level70:["Bandit Camp","Renegade Soldier","Renegade Mercenary","Assassinator","Bandit Chief"],level40:["Cave Temple","Legionnaire","Myrmidon","Centurion","Soulless"],level45:["The Green Forest","Giant Wild Boar","Swamp Lord","Swamp Spirit","Werebear"],level50:["Cursed Village","Hun","Ancient","Nachzehrer","Abomination"],level55:["Death Hill","Skeleton Warrior","Skeleton Berserker","Lich","Necromancer Prince"],level95:["Vandal Village","Vandal Warrior","Jarl","Dark Fighter","Death Knight"],level100:["Mine","Guard","Draug","Stone Golem","Tatzelwurm"],level104:["Teuton Camp","Barbarian","Teuton Hero","Teuton Lord","Seidr"],level108:["Koman Mountain","Infernal Springbok","Sabre-Tooth Tiger","Dragon Whelp","Dragon"],level112:["Dragon Remains","Bone Golem","Lemures","Ritualist","Dracolich"],level20:["Voodoo Temple","Cobra","Giant Scorpion","Awakened Mummy","Seth Priest"],level25:["Bridge","Tax Collector","Man Eater","Tribal Warrior","Bone Shaman"],level30:["Blood Cave","Blood Wolf","Giant Beetle","Fire Dancer","Fire Demon"],level35:["Lost Harbour","Crocodile","Undead Holder","Giant Water Snake","Mokele Mbembe"],level75:["Umpokta Tribe","Tribal Warrior","Tribal Magician","Spirit Warrior","Seth High Priest"],level80:["Caravan","Spy","Caravan Guard","Elite Guard","Slave Merchant"],level85:["Mesoai Oasis","Elephant","Cheetah","Demon Lion","Demon Elephant"],level90:["Cliff Jumper","Cursed Antelope","Giant Spider","Shaman","High Shaman"],level120:["Bank of Thames","Bibroci","Ancalite","Cenimagni","Cassi"],level130:["Forest Fortress","Wood Elf","Dwarf","British Chariot","Callirius"],level140:["The Moor","Тhe man from...","Тhe woman from...","Bandit","Nodens"],level150:["Camp Cassivellaunus","Chariot Rider","Mercenary","Fluror","Cassivellaunus"],level160:["Kent","Cingetorix","Segovax","Carvilius","Taximagulus"],level170:["The Ford","Leech","Water Spider","Caratacus","Opponent_boss"],level180:["Camulodunum","City Guard","Settler Trinovantes","Warrior Trinovantes","Caratacus"],level190:["Cambria","Opponent_1","Opponent_2","Opponent_3","Opponent_4"],level200:["Mona Isle","Opponent_1","Opponent_2","Opponent_3","Opponent_4"]},dungeon:{level1:["Gustavos Country House"],level5:["On the Run"],level10:["The Dragon Stronghold"],level15:["The Cave of Dark intrigue"],level20:["Temple of Perdition"],level25:["Abducted"],level30:["Chamber of Pyro"],level35:["Poisoned Country"],level40:["Dark Catacombs"],level45:["With all its might"],level50:["Viking Camp"],level60:["Hidden Grave"],level65:["In enemy hands"],level68:["The Last Resort"],level70:["The True Owner"],level73:["Gioll Passage"],level78:["Zagrash's Fort"],level80:["Mysterious Laboratory","Fairground"],level86:["Under a Blood-red Sky"],level90:["In the Heart of Decay"],level92:["Sasama's last journey"],level102:["Externsteine"],level112:["Late Revenge"],level120:["Alpha & Omega"]}},bagpack={512:0,513:1,514:2,515:3},gh_locationData={level1:["Grimwood","Rat","Lynx","Wolf","Bear"],level5:["Pirate Harbour","Fled Slave","Corrupt Soldier","Assasin","Captain"],level10:["Misty Mountains","Elusive Recruit","Harpy","Cerberus","Medusa"],level15:["Wolf Cave","Wild Boar","Wolf Pack","Alphawolf","Werewolf"],level60:["Ancient Temple","Cultist Guard","Wererat","Minotaur","Minotaur Chief"],level65:["Barbarian Village","Barbarian","Barbarian Warrior","Berserker","Barbarian Chief"],level70:["Bandit Camp","Renegade Soldier","Renegade Mercenary","Assassinator","Bandit Chief"],level40:["Cave Temple","Legionnaire","Myrmidon","Centurion","Soulless"],level45:["The Green Forest","Giant Wild Boar","Swamp Lord","Swamp Spirit","Werebear"],level50:["Cursed Village","Hun","Ancient","Nachzehrer","Abomination"],level55:["Death Hill","Skeleton Warrior","Skeleton Berserker","Lich","Necromancer Prince"],level95:["Vandal Village","Vandal Warrior","Jarl","Dark Fighter","Death Knight"],level100:["Mine","Guard","Draug","Stone Golem","Tatzelwurm"],level104:["Teuton Camp","Barbarian","Teuton Hero","Teuton Lord","Seidr"],level108:["Koman Mountain","Infernal Springbok","Sabre-Tooth Tiger","Dragon Whelp","Dragon"],level112:["Dragon Remains","Bone Golem","Lemures","Ritualist","Dracolich"],level20:["Voodoo Temple","Cobra","Giant Scorpion","Awakened Mummy","Seth Priest"],level25:["Bridge","Tax Collector","Man Eater","Tribal Warrior","Bone Shaman"],level30:["Blood Cave","Blood Wolf","Giant Beetle","Fire Dancer","Fire Demon"],level35:["Lost Harbour","Crocodile","Undead Holder","Giant Water Snake","Mokele Mbembe"],level75:["Umpokta Tribe","Tribal Warrior","Tribal Magician","Spirit Warrior","Seth High Priest"],level80:["Caravan","Spy","Caravan Guard","Elite Guard","Slave Merchant"],level85:["Mesoai Oasis","Elephant","Cheetah","Demon Lion","Demon Elephant"],level90:["Cliff Jumper","Cursed Antelope","Giant Spider","Shaman","High Shaman"],level120:["Bank of Thames","Bibroci","Ancalite","Cenimagni","Cassi"],level130:["Forest Fortress","Wood Elf","Dwarf","British Chariot","Callirius"],level140:["The Moor","Тhe man from...","Тhe woman from...","Bandit","Nodens"],level150:["Camp Cassivellaunus","Chariot Rider","Mercenary","Fluror","Cassivellaunus"],level160:["Kent","Cingetorix","Segovax","Carvilius","Taximagulus"],level170:["The Ford","Leech","Water Spider","Caratacus","Togodumnus"],level180:["Camulodunum","City Guard","Settler Trinovantes","Warrior Trinovantes","Caratacus"],level190:["Cambria","Opponent_1","Opponent_2","Opponent_3","Opponent_4"],level200:["Mona Isle","Opponent_1","Opponent_2","Opponent_3","Opponent_4"]},gh_dungeon={level1:["Gustavos Country House"],level5:["On the Run"],level10:["The Dragon Stronghold"],level15:["The Cave of Dark intrigue"],level20:["Temple of Perdition"],level25:["Abducted"],level30:["Chamber of Pyro"],level35:["Poisoned Country"],level40:["Dark Catacombs"],level45:["With all its might"],level50:["Viking Camp"],level60:["Hidden Grave"],level65:["In enemy hands"],level68:["The Last Resort"],level70:["The True Owner"],level73:["Gioll Passage"],level78:["Zagrash's Fort"],level80:["Mysterious Laboratory","Fairground"],level86:["Under a Blood-red Sky"],level90:["In the Heart of Decay"],level92:["Sasama's last journey"],level102:["Externsteine"],level112:["Late Revenge"],level120:["Alpha & Omega"]},gh_mobData={britannia:{locations:[{id:0,name:gh_locationData.level120[0],level:120,opponents:[gh_locationData.level120[1],gh_locationData.level120[2],gh_locationData.level120[3],gh_locationData.level120[4]],dungeonLevels:[]},{id:1,name:gh_locationData.level130[0],level:130,opponents:[gh_locationData.level130[1],gh_locationData.level130[2],gh_locationData.level130[3],gh_locationData.level130[4]],dungeonLevels:[]},{id:2,name:gh_locationData.level140[0],level:140,opponents:[gh_locationData.level140[1],gh_locationData.level140[2],gh_locationData.level140[3],gh_locationData.level140[4]],dungeonLevels:[]},{id:3,name:gh_locationData.level150[0],level:150,opponents:[gh_locationData.level150[1],gh_locationData.level150[2],gh_locationData.level150[3],gh_locationData.level150[4]],dungeonLevels:[]},{id:4,name:gh_locationData.level160[0],level:160,opponents:[gh_locationData.level160[1],gh_locationData.level160[2],gh_locationData.level160[3],gh_locationData.level160[4]],dungeonLevels:[]},{id:5,name:gh_locationData.level170[0],level:170,opponents:[gh_locationData.level170[1],gh_locationData.level170[2],gh_locationData.level170[3],gh_locationData.level170[4]],dungeonLevels:[]},{id:6,name:gh_locationData.level180[0],level:180,opponents:[gh_locationData.level180[1],gh_locationData.level180[2],gh_locationData.level180[3],gh_locationData.level180[4]],dungeonLevels:[]},{id:7,name:gh_locationData.level190[0],level:190,opponents:[gh_locationData.level190[1],gh_locationData.level190[2],gh_locationData.level190[3],gh_locationData.level190[4]],dungeonLevels:[]},{id:8,name:gh_locationData.level200[0],level:200,opponents:[gh_locationData.level200[1],gh_locationData.level200[2],gh_locationData.level200[3],gh_locationData.level200[4]],dungeonLevels:[]}]},italy:{locations:[{id:0,name:gh_locationData.level1[0],level:1,opponents:[gh_locationData.level1[1],gh_locationData.level1[2],gh_locationData.level1[3],gh_locationData.level1[4]],dungeonLevels:[10],dungeonNames:[gh_dungeon.level1]},{id:1,name:gh_locationData.level5[0],level:5,opponents:[gh_locationData.level5[1],gh_locationData.level5[2],gh_locationData.level5[3],gh_locationData.level5[4]],dungeonLevels:[10,68],dungeonNames:[gh_dungeon.level5]},{id:2,name:gh_locationData.level10[0],level:10,opponents:[gh_locationData.level10[1],gh_locationData.level10[2],gh_locationData.level10[3],gh_locationData.level10[4]],dungeonLevels:[10,70],dungeonNames:[gh_dungeon.level10]},{id:3,name:gh_locationData.level15[0],level:15,opponents:[gh_locationData.level15[1],gh_locationData.level15[2],gh_locationData.level15[3],gh_locationData.level15[4]],dungeonLevels:[15,73],dungeonNames:[gh_dungeon.level15]},{id:4,name:gh_locationData.level60[0],level:60,opponents:[gh_locationData.level60[1],gh_locationData.level60[2],gh_locationData.level60[3],gh_locationData.level60[4]],dungeonLevels:[60],dungeonNames:[gh_dungeon.level60]},{id:5,name:gh_locationData.level65[0],level:65,opponents:[gh_locationData.level65[1],gh_locationData.level65[2],gh_locationData.level65[3],gh_locationData.level65[4]],dungeonLevels:[65,78],dungeonNames:[gh_dungeon.level65,gh_dungeon.level78]},{id:6,name:gh_locationData.level70[0],level:70,opponents:[gh_locationData.level70[1],gh_locationData.level70[2],gh_locationData.level70[3],gh_locationData.level70[4]],dungeonLevels:[]}]},africa:{locations:[{id:0,name:gh_locationData.level20[0],level:20,opponents:[gh_locationData.level20[1],gh_locationData.level20[2],gh_locationData.level20[3],gh_locationData.level20[4]],dungeonLevels:[20],dungeonNames:[gh_dungeon.level20]},{id:1,name:gh_locationData.level25[0],level:25,opponents:[gh_locationData.level25[1],gh_locationData.level25[2],gh_locationData.level25[3],gh_locationData.level25[4]],dungeonLevels:[25,86],dungeonNames:[gh_dungeon.level25,gh_dungeon.level86]},{id:2,name:gh_locationData.level30[0],level:30,opponents:[gh_locationData.level30[1],gh_locationData.level30[2],gh_locationData.level30[3],gh_locationData.level30[4]],dungeonLevels:[30],dungeonNames:[gh_dungeon.level30]},{id:3,name:gh_locationData.level35[0],level:35,opponents:[gh_locationData.level35[1],gh_locationData.level35[2],gh_locationData.level35[3],gh_locationData.level35[4]],dungeonLevels:[35,90],dungeonNames:[gh_dungeon.level35,gh_dungeon.level90]},{id:4,name:gh_locationData.level75[0],level:75,opponents:[gh_locationData.level75[1],gh_locationData.level75[2],gh_locationData.level75[3],gh_locationData.level75[4]],dungeonLevels:[80,92],dungeonNames:[gh_dungeon.level80,gh_dungeon.level92]},{id:5,name:gh_locationData.level80[0],level:80,opponents:[gh_locationData.level80[1],gh_locationData.level80[2],gh_locationData.level80[3],gh_locationData.level80[4]],dungeonLevels:[]},{id:6,name:gh_locationData.level85[0],level:85,opponents:[gh_locationData.level85[1],gh_locationData.level85[2],gh_locationData.level85[3],gh_locationData.level85[4]],dungeonLevels:[]},{id:7,name:gh_locationData.level90[0],level:90,opponents:[gh_locationData.level90[1],gh_locationData.level90[2],gh_locationData.level90[3],gh_locationData.level90[4]],dungeonLevels:[]}]},germany:{locations:[{id:0,name:gh_locationData.level40[0],level:40,opponents:[gh_locationData.level40[1],gh_locationData.level40[2],gh_locationData.level40[3],gh_locationData.level40[4]],dungeonLevels:[40],dungeonNames:[gh_dungeon.level40]},{id:1,name:gh_locationData.level45[0],level:45,opponents:[gh_locationData.level45[1],gh_locationData.level45[2],gh_locationData.level45[3],gh_locationData.level45[4]],dungeonLevels:[45,102],dungeonNames:[gh_dungeon.level45,gh_dungeon.level102]},{id:2,name:gh_locationData.level50[0],level:50,opponents:[gh_locationData.level50[1],gh_locationData.level50[2],gh_locationData.level50[3],gh_locationData.level50[4]],dungeonLevels:[50],dungeonNames:[gh_dungeon.level50]},{id:3,name:gh_locationData.level55[0],level:55,opponents:[gh_locationData.level55[1],gh_locationData.level55[2],gh_locationData.level55[3],gh_locationData.level55[4]],dungeonLevels:[80],dungeonNames:[gh_dungeon.level80]},{id:4,name:gh_locationData.level95[0],level:95,opponents:[gh_locationData.level95[1],gh_locationData.level95[2],gh_locationData.level95[3],gh_locationData.level95[4]],dungeonLevels:[]},{id:5,name:gh_locationData.level100[0],level:100,opponents:[gh_locationData.level100[1],gh_locationData.level100[2],gh_locationData.level100[3],gh_locationData.level100[4]],dungeonLevels:[]},{id:6,name:gh_locationData.level104[0],level:104,opponents:[gh_locationData.level104[1],gh_locationData.level104[2],gh_locationData.level104[3],gh_locationData.level104[4]],dungeonLevels:[]},{id:7,name:gh_locationData.level108[0],level:108,opponents:[gh_locationData.level108[1],gh_locationData.level108[2],gh_locationData.level108[3],gh_locationData.level108[4]],dungeonLevels:[]},{id:9,name:gh_locationData.level112[0],level:112,opponents:[gh_locationData.level112[1],gh_locationData.level112[2],gh_locationData.level112[3],gh_locationData.level112[4]],dungeonLevels:[112,120],dungeonNames:[gh_dungeon.level112,gh_dungeon.level120]}]}},gh_questType={combat:1,item:2,groupArena:3,arena:4,expedition:5,dungeon:6,work:7,any:8},gh_filterOperators={contains:1,notContains:2,numberAttackLessThan:3,hasNoTimer:4,itemContains:5,rewardIsFood:6,hasExperience:7,itemNotContains:8,hasApollo:9,hasVulcan:10,hasMars:11,hasMercury:12,hasDiana:13,hasMinerva:14,rewardIsNotFood:15,rewardContainsAny:16,minGold:17,minHonor:18},gh_godImageMaps={apollo_s16:"apollo",merkur_s16:"mercury",vulcanus_s16:"vulcan",mars_s16:"mars",diana_s16:"diana",minerva_s16:"minerva"},gh_qualityMap=["white","green","blue","purple","orange","red"],gh_defaultIgnoreUWMaterials=[54,55,56,57,60,64],gh_forgeMode={forge:"forge",smeltery:"smeltery",workbench:"workbench"},gh_auctionState={verylong:0,long:1,middle:2,short:3,veryshort:4},gh_auctionStateMap={br:{veryshort:"bastante curto",short:"curto",middle:"médio",long:"longo",verylong:"muito tempo"},cz:{veryshort:"velmi krátká",short:"krátká",middle:"střední",long:"dlouhá",verylong:"velmi dlouhá"},dk:{veryshort:"meget kort tid",short:"kort tid",middle:"halv tid",long:"lang tid",verylong:"meget lang tid"},de:{veryshort:"sehr kurz",short:"kurz",middle:"mittel",long:"lange",verylong:"sehr lange"},ee:{veryshort:"väga lühike",short:"lühike",middle:"keskmine",long:"pikk",verylong:"väga pikk"},en:{veryshort:"very short",short:"short",middle:"middle",long:"long",verylong:"very long"},us:{veryshort:"very short",short:"short",middle:"middle",long:"long",verylong:"very long"},ar:{veryshort:"muy corto",short:"corto",middle:"medio",long:"largo",verylong:"muy largo"},es:{veryshort:"muy corto",short:"corto",middle:"medio",long:"largo",verylong:"muy largo"},mx:{veryshort:"muy corto",short:"corto",middle:"medio",long:"largo",verylong:"muy largo"},fr:{veryshort:"très court",short:"court",middle:"moyen",long:"longtemps",verylong:"très longtemps"},it:{veryshort:"brevissima",short:"breve",middle:"media",long:"lunga",verylong:"lunghissima"},lv:{veryshort:"ļoti īss",short:"īss",middle:"vidējs",long:"garš",verylong:"ļoti garš"},lt:{veryshort:"labai trumpai",short:"trumpai",middle:"vidutiniškai",long:"ilgai",verylong:"labai ilgai"},hu:{veryshort:"nagyon rövid",short:"rövid",middle:"közepes",long:"hosszú",verylong:"nagyon hosszú"},nl:{veryshort:"zeer kort",short:"kort",middle:"gemiddeld",long:"lang",verylong:"heel lang"},no:{veryshort:"veldig kort",short:"kortvarig",middle:"medium",long:"lenge",verylong:"veldig lenge"},pl:{veryshort:"bardzo krótki",short:"krótki",middle:"średni",long:"długi",verylong:"bardzo długi"},pt:{veryshort:"muito curto",short:"curto",middle:"médio",long:"longo",verylong:"muito longo"},ro:{veryshort:"foarte scurt",short:"scurt",middle:"mijlociu",long:"lung",verylong:"foarte lung"},sk:{veryshort:"veľmi krátko",short:"krátko",middle:"stredne",long:"dlho",verylong:"veľmi dlho"},yu:{veryshort:"jako kratko",short:"kratko",middle:"srednje",long:"dugo",verylong:"jako dugo"},fi:{veryshort:"hyvin lyhyt",short:"lyhyt",middle:"keskimääräinen",long:"pitkä",verylong:"hyvin pitkä"},se:{veryshort:"mycket kort",short:"kort",middle:"medel",long:"lång",verylong:"mycket lång"},tr:{veryshort:"çok kısa",short:"kısa",middle:"orta",long:"uzun",verylong:"çok uzun"},ae:{veryshort:"قصيرة جداً",short:"قصير",middle:"منتصف",long:"طويل",verylong:"طويل جداً"},il:{veryshort:"קצר מאוד",short:"קצר",middle:"בינוני",long:"ארוך",verylong:"ארוך מאוד"},gr:{veryshort:"πολύ μικρή",short:"μικρή",middle:"mέση",long:"μεγάλη",verylong:"πολύ μεγάλη"},bg:{veryshort:"много къс",short:"къс",middle:"среден",long:"дълъг",verylong:"много дълъг"},ru:{veryshort:"очень мало",short:"мало",middle:"средне",long:"много",verylong:"очень много"},tw:{veryshort:"超短",short:"較短",middle:"常規時間",long:"較長",verylong:"超長"}},gh_itemTypeValues={all:0,weapons:1,shields:2,chestArmour:3,helmets:4,gloves:5,rings:6,usable:7,shoes:8,amulets:9,reinforcements:11,upgrades:12,recipes:13,gold:14,mercenary:15,forgingGoods:18,tools:19,scroll:20,eventItems:21},gh_operators={isWD:"wd",isNWD:"nwd",containsR:"conr",nContainsN:"nocon",containsN:"con",contains:"co",containsWord:"cow",greaterThan:"gt",lessThan:"lt",startWith:"sw",endWith:"ew",isTrue:"is"},gh_itemQuality={white:-1,green:0,blue:1,purple:2,orange:3,red:4},Nh=[173,156,162,182,175,183,180,178,177,158,179,174,172,155,171,168,167,159,166,176,164,157,181,169,161,163,165],Oh=[258,284,275,269,283,282,287,272,194,259,261,241,166,266,246,248,277,247,270,202,243,242,279,254,274,256,245,250,268,244,281,257,263,278,276,289,262,280,286,267,271,252,255,288,260,264,265],gh_dollItemContentType=[1,2,4,48,8,256,512,1024],gh_defaultSelectedQualityForPicking=["-1","0","1","2","3","4"],gh_itemSubTypes=[{name:gh_lang.global.grindstone,value:"12-2"},{name:gh_lang.global.smallGrindstone,value:"12-1"},{name:gh_lang.global.shredLeather,value:"12-3"},{name:gh_lang.global.protectiveGear,value:"12-4"},{name:gh_lang.global.godOils,value:"12-18"},{name:gh_lang.global.godOils,value:"12-19"},{name:gh_lang.global.godOils,value:"12-20"},{name:gh_lang.global.godOils,value:"12-21"},{name:gh_lang.global.godOils,value:"12-22"},{name:gh_lang.global.godOils,value:"12-23"}],gh_itemQualities=[{name:gh_lang.global.qualities.white,value:"-1"},{name:gh_lang.global.qualities.green,value:"0"},{name:gh_lang.global.qualities.blue,value:"1"},{name:gh_lang.global.qualities.purple,value:"2"},{name:gh_lang.global.qualities.orange,value:"3"},{name:gh_lang.global.qualities.red,value:"4"}],gh_itemTypes=[{name:gh_lang.global.weapons,value:gh_itemTypeValues.weapons+""},{name:gh_lang.global.shields,value:gh_itemTypeValues.shields+""},{name:gh_lang.global.chestArmour,value:gh_itemTypeValues.chestArmour+""},{name:gh_lang.global.helmets,value:gh_itemTypeValues.helmets+""},{name:gh_lang.global.gloves,value:gh_itemTypeValues.gloves+""},{name:gh_lang.global.shoes,value:gh_itemTypeValues.shoes+""},{name:gh_lang.global.rings,value:gh_itemTypeValues.rings+""},{name:gh_lang.global.amulets,value:gh_itemTypeValues.amulets+""},{name:gh_lang.global.usable,value:gh_itemTypeValues.usable+""},{name:gh_lang.global.upgrades,value:gh_itemTypeValues.upgrades+""},{name:gh_lang.global.recipes,value:gh_itemTypeValues.recipes+""},{name:gh_lang.global.mercenary,value:gh_itemTypeValues.mercenary+""},{name:gh_lang.global.tools,value:gh_itemTypeValues.tools+""},{name:gh_lang.global.scroll,value:gh_itemTypeValues.scroll+""},{name:gh_lang.global.reinforcements,value:gh_itemTypeValues.reinforcements+""},{name:gh_lang.global.eventItems,value:gh_itemTypeValues.eventItems+""},{name:gh_lang.global.forgingGoods,value:gh_itemTypeValues.forgingGoods+""},{name:gh_lang.global.gold,value:gh_itemTypeValues.gold+""}],gh_itemSubTypesIgnoreSell=["12-1","12-2","12-3","12-4","12-18","12-19","12-20","12-21","12-22","12-23"],gh_renewShopOptions=[{name:"Not allow",value:0},{name:"Only use Working Clothe",value:1},{name:"Allow use Ruby or Working Clothe",value:2}],packHideTypes={guild:"guild",shop:"shop",auction:"auction",training:"training",market:"market",donate:"donate"},gh_characterStats=[{name:gh_lang.global.stats.random,value:0},{name:gh_lang.global.stats.strength,value:1},{name:gh_lang.global.stats.dexterity,value:2},{name:gh_lang.global.stats.agility,value:3},{name:gh_lang.global.stats.constitution,value:4},{name:gh_lang.global.stats.charisma,value:5},{name:gh_lang.global.stats.intelligence,value:6}],gh_underworldFarmingMode={costume:"costume",item:"item"};var __async=(n,l,c)=>new Promise((d,h)=>{var g=y=>{try{f(c.next(y))}catch(m){h(m)}},p=y=>{try{f(c.throw(y))}catch(m){h(m)}},f=y=>y.done?d(y.value):Promise.resolve(y.value).then(g,p);f((c=c.apply(n,l)).next())});class ExtensionStore{constructor(){this.i={},this.l()}u(l){return __async(this,null,function*(){try{this.i=yield this.m(l)}catch{}})}m(l){return new Promise(c=>{chrome.runtime.sendMessage(ghExtensionId,{type:"GET_STORAGE_DATA",playerId:l},d=>{chrome.runtime.lastError?c({}):c(d.data)})})}_(l){return new Promise((c,d)=>{chrome.runtime.sendMessage(ghExtensionId,{type:"SET_STORAGE_DATA",data:l},h=>{chrome.runtime.lastError?d(chrome.runtime.lastError):c(h.success)})})}l(){typeof window<"u"?window.addEventListener("storageChange",l=>{this.v(l.detail)}):typeof self<"u"&&self.addEventListener("message",l=>{l.data&&l.data.type==="storageChange"&&this.v(l.data.detail)})}v(l){for(const[c,{newValue:d}]of Object.entries(l))this.i[c]=d}k(l,c){var d;return(d=this.i[l])!=null?d:c}}const extensionStore=new ExtensionStore,_initExtensionStore=n=>__async(void 0,null,function*(){return yield extensionStore.u(n),extensionStore}),ro={I:!1,S:!1,D:!1,q:!1,C:!1,A:!1,P:!1,T:!1,j:!1,M:!1,R:!1,B:!1,U:!1,F:!1,L:!1,O:!1,N:!1,G:!1,H:!1,W:!1,X:!1,V:!1,J:!1,Y:!1,K:null,Z:null,get tt(){return this.J},set tt(n){this.J=n,this.et()},get nt(){return this.Y},set nt(n){this.Y=n,this.et()},get st(){return this.L},set st(n){this.L=n,this.et()},get ot(){return this.N},set ot(n){this.N=n,this.et()},get rt(){return this.O},set rt(n){this.O=n,this.et()},get ct(){return this.F},set ct(n){this.F=n,this.et()},get ut(){return this.U},set ut(n){this.U=n,this.et()},get dt(){return this.j},set dt(n){this.j=n,this.et()},get ht(){return this.R},set ht(n){this.R=n,this.et()},get ft(){return this.B},set ft(n){this.B=n,this.et()},get gt(){return this.M},set gt(n){this.M=n,this.et()},get yt(){return this.S},set yt(n){this.S=n,this.et()},get wt(){return this.I},set wt(n){this.I=n,this.et()},get _t(){return this.T},set _t(n){this.T=n,this.et()},get vt(){return this.P},set vt(n){this.P=n,this.et()},get kt(){return this.D},set kt(n){this.D=n,this.et()},get It(){return this.q},set It(n){this.q=n,this.et()},get St(){return this.C},set St(n){this.C=n,this.et()},get Dt(){return this.A},set Dt(n){this.A=n,this.et()},get qt(){return this.G},set qt(n){this.G=n,this.et()},get Ct(){return this.H},set Ct(n){this.H=n,this.et()},get xt(){return this.W},set xt(n){this.W=n,this.et()},get At(){return this.X},set At(n){this.X=n,this.et()},get Pt(){return this.V},set Pt(n){this.V=n,this.et()},et(n=!1){st.Tt("413fb5101d10271de1a323b",{isAttacking:this.wt,isCheckingQuests:this.yt,isBuyingPack:this.kt,isSellingPack:this.It,isBuyingFood:this.St,isHealing:this.Dt,isTraveling:this.vt,isRotatingItems:this._t,isBuffing:this.dt,isRepairing:this.gt,isSmelting:this.ht,isPickingItems:this.ut,isSellingItems:this.ct,isEquippingCostumes:this.st,isAuction:this.rt,isCheckingSmelting:this.ot,isCheckingMarket:this.qt,isSellingMarket:this.Ct,isActivatingPacts:this.xt,isCheckingShop:this.At,isForging:this.ft,isDice:this.Pt,isProcessingPack:this.nt,isRequestingPack:this.tt,delayStart:this.K,delayDuration:this.Z,isPaused:n})}},errorLog={async log(n){let l=st.jt("logs",[]);Array.isArray(l)||(l=[]);const c={message:n.message,stack:n.stack,name:n.name,time:new Date().toISOString()};l.push(JSON.stringify(c)),l.length>25&&(l=l.slice(-25)),await st.Tt("logs",l)}},invW={async Qt(){invW.Mt(),await invW.Rt()},async Bt(n,l,c,d,h,g){const p={invId:n,x:l,y:c,sizeX:d,sizeY:h,activity:g};await st.Tt("5823122419101f3a1f133",p),invW.Ut()},async Rt(){if(_getSessionValue("startScript",!1)){if(!st.jt("5823122419101f3a1f133",{}).invId)return;await invW.Ft()}else invW.Et(),invW.Ut()},async Ft(){await st.Tt("5823122419101f3a1f133",{}),invW.Lt()},Et(){window.addEventListener("storageChange",n=>{var l;(l=n==null?void 0:n.detail)!=null&&l[st.Ot("5823122419101f3a1f133")]&&invW.Ut()})},Mt(){var n;document.querySelector("#inventory_nav")&&((n=document.querySelector("#inventory_nav"))==null||n.addEventListener("click",l=>{l.target.classList.contains("awesome-tabs")&&this.Ut()}))},Ut(){const n=st.jt("5823122419101f3a1f133",{});if(!n.invId)return invW.Lt();const l=document.querySelector("#inventory_nav .awesome-tabs.current");if(l){if(parseInt(l.getAttribute("data-bag-number")||"-1")!==n.invId)return invW.Lt();invW.Nt()}},Nt(){invW.Lt();const n=st.jt("5823122419101f3a1f133",{}),l=document.querySelector("#inv");if(!l||!n.invId)return;const c=`<div class="blocked" data-content-type="-1" data-content-size="32" data-enchant-type="null" data-price-gold="1" data-price-multiplier="1" data-tooltip="[[[&quot;Gladiatus Helper&quot;,&quot;yellow&quot;],[&quot;Is Working Here ${`(${n.activity})`}&quot;,&quot;Red&quot;]]]" data-comparison-tooltip="null" data-level="1" data-quality="-1" data-hash="c2v-e-1-255s-0-0-0-0-0-0-0-0-0-0-!1-0-0-0" data-amount="1" data-position-x="${n.x+1}" data-position-y="${n.y+1}" data-measurement-x="${n.sizeX}" data-measurement-y="${n.sizeY}"></div>`,d=jQuery(c);d.css({left:32*n.x,top:32*n.y,height:32*n.sizeY,width:32*n.sizeX,position:"absolute",background:"gray"}),d.addClass("loading"),l.appendChild(d[0])},Lt(){document.querySelectorAll(".blocked.loading").forEach(n=>n.remove())}},be={Qt:async(n=1)=>{let l=st.jt(`workbench.itemList${n}`,[]);ro.gt=!0,await st.$t(n),await st.cpsfpi();do{const c=l.pop();await ghh.Gt(),await be.Ht(n,c,!1)&&ghh.logger("Repair successful for item:",c),l=l.filter(d=>d!==c),await st.Tt(`workbench.itemList${n}`,l),await st.Wt(100)}while(l.length>0);ro.gt=!1},Xt:async function(n){ghh.logger("Getting all materials for:",n);const l=await be.Vt();if(ghh.logger("Available materials:",l),Object.keys(l).length===0)return[];const c=parseInt(st.jt("462216d17bd1714132630291a13297c16",1));ghh.logger("Max quality:",c);const d=[];for(const g in n){ghh.logger("Processing material:",g,"required amount:",n[g]);const p=l[g];ghh.logger("Available quality levels for material",g,":",p);let f=0;if(typeof p!="object"||Array.isArray(p))Array.isArray(p)&&(f+=p[0]||0,d.push(p[0]),ghh.logger(`Adding quality level ${p[0]} for material ${g}, current total amount:`,f));else for(let y=-1;y<=c;y++){const m=p[y]||0;if(m>0&&(f+=m,d.push(y),ghh.logger(`Adding quality level ${y} for material ${g}, current total amount:`,f),f>=n[g]))break}f<n[g]&&ghh.logger(`Insufficient amount for material ${g}, required: ${n[g]}, found: ${f}`)}const h=ghh.Jt(d).sort().reverse();return ghh.logger("Unique sorted materials:",h),h},Vt:async()=>{ghh.logger("Fetching available materials from storage.");const n=gh_UrlInfo.link({mod:"forge",submod:"storage"});return st.Yt(await ghh.zt(n)).find("#remove-resource-amount").data("max")},Kt:async(n,l)=>{ghh.logger("Getting repair materials for:",n,"With option:",l),await ghh.Gt();const c=await be.Vt();if(Object.keys(c).length===0)return[];const d=parseInt(st.jt("462216d17bd1714132630291a13297c16",1)),h=st.jt("462216d17bd1714172026171d178fca02d4f1c",gh_defaultIgnoreUWMaterials),g=Object.entries(n).filter(([f])=>!h.includes(parseInt(f))).map(([f,y])=>({id:parseInt(f),amount:parseInt(y)})).sort((f,y)=>f.id-y.id),p=[];for(const f of g){const y=f.id,m=c[y]||{};let b=0;if(typeof m!="object"||Array.isArray(m))Array.isArray(m)&&p.push({material:y,quality:m[0],amount:f.amount});else for(let w=-1;w<=d;w++){const k=m[w]||0;if(k>0){const v=Math.min(l?1:f.amount-b,k);if(b+=v,v>0&&p.push({material:y,quality:w,amount:v}),l&&p.length>0)return ghh.logger("Repair materials (partial):",p),p;if(b===f.amount)break}}}return ghh.logger("Repair materials:",p),p},Zt:()=>{const n=15*ghh.ne()+10,l=st.oe();return ghh.logger("Checking gold for repair. Required:",n,"Current:",l),l>=n},t_him:function(n){const l=st.jt("462216d17bd1714172026171d178fca02d4f1c",gh_defaultIgnoreUWMaterials);for(const c in n)if(l.indexOf(parseInt(c))>-1)return!0;return!1},ce:async(n,l,c)=>{if(ghh.logger("Starting repair for item:",n,"Slot:",l,"Option:",c),!be.Zt())return ghh.logger("Not enough gold for repair.",n),!1;if(ghh.le(n.tooltip)==100)return!1;const d=await be.ue(l,n.itemId);if(ghh.logger("Workbench preview items needed:",d),!d)return await ghh.he("Workbench preview item failed.",n),!1;let h=[],g=!1;if(be.t_him(d)||c){const f=await be.Kt(d,c);if(!f.length)return await ghh.he("No repair materials found.",{itemName:n.itemName??"repairing item"}),!1;g=!1,h=f}else{const f=await be.Xt(d);if(!f.length)return await ghh.he("No repair materials found.",{itemName:n.itemName??"repairing item"}),!1;g=!0,h=f}if(!await be.fe(l,n.itemId))return await ghh.he("Failed to rent workbench slot.",n),!1;if(g)for(const f of h)await ghh.Gt(),await be.pe(l,f);else{const f=be.t_so;for(const y of h)try{await f(y.material,y.quality,y.amount,l,n.positionX,n.positionY,n.containerNumber)}catch(m){await errorLog.log(m)}}await be.me(l),ghh.logger("Forge started for slot:",l);const p=await be.be(l);return ghh.logger("Workbench waiting time:",p),await ghh.Gt(),await new Promise(f=>tiW.ye(f,1e3*p)),await be.we(l),ghh.logger("Item sent from forge to package for slot:",l),await ghh._e(n)},be:async n=>{ghh.logger("Getting workbench waiting time for slot:",n);const l=gh_UrlInfo.link({mod:"forge",submod:"workbench"}),c=await ghh.ve(()=>ghh.zt(l)),d=JSON.parse(c.match(/slotsData\s*=\s*(.*);/)[1])[n],h=d["forge_slots.state"],g=h.indexOf("finished")>-1,p=h==="crafting"?d["forge_slots.finishedIn"]:g?1:0;return ghh.logger("Workbench waiting time for slot:",n,"is",p),p},me:async n=>{ghh.logger("Starting forge for slot:",n);const l=gh_UrlInfo.ajaxLink({mod:"forge",submod:"start",mode:"workbench",slot:n,a:new Date().getTime()+""}),c=await jQuery.post(l);return ghh.logger("Forge start response:",c),c},fe:async(n,l)=>{var h;ghh.logger("Renting workbench slot:",n,"for item:",l),await ghh.Gt();const c=gh_UrlInfo.ajaxLink({mod:"forge",submod:"rent",mode:"workbench",slot:n,rent:"2",item:l,a:new Date().getTime()+""}),d=await jQuery.post(c);return(h=d==null?void 0:d.header)!=null&&h.gold&&st.ke(d.header.gold.text),ghh.logger("Rent workbench slot response:",d),d},pe:async(n,l)=>{ghh.logger("Moving storage to warehouse. Slot:",n,"Quality:",l);const c=gh_UrlInfo.ajaxLink({mod:"forge",submod:"storageToWarehouse",mode:"workbench",slot:n,quality:l,a:new Date().getTime()+""}),d=await jQuery.post(c);return ghh.logger("Storage to warehouse response:",d),d},Ie:async(n,l)=>{ghh.logger("Sending item from forge to package. Mode:",n,"Slot:",l);const c=gh_UrlInfo.ajaxLink({}),d={mod:"forge",submod:"lootbox",mode:n,slot:l,a:new Date().getTime()},h=await jQuery.post(c,d);return ghh.logger("Send item from forge to package response:",h),h},we:async n=>{ghh.logger("Checking if slot is finished and sending to package. Slot:",n);const l=async()=>{const h=await ghh.Se();return JSON.parse(h.match(/slotsData\s*=\s*(.*);/)[1])[n]["forge_slots.state"].indexOf("finished")>-1};let c=0,d=!1;do await ghh.Gt(),c++,d=await l(),ghh.logger("Check if slot is finished. Attempt:",c,"Finished:",d),d||await new Promise(h=>tiW.ye(h,1e3));while(!d&&c<3);if(d){await ghh.Gt();const h=await be.Ie(gh_forgeMode.workbench,n);return ghh.logger("Item sent to package for slot:",n),h}},t_so:async(n,l,c,d,h,g,p)=>{var w;await ghh.Gt(),await st.cpsfpi(),ghh.logger("Moving item from storage to warehouse. Material:",n,"Quality:",l,"Amount:",c,"Slot:",d),await be.De(n,l,c);const f={quality:l,basis:`${gh_itemTypeValues.forgingGoods}-1`},y=await st.qe(f),m=st.Yt(y),b=Array.from(m.find(".packageItem"));for(const k of b){const v=k.querySelector("[data-content-type]");if(st.Ce(v,{amount:c,quality:l,basis:`${gh_itemTypeValues.forgingGoods}-${n}`})){const I=(w=k.querySelector("input"))==null?void 0:w.getAttribute("value"),T=await ghh.xe(I,p,h,g,c);if(T){const _=await be.Ae(d,T.itemId,c);return ghh.logger("Move material to warehouse result:",_),_}}}return!0},De:async(n,l,c)=>{ghh.logger("Moving item out of storage. Type:",n,"Quality:",l,"Amount:",c);const d=gh_UrlInfo.ajaxLink({mod:"forge",submod:"storageOut"}),h={type:n,quality:l,amount:c},g=await jQuery.post(d,h);return ghh.logger("Storage out response:",g),g},Ae:async(n,l,c)=>{ghh.logger("Moving material to warehouse. Slot:",n,"Item ID:",l,"Amount:",c);const d=gh_UrlInfo.ajaxLink({}),h={mod:"forge",submod:"toWarehouse",mode:"workbench",slot:n,iid:l,amount:c,a:new Date().getTime()},g=await jQuery.post(d,h);return ghh.logger("Move material to warehouse response:",g),g},Ht:async(n,l,c)=>{const d={...l};ghh.logger("Starting full repair. Doll ID:",n,"Item:",l,"Option:",c);const h=l.containerNumber,g=l.itemName,p=be.t_dintr;if(!p||!p(l,c))return!1;if(!be.Zt())return await ghh.he("Not enough gold for full repair.",l),!1;const f=await be.Pe();if(f<0)return await ghh.he("No free slots available.",l),!1;const y=st.Te,m=y&&await y(l.measurementX,l.measurementY);if(!m)return await ghh.he("No available item space.",l),!1;await invW.Bt(m.bagId,m.spot.x,m.spot.y,l.measurementX,l.measurementY,"Repairing");const b=m.spot,w=m.bagId;if(!(l=await ghh.je(n,l.containerNumber,w,b.x+1,b.y+1)))return await ghh.he("Failed to move item from character to inventory.",d),!1;l.dollId=n,l.originalContainerNumber=h,l.itemName=g;let k=!1;const v={...l},I=be.ce;do await ghh.Gt(),k=!!(l=await I(l,f,c)),l&&(l.itemName=g);while(k);l=await ghh.Qe(n,v.originalContainerNumber,w,v.positionX,v.positionY),ghh.logger(l);const T=l.itemId!==v.itemId;return await invW.Ft(),ghh.logger("Full repair success:",T),T},Pe:async()=>{ghh.logger("Checking for free slots in workbench.");const n=await ghh.Se(),l=JSON.parse(n.match(/slotsData\s*=\s*(.*);/)[1]),c=[],d=[];for(let g=0;g<6;g++){const p=l[g]["forge_slots.state"],f=p==="closed",y=p.indexOf("finished")>-1;f&&c.push(g),y&&d.push(g)}let h;return c.length>0?h=c[0]:d.length>0?(await be.Ie(gh_forgeMode.workbench,d[0]),h=d[0]):h=-1,ghh.logger("Free slot found:",h),h},ue:async(n,l)=>{ghh.logger("Getting workbench preview for slot:",n,"Item ID:",l);const c=gh_UrlInfo.ajaxLink({mod:"forge",submod:"getWorkbenchPreview",mode:"workbench",slot:n,iid:l,amount:"1",a:new Date().getTime()+""}),d=await ghh.ve(()=>jQuery.post(c)),h=JSON.parse(d),g=h.slots[n].formula.needed,p={};for(const y in g)g[y].amount>0&&(p[parseInt(y.substring(2))]=g[y].amount);const f=!(!h||h.mode!=="workbench")&&p;return ghh.logger("Workbench preview result:",f),f},t_dintr:function(n,l){const c=ghh.le(n.tooltip),d=parseInt(st.jt("462216d17bd171418262bc00",10));return st.jt("58391b62d21a2701a152d8e1b37",{}),n.itemId,l?c==0:l===!1?c<90:c<=d}},lt={Me:(n,l)=>{const c=st.jt("50381092636181d3d1b2b2db",[]).filter(m=>m.active),d=ghh.Re(n),h=st.jt("53221111d1a241b5b3e262b131c",[]),g=st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]).findIndex(m=>m.itemContainerId===d.containerNumber&&!m.ruleId)>-1,p=h.some(m=>m.containerNumber===d.containerNumber),f=+d.level<2,y=[...st.jt("55228a4427171141c",[]),...st.jt("55228a4727171141c",[])];if(g||p||f||y.some(m=>m.itemName==d.itemName&&m.quality==d.quality))return!1;for(const m of c){const b=lt.Be(m.conditions,d.itemName,d.level,n),w=m.types.includes(+d.itemType),k=m.colors.includes(+d.quality);if(b&&w&&k)return!l||(jQuery.extend(!0,d,{useHammer:m==null?void 0:m.useHammer}),lt.Ue(d,m.id))}return!1},Be:function(n,l,c,d){return n.every(h=>ghh.Fe(h,[gh_operators.isNWD,gh_operators.isWD,gh_operators.containsR].includes(h.operator)?d:[gh_operators.greaterThan,gh_operators.lessThan].includes(h.operator)?c:l))},Ue:function(n,l,c){const d=lt.Ee(n,l);let h=st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]);c&&(h=h.filter(y=>y.itemContainerId!=c));const g=[...st.jt("55228a4427171141c",[]),...st.jt("55228a4727171141c",[])],p=h.some(y=>y.itemContainerId==n.containerNumber),f=st.jt("53221111d1a241b5b3e262b131c",[]);return!!p||!p&&!g.some(y=>y.itemName==n.itemName&&y.quality==n.quality)&&!f.some(y=>y.containerNumber==n.containerNumber)&&(h.push(d),st.Tt("42201a1b11d4761a2225b291d373d15a1e30",h),!0)},Ee:function(n,l){return{itemName:n.itemName,itemContainerId:n.containerNumber,timeLeft:n.timeLeft+new Date().getTime(),measurementX:n.measurementX,measurementY:n.measurementY,ruleId:l,itemType:n.itemType,useHammer:n==null?void 0:n.useHammer}},Le:async function(n,l){const c=gh_UrlInfo.ajaxLink({mod:"forge",submod:"rent",mode:"smelting",slot:n,rent:"2",item:l,a:new Date().getTime()+""});return await ghh.ve(()=>jQuery.post(c))},si:async function(n,l){await st.Wt(st.Oe(150,100));const c=await lt.Ne(n,l.itemId);if([2,3].includes(c))return c;const d=be.t_dintr,h=be.Pe,g=await h();if(g<0)return 2;if(l.re&&d&&d(l,!0)){await ghh.Gt(),await st.cpsfpi(),await st.Tt("4128a21c043d1da3127a3c1f202c",l);const p=be.ce,f=await p(l,g,!0);f!==!1&&jQuery.extend(!0,l,f)}return await lt.$e(n,l.useHammer),await lt.Le(n,l.itemId)?1:2},Ge:async function(n){var y;let l=2;const c=st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]).sort((m,b)=>m.timeLeft-b.timeLeft);let d=st.jt("4128a21c043d1da3127a3c1f202c",""),h=0;const g=[...n];for(;g.length>0&&(c.length>h||d);){await ghh.Gt();const m=g[0];if(d){if(l=await lt.si(m,d),l===1){d="",await st.Tt("4128a21c043d1da3127a3c1f202c",""),g.shift();continue}if(l===3){d="",await st.Tt("4128a21c043d1da3127a3c1f202c","");continue}break}if(c.length>0){const b=c[h],w=b.itemContainerId,k=b.measurementX,v=b.measurementY,I=b.useHammer,T=await st.Te(k,v);if(!T){h++;continue}await invW.Bt(T.bagId,T.spot.x,T.spot.y,k,v,"Smelting");const _=await ghh.xe(w,T.bagId,T.spot.x+1,T.spot.y+1,1),x=c.findIndex(C=>C.itemContainerId==w),q=((y=st.jt("50381092636181d3d1b2b2db",[]).find(C=>C.id===b.ruleId))==null?void 0:y.repairBeforeSmelt)??!1;if(c.splice(x,1),_&&!_.error){if(jQuery.extend(!0,_,{useHammer:I,re:q,itemName:b.itemName}),l=await lt.si(m,_),await invW.Ft(),l===1){await st.Tt("42201a1b11d4761a2225b291d373d15a1e30",c),g.shift(),await st.Wt(st.Oe(100,50)),await st.Tt("4128a21c043d1da3127a3c1f202c",""),d="";continue}if(l===2){await st.Tt("4128a21c043d1da3127a3c1f202c",_),d=_,await st.Wt(st.Oe(100,50)),await st.Tt("42201a1b11d4761a2225b291d373d15a1e30",c);break}}await st.Tt("42201a1b11d4761a2225b291d373d15a1e30",c),await invW.Ft()}}const p=ghh.He(),f=new Date().getTime()+5e3/p;return await st.Tt("5f281c12211c1a3261d3d2a2d141b",f),!0},ras:async function(){const n=await lt.We(),l=[],c=[],d=JSON.parse(n.match(/slotsData\s*=\s*(.*);/)[1]);let h=0;for(;h<6;h++){const p=d[h],f=p["forge_slots.state"],y=f.indexOf("finished")>-1,m=f=="closed";f=="crafting"&&c.push(p["forge_slots.finishedIn"]),(y||m)&&l.push({isFinished:y,isEmpty:m,index:h})}if(l.length==0){const p=c.sort((y,m)=>y-m)[0],f=new Date().getTime()+1e3*p;return st.Tt("5f281c12211c1a3261d3d2a2d141b",f)}const g=st.jt("4239b14103c6761a1c242db2e1431ba3c1f21917a0",!0);for(const p of l)p.isFinished&&(g?await lt.Xe(p.index):await lt.Ve(p.index));return await lt.Ge(l.map(p=>p.index))},Ve:async function(n){const l=gh_UrlInfo.ajaxLink({mod:"forge",submod:"lootbox",mode:"smelting",slot:n});return await ghh.ve(()=>ghh.zt(l))},Xe:async function(n){const l={mode:"smelting",slot:n,a:new Date().getTime()+""},c={mod:"forge",submod:"storeSmelted"},d=gh_UrlInfo.ajaxLink(c);return await ghh.ve(()=>jQuery.post(d,{...c,...l}))},We:async function(){const n=gh_UrlInfo.link({mod:"forge",submod:"smeltery"});return await ghh.ve(()=>ghh.zt(n))},Ne:async function(n,l){var g,p;const c=gh_UrlInfo.ajaxLink({mod:"forge",submod:"getSmeltingPreview",mode:"smelting",slot:n,iid:l,amount:"1",a:new Date().getTime()+""}),d=await ghh.ve(()=>jQuery.post(c)),h=JSON.parse(d);if(h&&h.mode=="smelting"&&((p=(g=h.slots[n])==null?void 0:g.formula)!=null&&p.rent[2])){const f=h.slots[n].formula.rent[2],y=h.header.gold.value>=f;return y&&st.ke(h.header.gold.value-f),y?1:2}return 3},$e:async function(n,l){if(!(l!=null&&l.length))return;const c=[512,513,514,515];for(const d of c){await ghh.Gt();const h=await st.Je(d),g=jQuery("<div>").append(st.Yt(h))[0],p=jQuery(g).find(`.item-i-${l}`);if(p.length){const f=p[0].getAttribute("data-container-number"),y=p[0].getAttribute("data-position-x"),m=p[0].getAttribute("data-position-y"),b=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:f,fromX:y,fromY:m,to:773,toX:n+1,toY:1,amount:1,doll:1});return await jQuery.post(b,{a:new Date().getTime()})}}}},lls={Qt:async()=>{ro.gt=!0,await lls.Ye("2","turmaCostumeEquiped","workbench.itemList2"),await lls.Ye("1","arenaCostumeEquiped","workbench.itemList1"),await st.Tt("5f281c1236661722b12b24b",Date.now()+3e5),ro.gt=!1},Ye:async(n,l,c)=>{const d=await st.$t(n);await st.Tt(l,d.find(".avatar")[0].classList.contains("avatar_costume_part"));const h=parseInt(st.jt("462216d17bd171418262bc00",10)),g=[];for(const p of Array.from(d.find("#char .ui-draggable"))){if(!st.ze(p))continue;const f=st.Ke(p);ghh.le(f.tooltip)<=h&&g.push(f)}await st.Tt(c,g),await overview.Ze(n,d.find("#content"))}},es={async ta(){var d,h,g,p;const n=st.jt("592c17331ba661e01c2b2c3b01311b15a",[]),l=[9,10,11],c=await es.ea();for(const f of l)try{const y=((h=(d=c[f-1])==null?void 0:d.querySelector(".costumes_button_single"))==null?void 0:h.getAttribute("onclick"))||((p=(g=c[f-1])==null?void 0:g.querySelector(".costumes_button_active_single"))==null?void 0:p.getAttribute("onclick"));n[f]=!!y}catch(y){await errorLog.log(y)}await st.Tt("592c17331ba661e01c2b2c3b01311b15a",n),await st.Wt(100),await st.Tt("5f281c12366617227f341d3b01311b15a1",Date.now()+60*st.Oe(10,5)*1e3)},async Qt(){var y,m,b,w;ro.st=!0;const n=parseInt(st.jt("52221712036217bb353f171d1e21",9)),l=st.jt("46285142007111b18135241c",!1),c=!es.aa(),d=[9,10,11],h=await es.ea();let g=null,p=!1;for(const k of d)try{const v=(m=(y=h[k-1])==null?void 0:y.querySelector(".costumes_button_single"))==null?void 0:m.getAttribute("onclick");if(v&&!v.includes("dropCostume")&&k===n){p=!0;break}}catch(v){await errorLog.log(v)}if(h.length>0){const k=n-1;if(k>=0&&k<h.length){const v=h[k].querySelector(".costumes_button_single")||h[k].querySelector(".costumes_button_active_single");g=(v==null?void 0:v.getAttribute("onclick"))||null}}if(g&&g.includes("dropCostume"))return await es.na();const f=[];if(l)for(const k of d)try{if(k!==n)continue;const v=(w=(b=h[k-1])==null?void 0:b.querySelector(".costumes_button_single"))==null?void 0:w.getAttribute("onclick");if(v&&!v.includes("dropCostume")&&c){p=!0;const I=k+2;(k===9&&parseInt(es.Cg().sa)<=1||k===10&&parseInt(es.Cg().oa)<=1||k===11)&&f.push({doll:1,setId:I})}}catch(v){await errorLog.log(v)}if(!p){const k=parseInt(st.jt("522217120363681c724",1)),v=parseInt(st.jt("52221712036301c19222716",2));await es.ra(f,h,k,v)}f.length>0?(await es.ia(f),p&&(await st.Wt(500),location.reload(),await st.Wt(600))):await es.na(),ro.st=!1},async ia(n){for(;n.length>0;){const{doll:l,setId:c}=n.pop();if(!(await fetch(gh_UrlInfo.link({mod:"costumes",submod:"changeCostume",doll:l,setId:c}))).ok)break;n.length>0&&Number(c)<9&&await es.ia(n)}await es.na()},async na(){await st.Tt("7225151e2ac1851c",Date.now()+3e5)},async ea(){const n=await ghh.zt(gh_UrlInfo.link({mod:"costumes"}));return jQuery(n).find(".costumes_box")},async ra(n,l,c,d){var p,f;const h=(p=l[c-1])==null?void 0:p.querySelector("#costumes_button_left input"),g=(h==null?void 0:h.getAttribute("onclick"))||"";if(h!=null&&h.classList.contains("disabled")||g.includes("dropCostume")||([12,13].includes(c)?n.push({doll:1,setId:c-3}):n.push({doll:1,setId:c})),d<=8&&c<=8&&c!==d){const y=(f=l[d-1])==null?void 0:f.querySelector("#costumes_button_right input"),m=(y==null?void 0:y.getAttribute("onclick"))||"";y!=null&&y.classList.contains("disabled")||m.includes("dropCostume")||n.push({doll:2,setId:d})}},Cg:()=>({get o(){return parseInt(jQuery("#header_values_hp_percent")[0].innerText)},get gold(){return Number(jQuery("#sstat_gold_val")[0].innerHTML.replace(/\./g,""))},get uj(){return document.querySelector("#cooldown_bar_expedition .cooldown_bar_fill_ready")},get sj(){return document.querySelector("#cooldown_bar_dungeon .cooldown_bar_fill_ready")},get $k(){return document.querySelector("#cooldown_bar_ct .cooldown_bar_fill_ready")},get jk(){return document.querySelector("#cooldown_bar_arena .cooldown_bar_fill_ready")},get sa(){var n;return(n=document.getElementById("expeditionpoints_value_point"))==null?void 0:n.innerText},get ca(){var n;return((n=document.getElementById("cooldown_bar_text_expedition"))==null?void 0:n.innerText)||""},get la(){var n;return((n=document.getElementById("cooldown_bar_text_ct"))==null?void 0:n.innerText)||""},get ua(){var n;return((n=document.getElementById("cooldown_bar_text_arena"))==null?void 0:n.innerText)||""},get da(){var n;return((n=document.getElementById("cooldown_bar_text_dungeon"))==null?void 0:n.innerText)||""},get ha(){return this.ca==="-"||this.la==="-"||this.ua==="-"||this.da==="-"},get fa(){var n;return(n=document.getElementById("dungeonpoints_value_pointmax"))==null?void 0:n.innerText},get oa(){var n;return(n=document.getElementById("dungeonpoints_value_point"))==null?void 0:n.innerText},get Vi(){var n;return parseInt(((n=document.getElementById("sstat_ruby_val"))==null?void 0:n.innerText.replace(/\./g,""))||"0")},Vu(n){const l=document.getElementById("sstat_ruby_val");l&&(l.innerText=n.toString())},get level(){var n;return parseInt(((n=document.getElementById("header_values_level"))==null?void 0:n.innerText)||"0")}}),aa(){if(!st.jt("413f1101001723ce1c12261ca0321a316",!1))return!1;const n=575*pc.ga,l=st.jt("412c11151022a71d",[]).filter(f=>f.active&&!f.omitted),c=new Date,d=new Date;d.setMinutes(c.getMinutes()+n);const h=c.getTime(),g=d.getTime();function p(f,y,m,b){return f<b&&m<y}for(const f of l){const{startTime:y,endTime:m}=f;if(m<Date.now()){const b=new Date(y);b.setDate(c.getDate()+1);const w=new Date(m);if(w.setDate(c.getDate()+1),p(h,g,b.getTime(),w.getTime()))return!0}else if(p(h,g,y,m))return!0}return!1}};class PcP{constructor(){this.pa=[],this.ma=[]}async ba(l,c){let d=1;const h=await ghh.ya(),g=Math.ceil(h/500),p=parseInt(st.jt("43221071b304caa",280));for(;d<=500&&d<=h&&pcp.ma.length<225;){await ghh.Gt();const f=[];for(let m=0;m<c&&d<=500;m++)f.push(this.wa(l,d)),d++;const y=await Promise.all(f);for(const m of y)if(m&&m.stopPageNumber)return(pcp.ma.length>=225?15:1)*Math.max(1,g);await st.Wt(p)}return(pcp.ma.length>=225?15:1)*Math.max(1,g)}async wa(l,c,d=10){var h;try{const g=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:c,submod:"loadMore",f:l,fq:-1}));if(!g||!g.newPackages)throw new Error(`Invalid response for page ${c}`);if(this.pa.includes(c))return;this.pa.push(c);const p=g.newPackages.map(T=>jQuery(T).get(0)),f=st.jt("422883161a610201bb2a3b",[0]),y=st.jt("422883161a610201bb2a3b3b01e2a1cb",[]),m=st.jt("422883161a610201bb2a3b3ae12c1d",["12-1","12-3"]),b=st.jt("422883161a610201bb2a3b2d116201c",!0),w=parseInt(st.jt("5222ba111141a2de1734",3)),k=p.map(T=>this.va(T,f,y,m,b,w)).filter(T=>T);k.length>0&&pcp.ma.push(...k);const v=p[p.length-1];if(+(v&&v.querySelector("[data-ticker-time-left]")?(h=v.querySelector("[data-ticker-time-left]"))==null?void 0:h.getAttribute("data-ticker-time-left"):0)/1e3/60/60>24*w)return{stopPageNumber:c}}catch{return d>0?(await st.Wt(200),this.wa(l,c,d-1)):{}}}async ka(){if(!await pcp.Ia())return;const l=await this.ba("0",5);await this.Sa();const c=54e5;await st.Tt("43221071b30115ad332d1c266203b261c",Date.now()+st.Oe(c/l,c/2/l)),ro._t=!1}async Sa(){const l=await st.Te(2,3);if(!l)return ghh.he("No space in inventory for rotating items",{itemName:"!"});await invW.Bt(l.bagId,l.spot.x,l.spot.y,2,3,"Rotating");const c=parseInt(st.jt("43221071b304caa",280));for(;pcp.ma.length>0;){const d=pcp.ma.shift();try{await st.Wt(c);const h=await pcp.Da(d,l);st.Yt(h).find("#sellForm > input.disabled")[0]&&(await st.Wt(c),await this.qa())}catch(h){await errorLog.log(h)}}return await st.Wt(c),await invW.Ft(),await this.qa()}async qa(){let l=1,c=1;const d=[],h=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:c}),g=await ghh.zt(h);d.push(g),c++;const p=jQuery(st.Yt(g)).find(".standalone")[0];if(p){const f=jQuery(p).text().match(/(\d+)\s*\/\s*(\d+)/);f&&(l=parseInt(f[2],10))}for(;c<=l;){const f=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:c}),y=await ghh.zt(f);d.push(y),c++}for(const f of d)await st.Ca(f,5),await st.Wt(st.Oe(120,80))}va(l,c,d,h,g,p){var _;if(+(((_=l==null?void 0:l.querySelector("[data-ticker-time-left]"))==null?void 0:_.getAttribute("data-ticker-time-left"))??0)/1e3/60/60>24*p)return null;const f=c.includes(0),y=l.querySelector("[data-content-type]"),m=st.Ke(y),b=parseInt(st.xa(m.basis)),w=m.quality,k=m.basis,v=ghh.Aa(y),I=f||c.includes(b)||d.length>0&&d.includes(w)||h.length>0&&h.includes(k)||g&&v,T=m.isGold;return!I||T?null:{containerNumber:m.containerNumber,positionX:m.positionX,positionY:m.positionY,amount:m.amount}}async Da(l,c){if(c){const d={from:"-"+l.containerNumber,fromX:l.positionX,fromY:l.positionY,to:c.bagId,toX:c.spot.x+1,toY:c.spot.y+1,amount:l.amount};await ghh.Gt();const h=(await st.Pa(d)).to.data.itemId;return await st.Wt(70),st.Ta({id:h,price:1})}}async Ia(){const l=gh_UrlInfo.link({mod:"guild"}),c=await ghh.zt(l);if(!st.Yt(c).find("#content").find(".standalone").length)return st.Yt(c).find("#guild_market_div").next()[0].textContent.match(/\((\d+)\)/)[1]}}const pcp=new PcP,uwiv={ja:1,async Qa(){st.jt("522ca200000000",!1)&&(this.Ma(),await this.ba(5))},Ma(){jQuery("#packages").children().detach(),jQuery(".pagination").children().detach()},Ra(n){const l=jQuery(n),c=l.find(".ui-draggable");jQuery("#packages").append(l),DragDrop.makeDraggable(c),c.removeClass("ui-droppable")},async ba(n,l){let c=1;this.ja=await ghh.ya();let d=jQuery("#uwiProgressBar");for(d.length||(d=jQuery('<div id="uwiProgressContainer"><div id="uwiProgressBar"></div></div>'),jQuery(".package-settings").prepend(d),jQuery("#uwiProgressContainer").css({position:"relative",marginTop:"10px",marginBottom:"20px",left:"50%",transform:"translateX(-50%)",width:"100%",height:"10px",backgroundColor:"#ddd",borderRadius:"5px",overflow:"hidden",zIndex:9999}),jQuery("#uwiProgressBar").css({width:"0%",height:"100%",backgroundColor:"#4caf50",transition:"width 0.3s ease-in-out"}));c<=this.ja;){const h=[];for(let g=0;g<n&&c<=this.ja;g++){h.push(this.wa(c,5,l)),c++;const p=c/this.ja*100;jQuery("#uwiProgressBar").css("width",p+"%")}await ghh.Gt(),await Promise.all(h),await st.Wt(120)}jQuery("#uwiProgressBar").css("width","100%"),setTimeout(()=>{jQuery("#uwiProgressContainer").fadeOut(500,()=>{jQuery(this).remove()})},1e3)},async wa(n,l=5,c){try{const d=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:n,submod:"loadMore",...pss.Ba()}));if(!d||!d.newPackages)throw new Error(`Invalid response for page ${n}`);const h=d.newPackages.map(f=>jQuery(f).get(0)),g=jQuery(d.pagination).find(".paging_numbers"),p=g.length?Array.from(g[0].children).pop():null;for(const f of h){const y=f.querySelector("[data-content-type]");ghh.Aa(y)&&this.Ra(f)}this.ja=p?parseInt(p.textContent||"1",10):1}catch{if(l>0)return await st.Wt(400),this.wa(n,l-1,c)}}},maps=n=>{switch(n){case"8":case"5":case"4":case"3":case"2":return"icon-big-size";case"1":return"";default:return"icon-small-size"}},itemClass=n=>n=="1"?"item-i-1-3":n=="3"?"item-i-3-3":n=="12"?"item-i-12-6":`item-i-${/^\d+$/.test(n)?`${n}-1`:n}`,pss={isStopped:!0,isRenewed:!1,shopGridMaps:{},bagNumber:512,spot:{x:1,y:1},pendingItemsForSale:[],processedContainer:[],soldItems:0,automaticallySell:!1,Ua:async function(n){const l=jQuery(n),c=await st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]),d=st.Ke(n),h=c.findIndex(f=>f.itemContainerId==d.containerNumber),g=h>-1;l.toggleClass("burn-selected",!g),g?c.splice(h,1):c.push(lt.Ee(d)),st.Tt("42201a1b11d4761a2225b291d373d15a1e30",c),st.Tt("5f281c12211c1a3261d3d2a2d141b",0);const p=pss.Fa;p&&p()},Ea:async function(n){const l=await st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]);n.forEach(d=>{const h=jQuery(d),g=h.find("[data-content-type]");if(g.length>0){const p=g[0],f=st.ze;if(f&&f(p)&&!g.data("isProcessed")){g.data("isProcessed",!0);const y=-1*parseInt(g.parent().attr("data-container-number")||"0"),m=ghh.Re(p),b=l.some(I=>I.itemContainerId===y&&!I.ruleId),w=lt.Me(p,!0),k=b||w,v=jQuery('<span class="burnable">').attr("id",`burn_${y}_${m.measurementX}_${m.measurementY}`).data(m).attr("timeleft",h.find("[data-ticker-time-left]").attr("data-ticker-time-left")||"0").toggleClass("burn-selected",k);h.append(v),w?ghh.La(v[0],[{text:"This item is matched auto smelting rule. Cannot manually turn it off",color:"#00ff00"}]):v.click("click",async function(){const I=pss.Ua;I&&await I(this)})}else g.data("isProcessed",!0)}});const c=pss.Fa;c&&await c()},Oa:async function(){const n=document.getElementById("packages");if(!n)return;const l=Array.from(n.querySelectorAll(".packageItem"));l.length>0&&await pss.Ea(l),new MutationObserver(c=>{const d=[];for(const h of c)h.type==="childList"&&h.addedNodes.forEach(g=>{g.nodeType===1&&g.classList.contains("packageItem")&&d.push(g)});d.length>0&&pss.Ea(d)}).observe(n,{childList:!0,subtree:!1})},Na:async function(n){const l=pss,c=st.jt("522ca200000000",!1),d=view.$a("Filter UW items",async function(){pss.isStopped=!0,b(),await uwiv.Qa(),m(),pss.isStopped=!1}),h=st.jt("522ca3510b351dc18",!1);n.appendChild(d);const g=view.$a(gh_lang.packages.pickAll,async function(){if(c&&confirm(gh_lang.packages.pickAllConfirmation)){const k=pss.Ga;k&&await k(!0)}});n.appendChild(g);const p=document.createElement("button");p.className="awesome-button",p.textContent=gh_lang.packages.pickSelectedType,p.type="button",jQuery(p).on("click",async function(){if(!c)return;const k=await st.jt("412c7d14965a1aa2222bca1611178a342b173367e",[]).indexOf("14")>-1,v=parseInt(st.jt("412c7d14965a8213226c20142114b342b173367ea13","1000000")),I=gh_lang.packages.pickGoldConfirmation.replace("{maxAmount}",ghh.Ha(v));if(!k||confirm(I)){const T=pss.Ga;T&&await T(!1)}}),n.appendChild(p);const f=view.$a(gh_lang.packages.sendAllResourceToHorreum,async()=>{c&&(await ghh.Wa(),location.reload(),await st.Wt(200))});ghh.ne()>4&&n.appendChild(f);const y=view.$a(gh_lang.packages.sellSelectedTypeToMerchants,async()=>{if(!c)return;b();const k=pss.Xa;k&&await k().then(()=>{m()})});n.appendChild(y);const m=()=>{g.disabled=!pss.isStopped,f.disabled=!pss.isStopped,p.disabled=!pss.isStopped,y.disabled=!pss.isStopped,d.disabled=!pss.isStopped},b=()=>{g.disabled=!0,f.disabled=!0,p.disabled=!0,y.disabled=!0,d.disabled=!0};h||((()=>{const k=[{text:"Need License Key",color:"red"}];ghh.La(g,k),ghh.La(f,k),ghh.La(p,k),ghh.La(y,k),ghh.La(d,k)})(),b());const w=document.createElement("button");w.className="awesome-button",w.textContent=gh_lang.packages.stop,w.type="button",jQuery(w).on("click",()=>{c&&(l.isStopped=!0,ro.ut&&(ro.ut=!1),ro.ct&&tiW.ye(async()=>{await invW.Ft(),location.reload()},10))}),n.appendChild(w)},Va:async function(){const n=document.createElement("h2");n.className="section-header",n.style.cursor="pointer",n.textContent=gh_lang.packages.pickingSectionTitle;const l=await st.jt("412c7d14965a01c3d222bc61d2b2d1731e251510a0",!1),c=document.createElement("section");c.className="package-settings",c.style.display=l?"none":"block",jQuery(n).on("click",async()=>{const I=await st.jt("412c7d14965a01c3d222bc61d2b2d1731e251510a0",!1);c.style.display=I?"block":"none",await st.Tt("412c7d14965a01c3d222bc61d2b2d1731e251510a0",!I)});const d=document.createElement("div");c.appendChild(d),d.className="actions";const h=pss.Na;h&&await h(d);const g=document.getElementsByClassName("contentItem")[0].parentElement;g.parentNode.insertBefore(c,g.nextSibling),g.parentNode.insertBefore(n,g.nextSibling);const p=view.Ja,f=ghh.u_wbf,y=p&&p([...gh_itemTypes,...gh_itemSubTypes].map(I=>({...I,icon:`${maps(I.value)} ${itemClass(I.value)}`})),st.jt("412c7d14965a1aa2222bca1611178a342b173367e",[]),I=>st.Tt("412c7d14965a1aa2222bca1611178a342b173367e",I));c.appendChild(f&&f(y,gh_lang.packages.itemType));const m=view.Ya(st.jt("412c7d14965a1aa2222bca16141b1931b301c2501635acf",[...gh_defaultSelectedQualityForPicking]),I=>st.Tt("412c7d14965a1aa2222bca16141b1931b301c2501635acf",I));c.appendChild(f&&f(m,gh_lang.packages.itemQuality));const b=view.za("amountOfGoldForPicking","textbox");if(b.className="input-gold",b.value=st.jt("412c7d14965a8213226c20142114b342b173367ea13","1000000"),jQuery(b).on("change",function(){st.Tt("412c7d14965a8213226c20142114b342b173367ea13",this.value)}),c.appendChild(view.Ka(gh_lang.global.settings.premium.amountOfGoldForPicking,[b],null,null,null)),st.jt("5c2c1c11a27",!0)){const I=view.za("sellingGoldTarget","textbox");I.className="input-gold",I.value=st.jt("412c7d14965a1aa22b21168352a21c3b1336261b","1000000"),jQuery(I).on("change",function(){st.Tt("412c7d14965a1aa22b21168352a21c3b1336261b",this.value)}),c.appendChild(view.Ka(gh_lang.global.settings.premium.sellingGoldTarget,[I],null,null,null))}let w;const k=view.Za("select"),v=st.jt("4328a323db1b193cb2b2d1b1b17212181b1b2bb",0);for(const I of gh_renewShopOptions)w=view.Za("option",null,null,I.name),w.value=I.value,w.selected=I.value.toString()==v.toString(),k.appendChild(w);jQuery(k).on("change",function(){const I=this.value;st.Tt("4328a323db1b193cb2b2d1b1b17212181b1b2bb",I)}),c.appendChild(view.Ka(gh_lang.global.settings.premium.autoRenewShopOption,[k]))},tn:async function(){const n=await st.jt("4328a323db1b193cb2b2d1b1b17212181b1b2bb",0);if(n==2||n==1&&pss.shopGridMaps.hasClothe){await ghh.an(),pss.isRenewed=!0;const l=ghh.nn;return pss.shopGridMaps=await l(),!0}return!1},Ba:function(){return{qry:jQuery("[name=qry]").val()??"",f:jQuery("[name=f]").val()??0,fq:jQuery("[name=fq]").val()??-1}},Fa:async function(){const n=jQuery("#packages").parent().prev();let l=jQuery("#selectedSmeltSummary");l.length||(l=jQuery('<span id="selectedSmeltSummary">| Auto smelt </span>'),n.append(l));const c=await st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]);let d=jQuery("#totalSelectedItem");d.length||(d=jQuery('<span id="totalSelectedItem">'),l.append(d)),d.html(`- Total selected: ${c.length}`);const h=pss.Fa;let g=jQuery("#lnkSelectAll");g.length||(l.append(jQuery("<span> - </span>")),g=jQuery('<a id="lnkSelectAll" href="javascript:void(0);">Smelt current page</a>'),l.append(g),g.click(async f=>{f.stopPropagation();let y=await st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]);const m=jQuery("span.burnable").not(".burn-selected");for(let w=0;w<m.length;w++){const k=jQuery(m[w]),v=st.Ke(k);k.addClass("burn-selected"),y.push(lt.Ee(v))}const b=[];y=y.filter(w=>{const k=w.itemContainerId;return b.indexOf(k)<0&&(b.push(k),!0)}),await st.Tt("42201a1b11d4761a2225b291d373d15a1e30",y),tiW.ye(()=>{h&&h()},10)}));let p=jQuery("#lnkDeselectAll");p.length||(l.append(jQuery("<span> - </span>")),p=jQuery('<a id="lnkDeselectAll" href="javascript:void(0);">Clear All</a>'),l.append(p),p.click(async f=>{f.stopPropagation(),jQuery("span.burn-selected").toggleClass("burn-selected",!1),await st.Tt("42201a1b11d4761a2225b291d373d15a1e30",[]),await st.Tt("4128a21c043d1da3127a3c1f202c",""),h&&await h()}))},failedAttempts:0,isLast:!1,sn(n,l,c){for(const d of n){const h=lt.Be(d.conditions,l.itemName,l.level,c),g=st.xa(l.basis),p=d.types.includes(+g),f=d.colors.includes(+l.quality);if(h&&p&&f)return!0}return!1},rn:async function(n){if(!n)return;const l=parseInt(st.jt("42288a261e611d",280)),c=await st.jt("412c7d14965a1aa2222bca1611178a342b173367e",[]).filter(j=>j),d=await st.jt("412c7d14965a1aa2222bca1611178a342b173367e",[]).filter(j=>j&&j.indexOf("-")>0).join("|"),h=await st.jt("412c7d14965a1aa2222bca16141b1931b301c2501635acf",gh_defaultSelectedQualityForPicking).filter(j=>j),g=st.jt("412c7d5bf16063cb2b242a1a1e201d",[]).filter(j=>j.active);if(pss.automaticallySell&&!g.length)return!1;const p=await st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]).filter(j=>j),f=await st.jt("53221111d1a241b5b3e262b131c",[]).filter(j=>j),y=n.querySelector("[data-content-type]");if(!y)return;const m=st.cn(y),b=st.ln(y),w=ghh.un(y),k=ghh.dn(y),v=st.hn(y),I=st.Ke(y),T=pss.sn(g,I,y),_=[...st.jt("55228a4427171141c",[]),...st.jt("55228a4727171141c",[])],x=ghh.Aa(y)||ghh.fn(y)||lt.Me(y,!0)||parseInt(w)>2||f.findIndex(j=>j.containerNumber==k)>-1||p.findIndex(j=>j.itemContainerId==k)>-1||pss.processedContainer.includes(k)||_.some(j=>j.itemName==I.itemName&&j.quality==I.quality),q=pss.automaticallySell?!T:gh_itemSubTypesIgnoreSell.indexOf(v)>-1&&d.indexOf(v)<0||c.indexOf(m)<0||h.indexOf(b)<0;if(x||q)return!1;let C;do{await ghh.Gt();const j=pss.gn;if(C=j&&j(y),!C){if(pss.failedAttempts++,pss.pendingItemsForSale.push(n),!(pss.failedAttempts>=60||pss.isLast&&pss.failedAttempts)||pss.automaticallySell)return!1;{const S=pss.tn;if(!await S())return!1;pss.failedAttempts=0}}}while(!C);if(pss.failedAttempts=0,pss.automaticallySell&&(pss.pendingItemsForSale=[]),C){if(await st.Wt(l),!await st.xe(k,pss.bagNumber,pss.spot.x+1,pss.spot.y+1,w))return!1;if(!pss.automaticallySell){const A=jQuery(y).css({left:32*pss.spot.x,top:32*pss.spot.y});A.addClass("selling-item");const D=document.querySelector("#inv");D&&D.appendChild(A[0])}await st.Wt(l);const j=await ghh.pn(pss.bagNumber,pss.spot.x+1,pss.spot.y+1,C.shopContainerId,C.spot.x+1,C.spot.y+1,w);if(jQuery(".selling-item").remove(),!j||j.error)return!1;const S=parseInt(st.jt("412c7d14965a1aa22b21168352a21c3b1336261b","1000000"));if(j&&j.header&&j.header.gold&&jQuery("#sstat_gold_val").text(j.header.gold.text)&&st.jt("5c2c1c11a27",!0)&&j.header.gold.value>S&&!pss.automaticallySell)return await invW.Ft(),location.reload(),await st.Wt(200),!1;pss.soldItems++,pss.processedContainer.push(k)}return!1},Xa:async function(n=!1){if(ro.ct=!0,pss.automaticallySell=n,n){const h=gh_UrlInfo.link({mod:"inventory",sub:3,subsub:1}),g=st.Yt(await ghh.zt(h)),p=new Date().getTime()+parseInt(g.find(".new_inventory_timer_text .ticker").data("ticker-time-left"));await st.Tt("5f281c12217e112f01c142d1433b31b151c",p)}pss.skipItemCount=0,pss.shopGridMaps={};const l=ghh.nn,c=pss.mn,d=await l();await c(d),pss.automaticallySell=!1},bn:async function(n,l){if(!n)return void tiW.ye(()=>{location.reload()},1e3);pss.bagNumber=l,pss.spot=n,pss.lastPageNumber=void 0,pss.automaticallySell||document.querySelector(`[data-bag-number="${l}"]`).click();const c=pss.Ba,d=c&&c();let h=1;await ghh.ya();let g=1;pss.pendingItemsForSale=[];const p=pss.rn,f=async(y,m=10)=>{try{const b=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:y,submod:"loadMore",...d}));if(!b||!b.newPackages)throw new Error(`Invalid response for page ${y}`);if(h==1){const w=jQuery(b.pagination).find(".paging_numbers"),k=w.length?Array.from(w[0].children).pop():null;h=k?parseInt(k.textContent||"1",10):1}return b.newPackages.map(w=>jQuery(w).get(0))}catch{return m>0?(await st.Wt(260),f(y,m-1)):[]}};do{await ghh.Gt(),pss.soldItems=0;const y=[];for(let b=0;b<4;b++)y.push(f(g+b));let m=(await Promise.all(y)).flat(1);await st.Wt(260),m=m.sort((b,w)=>{const k=st.Ke(jQuery(b).find("[data-content-type]")),v=st.Ke(jQuery(w).find("[data-content-type]"));return v.measurementX*v.measurementY-k.measurementX*k.measurementY}),pss.isLast=g===h;for(const b of m)await p(b);if(pss.isRenewed){pss.isRenewed=!1;for(const b of pss.pendingItemsForSale)await p(b);pss.pendingItemsForSale=[]}if(g>h||pss.automaticallySell&&pss.pendingItemsForSale.length>449)break;g=Math.max(1,g+4-Math.floor(pss.soldItems/15))}while(g<=h);ro.ct=!1,pss.isStopped=!0,pss.processedContainer=[]},mn:async function(n){pss.shopGridMaps=n;const l=st.Te,c=pss.bn,d=await l(2,3);await invW.Bt(d.bagId,d.spot.x,d.spot.y,2,3,"Selling"),await c(d.spot,d.bagId),await invW.Ft()},gn:function(n){const l=ghh.yn(n),c=ghh.wn(n);for(const d in pss.shopGridMaps){const h=pss.shopGridMaps[d];if(!isNaN(parseInt(d))&&h.totalSpace>0){const g=st._n(c,l,h.grid);if(g)return h.totalSpace-=l*c,{spot:g,shopContainerId:d}}}return null},Qt:async function(){if(document.getElementById("submenu1")){const n=pss.Va;n&&await n()}},Ga:async function(n){const l=pss;l.isStopped=!1,ro.ut=!0;const c=document.getElementById("inv"),d=st.vn(jQuery(c));let h=40-ghh.kn(d);const g=await st.jt("412c7d14965a1aa2222bca1611178a342b173367e",[]).filter(v=>v),p=await st.jt("412c7d14965a1aa2222bca16141b1931b301c2501635acf",gh_defaultSelectedQualityForPicking).filter(v=>v),f=parseInt(await st.jt("412c7d14965a5a1822243e001571b4","0")),y=parseInt(await st.jt("412c7d14965ae0223e171d222cd13","0")),m=Array.from(document.getElementById("packages").querySelectorAll("[data-content-type]")),b=v=>parseInt(v.getAttribute("data-measurement-x"))*parseInt(v.getAttribute("data-measurement-y")),w=parseInt(await st.jt("412c7d14965a8213226c20142114b342b173367ea13","1000000")),k=m.filter(v=>{const I=st.cn(v),T=st.ln(v),_=parseInt(v.getAttribute("data-level")||"0"),x=v.getAttribute("data-tooltip").match(/\s([\d|.]+)\s<div/),q=ghh.Sn.In(v,d),C=I==="14",j=parseInt(C?v.getAttribute("data-price-gold"):x?x[1].replace(/\./g,""):"99999999999");return(!n&&C&&g.indexOf("14")>-1||q)&&h++,n?!C:g.indexOf(I)>-1&&_>=f&&(C?j<=w:j>=y)&&(C||p.indexOf(T)>-1)}).sort((v,I)=>b(v)-b(I));if(h!==0){let v=Math.min(h,k.length);const I=async function(T){if(await ghh.Gt(),v>0&&!l.isStopped&&T<k.length){const _=k[T];if(_)if(st.cn(_)==="14"){const x=ghh.mgifpti;x&&await x(_,async q=>{q&&(jQuery(_).closest(".packageItem").remove(),v--),await I(T+1)})}else{const x=await ghh.Dn(_,"inv");await st.Wt(200),x&&v--,await I(T+1)}else await I(T+1)}};await I(0)}ro.ut=!1,l.isStopped=!0}},prrs={async Qt(){const n=await ghh.zt(gh_UrlInfo.link({mod:"powerups"})),l=st.Yt(n),c=prrs.qn();await prrs.Cn(l,1,c[1].pact,c[1].allow),await prrs.Cn(l,2,c[2].pact,c[2].allow),await prrs.Cn(l,3,c[3].pact,c[3].allow),await prrs.Cn(l,4,c[4].pact,c[4].allow)},async xn(n,l){const c=gh_UrlInfo.link({mod:"powerups",submod:"activatePowerUp"}),d={activatePowerUpNr:l,activatePowerUpCatNr:n};await ghh.An(c,d)},async Cn(n,l,c,d=0){const h=`#rune${l}_${c}`,g=jQuery(n).find(h);if(!g.length)return!1;if(!prrs.Pn(g))return await prrs.Tn(l,9e5),!1;const p=g.parent().parent(),f=g.attr("onclick")===void 0;if(f){const y=prrs.jn(p);await prrs.Tn(l,y)}else{const y=prrs.Qn(p);if(y)await prrs.Tn(l,y);else{const m=prrs.Mn(p),b=es.Cg().Vi>14;d===1&&m?await prrs.xn(l,c):d===2&&(m||b)&&(await prrs.xn(l,c),!m&&b&&es.Cg().Vu(es.Cg().Vi-15)),await prrs.Tn(l,9e5)}}return f},async Rn(){if(st.jt("592c172710aa183d6322",0)<Date.now()){const n=await ghh.zt(gh_UrlInfo.link({mod:"powerups"})),l=st.Yt(n),c=await prrs.Cn(l,2,5,0);return await st.Tt("592c172710aa18",c),await st.Tt("592c172710aa183d6322",Date.now()+6e4),c}return st.jt("592c172710aa18",!1)},jn(n){const l=jQuery(n).find(".powerup_duration");if(!l.length)return 0;const c=l.text().trim().match(/\d+/g);if(!c||c.length===0)return 0;let d=0;return c.length===3?(d+=864e5*parseInt(c[0],10),d+=36e5*parseInt(c[1],10),d+=6e4*parseInt(c[2],10)):c.length===2?(d+=36e5*parseInt(c[0],10),d+=6e4*parseInt(c[1],10)):c.length===1&&(d+=6e4*parseInt(c[0],10)),d},Mn(n){var c,d;return((d=(c=jQuery(n).find(".powerup_buy_extend")[0])==null?void 0:c.children)==null?void 0:d.length)===2},Qn(n){const l=jQuery(n).find(".powerup_cooldown .ticker[data-ticker-time-left]");if(l.length>0){const c=parseInt(l.attr("data-ticker-time-left"),10);if(!isNaN(c))return c}return 0},async Tn(n,l){const c=prrs.qn();c[n].time=Date.now()+l+26e3,await st.Tt("412c71263d601d60203b",c)},qn:()=>st.jt("412c71263d601d60203b",{1:{time:0,allow:0,pact:1},2:{time:0,allow:0,pact:5},3:{time:0,allow:0,pact:2},4:{time:0,allow:0,pact:4}}),Bn(){const n=Date.now(),l=prrs.qn();for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)&&l[c].time<n&&l[c].allow>0)return!0;return!1},Pn(n){switch(n){case 3:return es.Cg().Vi>19;case 4:return es.Cg().Vi>39;case 5:return es.Cg().Vi>59;default:return!0}}},gh={async Un(n=!1){let l=1,c=1;const d=st.jt("50218922316181d61e2b2d28e112e1d",!1),h=parseFloat(st.jt("412c7d261e611d",4)),g=parseFloat(st.jt("5c24a211a27248c5429162d73c",1e5)),p=parseFloat(st.jt("5c2c1c211a27248c5429162d73c",9e6)),f=n?st.jt("41386a1cd301153b3561921736",[]):st.jt("5638da113d6185a1c92915a1",[]),y=n?st.jt("41386a1cd301b1c32026251d1c",[]):st.jt("5638da113dc1521f2a2db",[]),m=st.jt("412c7d337f0c1d2c3e","d");let b=st.Fn();await st.cpsfpi();do{const w=gh_UrlInfo.link({mod:n?"market":"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:m,p:l});await ghh.Gt();const k=await ghh.zt(w),v=jQuery(st.Yt(k)).find("#market_table")[0],I=jQuery(st.Yt(k)).find(".standalone")[0];if(!v)return void(ro.kt=!1);if(I){const Q=jQuery(I).text().match(/(\d+)\s*\/\s*(\d+)/);Q&&(c=parseInt(Q[2],10))}const T=Array.from(v.querySelectorAll("input[name=buyid]")),_=Array.from(v.querySelectorAll("input[name=qry]")),x=Array.from(v.querySelectorAll("input[name=seller]")),q=Array.from(v.querySelectorAll("input[name=f]")),C=Array.from(v.querySelectorAll("input[name=fl]")),j=Array.from(v.querySelectorAll("input[name=fq]")),S=Array.from(v.querySelectorAll("input[name=s]")),A=Array.from(v.querySelectorAll("input[name=p]")),D=Array.from(v.querySelectorAll("tr"));let B=st.jt("53221111d1a241b5b3e262b131c",[]);for(let Q=1;Q<D.length&&!(b<g);Q++){await ghh.Gt();const N=D[Q].children,R=st.En(N[2].innerText.trim()),L=D[Q].querySelector("input[name=buy]");if(!L||L.disabled||b<R||R<g||R>p)continue;const U=N[1].innerText.trim();if(f.length&&!f.includes(U))continue;const F=N[0].querySelector("[data-content-type]"),O=st.Ke(F);if(y.length&&!y.includes(O.soulTo))continue;delete O.tooltip,jQuery.extend(!0,O,{id:st.Ln(),seller:U,packAmount:R,itemName:st.On(F),time:st.Nn(),market:n?"market":"guildMarket"});const G={buyid:T[Q-1].value,qry:_[Q-1].value,seller:x[Q-1].value,f:q[Q-1].value,fl:C[Q-1].value,fq:j[Q-1].value,s:S[Q-1].value,p:A[Q-1].value,buy:"Buy"};if(await st.$n(G,O.market)){let Y=0;do await ghh.Gt(),O.containerNumber=await st.Gn(O),Y++;while(Y<3&&O.containerNumber===0);if(O.isError=O.containerNumber===0,B.push(O),await st.Tt("53221111d1a241b5b3e262b131c",B),await st.Hn(h),await st.Wt(100),ro.It=!0,ro.kt=!1,await gh.Wn(),ro.kt=!0,ro.It=!1,B=st.jt("53221111d1a241b5b3e262b131c",[]),b=st.Fn(),!d)return void(ro.kt=!1)}}l++}while(l<=c&&b>g);await st.Xn(),ro.kt=!1},async Wn(){var f;await ghh.Gt();const n=st.jt("53221111d1a241b5b3e262b131c",[]),l=parseFloat(st.jt("412c7d261e611d",4)),c=n.filter(y=>y&&!y.isError),d=parseInt(st.jt("412c7d311b11151d6129",3)),h=d!==4||await prrs.Rn()?d:3,g=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1});let p=st.Yt(await ghh.zt(g)).find("#sellForm > input.disabled")[0];if(c.length===0||p)return st.Tt("42288a25f01ff1a1a323a1d2b1331b",Date.now()+12e4);for(const y of c){await ghh.Gt();const m=n.indexOf(y);if(st.Vn(y.packAmount,h)||p)c.length===1&&await st.Tt("42288a25f01ff1a1a323a1d2b1331b",Date.now()+6e4);else{try{const b=await st.Te(y.measurementX,y.measurementY);await invW.Bt(b.bagId,b.spot.x,b.spot.y,y.measurementX,y.measurementY,"Hide Gold");const w=await st.xe(y.containerNumber,b.bagId,b.spot.x+1,b.spot.y+1,y.amount);if(w!=null&&w.header&&headerObject.update(w),(f=w==null?void 0:w.to)==null?void 0:f.data){await st.Hn(l),await st.Wt(100);const k=await st.Jn(w.to.data.itemId,y.packAmount,h,y.market??"guildMarket");p=st.Yt(k).find("#sellForm > input.disabled")[0],k?(n.splice(m,1),await st.Tt("53221111d1a241b5b3e262b131c",n)):(y.isError=!0,await st.Tt("53221111d1a241b5b3e262b131c",n))}else y.isError=!0,await st.Tt("53221111d1a241b5b3e262b131c",n)}catch{y.isError=!0,await st.Tt("53221111d1a241b5b3e262b131c",n)}await invW.Ft()}}p&&await st.Tt("42288a25f01ff1a1a323a1d2b1331b",Date.now()+12e4)},async Yn(){const n=st.jt("592403321f10281ad3321171263c1e1d",[9,6,12,15,11]),l=parseInt(st.jt("592403321f10281ad33211713f2c0281d1b270",1e3)),c=[];for(const d of n)c.push(gh_UrlInfo.link({mod:"auction",itemType:d})),d<10&&c.push(gh_UrlInfo.link({mod:"auction",itemType:d,ttype:3}));for(const d of c){const h=await gh.zn(d);if(!h)return;const g=Array.from(st.Yt(h).find(".auction_bid_div")),p=Array.from(st.Yt(h).find(".auction_item_div")),f=st.Fn(),y=[];for(let m=0;m<g.length;m++){const b=g[m],w=p[m],k=parseFloat(jQuery(b).find("[name=bid_amount]").val());if(k<l)continue;const v=jQuery(w).find("[data-content-type]").attr("data-tooltip");if(!v)continue;const I=parseFloat(v.match(/\s([\d|.]+)\s<div/)[1].replace(/\./g,"")),T=k+5*k/100,_=jQuery(b).find("[name=bid]");if(f>=k&&(k===I||k===I-1||T<I+10)){const x=jQuery(b).parent(),q=x.attr("action"),C=x.find("[type=hidden]"),j={bid:"Bid",bid_amount:k};C.each((S,A)=>{j[A.getAttribute("name")]=A.getAttribute("value")}),y.push({gold:k,btnBid:_,data:j,actionUrl:q})}}y.length!==0&&(y.sort((m,b)=>b.gold-m.gold),await gh.Kn(y,f))}await st.Xn(),ro.kt=!1},async zn(n){try{const l=await ghh.zt(n);return jQuery(l).find("#auction_table")}catch{return null}},async Kn(n,l){let c=l;for(const d of n){if(d.gold>c)return await st.Xn(),void(ro.kt=!1);try{await ghh.An(d.actionUrl,d.data),c-=d.gold,st.ke((c+st.Zn()).toLocaleString("de-DE")),await st.Wt(50)}catch{}}},ts(n){const l=jQuery(n).find(".training_link").slice(0,6).map((d,h)=>{const g=jQuery(h),p=st.En(g.find(".training_costs").text()),f=g.find("a[href]").attr("href");return{stat:gh_characterStats[d+1],cost:p,trainUrl:f}}).get(),c=st.jt("423951263ac201be729",0);return c>0?l[c-1]:l.sort((d,h)=>h.cost-d.cost).pop()},async ns(){const n=gh_UrlInfo.link({mod:"training"}),l=st.jt("5c24a211a272063b1c262116",0),c=await ghh.zt(n),d=gh.ts(c);if(await st.Tt("5c24a211a272063b1c262116",(d==null?void 0:d.cost)??0),!(st.Fn()>=l&&d&&d.trainUrl))return await st.Xn(),void(ro.kt=!1);{const h=await ghh.zt(d.trainUrl),g=st.Yt(h);st.ke(g.find("#sstat_gold_val")[0].textContent)}return ro.kt=!1},async ss(n){if(st.Fn()<1)return;const l=gh_UrlInfo.link({mod:"guildBankingHouse",submod:"donate"}),c={donation:n||st.Fn(),doDonation:"Donate"},d=await ghh.An(l,c),h=st.Yt(d);st.ke(h.find("#sstat_gold_val")[0].textContent),ro.kt=!1},async os(){const n=await ghh.rs();let l=st.oe();const c=n.sort((d,h)=>parseInt(h.priceGold)-parseInt(d.priceGold));for(const d of c){const h=d.amount,g=Math.min(Math.floor(l/d.priceGold),h);if(!g)continue;const p=await st.Te(d.measurementX,d.measurementY),f=p==null?void 0:p.spot,y=p.bagId;if(!f)continue;const m=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:d.containerNumber,fromX:d.positionX,fromY:d.positionY,to:y,toX:f.x+1,toY:f.y+1,amount:g,doll:1}),b=gh_UrlInfo.queries.sh??secureHash,w=await jQuery.post(m,{a:new Date().getTime(),sh:b}),k=ghh.cs(w);if(!k||!k.to)continue;const v=k.to.data.itemId;st.ke(k.header.gold.text),await st.Wt(120),await st.Jn(v,1,1);const I=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"p",p:1}),T=await ghh.zt(I);await st.Ca(T),l-=g*d.priceGold}await st.Xn(),ro.kt=!1}},_enemyUnknown="enemy_unknown",ld={async Qt(){ro.wt=!0,st.jt("442303719c65b23282c1d",gh_underworldFarmingMode.costume)===gh_underworldFarmingMode.costume?await ld.ls():(st.jt("572c16b241b671d",!0)&&(st.jt("5039107165200",!1)||await st.Tt("5039107165200",!0),st.jt("403811511d",!1)||await st.Tt("403811511d",!0)),await ld.ds()),ro.wt=!1},hs(n){switch(n){case"Normal":default:return 9;case"Medium":return 10;case"Hard":return 11}},async ls(){const n=ld.fs();if(n)if(location.href.includes(n)){const l=ld.gs(),c=ld.ps(),d=st.jt("50218923b1011240c2e24111c13317171",!1),h=st.jt("5435d123a02d1b3907293cb",!0);l===0&&d?await ld.bs():l>0||c?await ld.ys(n):h&&(location.href=gh_UrlInfo.link({mod:"underworld",submod:"exit"}))}else location.href=ld.ws(n)},async ds(){const n=st.jt("442303722c1781b7282631b",0);if(!ld._s()||!st.jt("572c16b3811",!1))return void await ld.ls();const l=ld.fs();if(!l)return;const c=parseInt(l.match(/&loc=(\d)&/)[1]),d=Math.min(n,c),h=gh_UrlInfo.link({mod:"location",loc:d});if(location.href.includes("mod=location")&&location.href.includes(`loc=${d}`)){const g=ld.gs(),p=ld.ps(),f=st.jt("50218923b1011240c2e24111c13317171",!1),y=st.jt("5435d123a02d1b3907293cb",!0);if(g===0&&f)await ld.bs();else if(g>0||p){if(g<1&&!ld.vs(d))return void await ld.ls();await ld.ks(n)}else y&&(location.href=gh_UrlInfo.link({mod:"underworld",submod:"exit"}))}else location.href=h},fs(){var l,c;return((c=Array.from(((l=document.querySelector("#submenu2"))==null?void 0:l.querySelectorAll("a"))||[]).pop())==null?void 0:c.getAttribute("href"))||null},gs(){var l,c;const n=(c=(l=document.querySelector("#expeditionpoints_value"))==null?void 0:l.textContent)==null?void 0:c.match(/(\d+)\s\/\s(\d)+/);return n?parseInt(n[1]):0},async bs(){const n=gh_UrlInfo.link({mod:"premium",submod:"inventory"}),l=await ghh.zt(n),c=st.Yt(l),d=Array.from(c.find(".premium_activate_button:not(:disabled)")).filter(h=>h.getAttribute("onclick").match(/&feature=5&/gi)).pop();if(d){const h=d.getAttribute("onclick").match(/token=(\d+)/)[1];location.href=gh_UrlInfo.link({mod:"premium",submod:"inventoryActivate",feature:5,token:h})}else await st.Tt("50218923b1011240c2e24111c13317171",!1),location.reload(),await st.Wt(200)},async ys(submenuLink){var n,l;const expeditionPoints=ld.gs(),attackDisPaterAsap=st.jt("5039107165271d1a3ff332da2e1241e",!0),dontAttackDisPater=st.jt("442303719c65b23282c1d",gh_underworldFarmingMode.costume)==gh_underworldFarmingMode.item&&ld._s(),loc=submenuLink.match(/&loc=(\d)&/)[1],isLocation3=loc=="3",expeditionBoxes=Array.from(document.querySelectorAll(".expedition_box"));let selectedBoxIndex=-1;for(const c of expeditionBoxes){if((l=(n=c.querySelector("img"))==null?void 0:n.getAttribute("src"))!=null&&l.includes(_enemyUnknown))break;selectedBoxIndex++}if(isLocation3&&!attackDisPaterAsap&&expeditionPoints>1&&(selectedBoxIndex=Math.min(selectedBoxIndex,2)),dontAttackDisPater&&isLocation3&&selectedBoxIndex==3)return st.Tt("4423037206c1d2e1a33291b4",Date.now()+12e4);await ld.Is(),await ld.Ss(selectedBoxIndex),loc!="0"||selectedBoxIndex||await ld.Ds();const res=await ld.qs(loc,selectedBoxIndex+1,!(ld.gs()>0),"&value=10");await ld.Cs(),res&&eval(res),await st.Wt(400)},async ks(locationId){var n,l;const opponentId=st.jt("44230372113461b293c31b",1),expeditionBoxes=Array.from(document.querySelectorAll(".expedition_box"));let selectedBoxIndex=-1;for(const c of expeditionBoxes){if((l=(n=c.querySelector("img"))==null?void 0:n.getAttribute("src"))!=null&&l.includes(_enemyUnknown))break;selectedBoxIndex++}locationId&&(selectedBoxIndex=Math.min(selectedBoxIndex,opponentId-1)),await ld.Ss(selectedBoxIndex),await ld.Is(),locationId!=0||selectedBoxIndex||await ld.Ds();const res=await ld.qs(locationId,selectedBoxIndex+1,!(ld.gs()>0),"&value=10");await ld.Cs(),res&&eval(res),await st.Wt(400)},ws(n){const l=gh_UrlInfo.link({});return l.substr(0,l.indexOf("index"))+n},_s(){const n=Date.now();return ld.xs()>n},xs(){const n=9.6-st.jt("4423037232c3a1bf3e",9),l=Date.now()-pc.ga*n*60*60*1e3;let c=0;const d=document.querySelectorAll(".buff-clickable")??[];for(const h of d)if(h.getAttribute("data-link")===`index.php?mod=location&sh=${secureHash}`){c=1e3*parseInt(h.getAttribute("data-effect-end"));break}return c+l},vs(n){const l=18-(4*(n+1)-4),c=st.jt("4423037232c3b1ac3e",10)-st.jt("44230373b1011d3d1b2531",0);return Math.max(c,es.Cg().Vi)>l},async Is(){if(ld.gs()>0)return;const n=st.jt("44230373b1011d3d1b2531",0);await st.Tt("44230373b1011d3d1b2531",n+1)},ps(){if(!st.jt("50218923b10113b1ac3e",!1))return!1;const n=st.jt("4423037232c3b1ac3e",10);return st.jt("44230373b1011d3d1b2531",0)<=n&&es.Cg().Vi},As:()=>st.jt("44230373f16111a1b3c32241d1c",[{conditions:[{operator:15,value:""}],type:3,active:!0,id:12,pickIfInactive:!0,title:"Under Quest"},{conditions:[{operator:15,value:""}],type:1,active:!0,id:123,pickIfInactive:!0,title:"Under Quest"}]),async Ds(){if(!await st.jt("443a2a922b2461",!1))return;const n=await st.Te(2,3);if(!n)return;const l=n.spot,c=n.bagId,d=await ghh.je(1,3,c,l.x+1,l.y+1);d.s=c,await st.Tt("443a333141ec1a",d)},async Cs(){const n=await st.jt("443a333141ec1a",null);n&&(await ghh.Qe(1,3,n.s,n.positionX,n.positionY),await st.Tt("443a333141ec1a",null))},async qs(n,l,c,d){d===void 0&&(d=""),jQuery("#errorRow").css({display:"none"});const h=await st.Ps("get","ajax.php","mod=location&submod=attack&location="+n+"&stage="+l+d+"&premium="+c);return h.success?h.context:(n.reload(),await st.Wt(500),!1)},Ss:async n=>st.jt("592c172410f17117297353bc202",!1)?(await st.Tt("443a333141ec1a",null),!0):(n>0&&(await st.Tt("592c172410f17117297353bc202",!0),await st.Tt("443a333141ec1a",null),location.reload(),await st.Wt(1500)),!1)},rk={async Qt(n=!1){const l=st.jt("462216d26bf11a1bb23",{type:2,duration:1});await ghh.An(gh_UrlInfo.link({mod:"work",submod:"start"}),{dollForJob7:1,timeToWork:l.duration,jobType:l.type}),await st.Tt("5f281c123666172291351f171d19",Date.now()+25e3+60*l.duration*60*1e3/(5/pc.ga)),await st.Wt(2e3),n&&(location.reload(),await st.Wt(500))}};class ProgressBarManager{constructor(){typeof Worker<"u"?this.Ts=this.js():this.Ts=null,this.Qs={},this.Ms={}}js(){try{const l=new Blob([`
      const timers = {};
      self.onmessage = function(event) {
        const { type, id, interval } = event.data;

        if (type === 'start') {
          timers[id] = setInterval(() => {
            self.postMessage({ type: 'tick', id });
          }, interval);
        }

        if (type === 'stop') {
          clearInterval(timers[id]);
          delete timers[id];
        }
      };
    `],{type:"application/javascript"}),c=URL.createObjectURL(l);return new Worker(c)}catch{return null}}Rs(l,c){this.Qs[l].end=c}Bs(l,c,d,h=1e3){this.Qs[l]={id:l,start:c,now:c,end:d,interval:h},this.Ts?(this.Ts.postMessage({type:"start",id:l,interval:h}),this.Ts.onmessage=g=>{g.data.type==="tick"&&this.Qs[g.data.id]&&(this.Qs[g.data.id].now++,this.Us(g.data.id))}):this.Ms[l]=window.setInterval(()=>{this.Qs[l].now++,this.Us(l)},h)}Us(l){const c=this.Qs[l];c&&c.now>=c.end&&this.Fs(l)}Fs(l){this.Ts?this.Ts.postMessage({type:"stop",id:l}):this.Ms[l]&&(clearInterval(this.Ms[l]),delete this.Ms[l])}}const pbm=new ProgressBarManager;var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.Es&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.Es)return n;var l=n.default;if(typeof l=="function"){var c=function d(){return this instanceof d?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};c.prototype=l.prototype}else c={};return Object.defineProperty(c,"Es",{value:!0}),Object.keys(n).forEach(function(d){var h=Object.getOwnPropertyDescriptor(n,d);Object.defineProperty(c,d,h.get?h:{enumerable:!0,get:function(){return n[d]}})}),c}var cryptoJs={exports:{}};function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,core.exports=function(){var n=n||function(l,c){var d;if(typeof window<"u"&&window.crypto&&(d=window.crypto),typeof self<"u"&&self.crypto&&(d=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(d=globalThis.crypto),!d&&typeof window<"u"&&window.msCrypto&&(d=window.msCrypto),!d&&commonjsGlobal!==void 0&&commonjsGlobal.crypto&&(d=commonjsGlobal.crypto),!d&&typeof commonjsRequire=="function")try{d=require$$0}catch{}var h=function(){if(d){if(typeof d.getRandomValues=="function")try{return d.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof d.randomBytes=="function")try{return d.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},g=Object.create||function(){function _(){}return function(x){var q;return _.prototype=x,q=new _,_.prototype=null,q}}(),p={},f=p.lib={},y=f.Base={extend:function(_){var x=g(this);return _&&x.mixIn(_),x.hasOwnProperty("init")&&this.init!==x.init||(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},m=f.WordArray=y.extend({init:function(_,x){_=this.words=_||[],this.sigBytes=x!=c?x:4*_.length},toString:function(_){return(_||w).stringify(this)},concat:function(_){var x=this.words,q=_.words,C=this.sigBytes,j=_.sigBytes;if(this.clamp(),C%4)for(var S=0;S<j;S++){var A=q[S>>>2]>>>24-S%4*8&255;x[C+S>>>2]|=A<<24-(C+S)%4*8}else for(var D=0;D<j;D+=4)x[C+D>>>2]=q[D>>>2];return this.sigBytes+=j,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=l.ceil(x/4)},clone:function(){var _=y.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],q=0;q<_;q+=4)x.push(h());return new m.init(x,_)}}),b=p.enc={},w=b.Hex={stringify:function(_){for(var x=_.words,q=_.sigBytes,C=[],j=0;j<q;j++){var S=x[j>>>2]>>>24-j%4*8&255;C.push((S>>>4).toString(16)),C.push((15&S).toString(16))}return C.join("")},parse:function(_){for(var x=_.length,q=[],C=0;C<x;C+=2)q[C>>>3]|=parseInt(_.substr(C,2),16)<<24-C%8*4;return new m.init(q,x/2)}},k=b.Latin1={stringify:function(_){for(var x=_.words,q=_.sigBytes,C=[],j=0;j<q;j++){var S=x[j>>>2]>>>24-j%4*8&255;C.push(String.fromCharCode(S))}return C.join("")},parse:function(_){for(var x=_.length,q=[],C=0;C<x;C++)q[C>>>2]|=(255&_.charCodeAt(C))<<24-C%4*8;return new m.init(q,x)}},v=b.Utf8={stringify:function(_){try{return decodeURIComponent(escape(k.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return k.parse(unescape(encodeURIComponent(_)))}},I=f.BufferedBlockAlgorithm=y.extend({reset:function(){this.Ls=new m.init,this.Os=0},Ns:function(_){typeof _=="string"&&(_=v.parse(_)),this.Ls.concat(_),this.Os+=_.sigBytes},ka:function(_){var x,q=this.Ls,C=q.words,j=q.sigBytes,S=this.blockSize,A=j/(4*S),D=(A=_?l.ceil(A):l.max((0|A)-this.$s,0))*S,B=l.min(4*D,j);if(D){for(var Q=0;Q<D;Q+=S)this.Gs(C,Q);x=C.splice(0,D),q.sigBytes-=B}return new m.init(x,B)},clone:function(){var _=y.clone.call(this);return _.Ls=this.Ls.clone(),_},$s:0});f.Hasher=I.extend({cfg:y.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){I.reset.call(this),this.Hs()},update:function(_){return this.Ns(_),this.ka(),this},finalize:function(_){return _&&this.Ns(_),this.Ws()},blockSize:16,Xs:function(_){return function(x,q){return new _.init(q).finalize(x)}},Vs:function(_){return function(x,q){return new T.HMAC.init(_,q).finalize(x)}}});var T=p.algo={};return p}(Math);return n}()),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,x64Core.exports=function(n){return d=(c=n).lib,h=d.Base,g=d.WordArray,(p=c.x64={}).Word=h.extend({init:function(f,y){this.high=f,this.low=y}}),p.WordArray=h.extend({init:function(f,y){f=this.words=f||[],this.sigBytes=y!=l?y:8*f.length},toX32:function(){for(var f=this.words,y=f.length,m=[],b=0;b<y;b++){var w=f[b];m.push(w.high),m.push(w.low)}return g.create(m,this.sigBytes)},clone:function(){for(var f=h.clone.call(this),y=f.words=this.words.slice(0),m=y.length,b=0;b<m;b++)y[b]=y[b].clone();return f}}),n;var l,c,d,h,g,p}(requireCore())),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,libTypedarrays.exports=function(n){return function(){if(typeof ArrayBuffer=="function"){var l=n.lib.WordArray,c=l.init,d=l.init=function(h){if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),(h instanceof Int8Array||typeof Uint8ClampedArray<"u"&&h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array||h instanceof Float64Array)&&(h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),h instanceof Uint8Array){for(var g=h.byteLength,p=[],f=0;f<g;f++)p[f>>>2]|=h[f]<<24-f%4*8;c.call(this,p,g)}else c.apply(this,arguments)};d.prototype=l}}(),n.lib.WordArray}(requireCore())),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,encUtf16.exports=function(n){return function(){var l=n,c=l.lib.WordArray,d=l.enc;function h(g){return g<<8&4278255360|g>>>8&16711935}d.Utf16=d.Utf16BE={stringify:function(g){for(var p=g.words,f=g.sigBytes,y=[],m=0;m<f;m+=2){var b=p[m>>>2]>>>16-m%4*8&65535;y.push(String.fromCharCode(b))}return y.join("")},parse:function(g){for(var p=g.length,f=[],y=0;y<p;y++)f[y>>>1]|=g.charCodeAt(y)<<16-y%2*16;return c.create(f,2*p)}},d.Utf16LE={stringify:function(g){for(var p=g.words,f=g.sigBytes,y=[],m=0;m<f;m+=2){var b=h(p[m>>>2]>>>16-m%4*8&65535);y.push(String.fromCharCode(b))}return y.join("")},parse:function(g){for(var p=g.length,f=[],y=0;y<p;y++)f[y>>>1]|=h(g.charCodeAt(y)<<16-y%2*16);return c.create(f,2*p)}}}(),n.enc.Utf16}(requireCore())),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,encBase64.exports=function(n){return function(){var l=n,c=l.lib.WordArray;function d(h,g,p){for(var f=[],y=0,m=0;m<g;m++)if(m%4){var b=p[h.charCodeAt(m-1)]<<m%4*2|p[h.charCodeAt(m)]>>>6-m%4*2;f[y>>>2]|=b<<24-y%4*8,y++}return c.create(f,y)}l.enc.Base64={stringify:function(h){var g=h.words,p=h.sigBytes,f=this.Js;h.clamp();for(var y=[],m=0;m<p;m+=3)for(var b=(g[m>>>2]>>>24-m%4*8&255)<<16|(g[m+1>>>2]>>>24-(m+1)%4*8&255)<<8|g[m+2>>>2]>>>24-(m+2)%4*8&255,w=0;w<4&&m+.75*w<p;w++)y.push(f.charAt(b>>>6*(3-w)&63));var k=f.charAt(64);if(k)for(;y.length%4;)y.push(k);return y.join("")},parse:function(h){var g=h.length,p=this.Js,f=this.Ys;if(!f){f=this.Ys=[];for(var y=0;y<p.length;y++)f[p.charCodeAt(y)]=y}var m=p.charAt(64);if(m){var b=h.indexOf(m);b!==-1&&(g=b)}return d(h,g,f)},Js:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64}(requireCore())),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,encBase64url.exports=function(n){return function(){var l=n,c=l.lib.WordArray;function d(h,g,p){for(var f=[],y=0,m=0;m<g;m++)if(m%4){var b=p[h.charCodeAt(m-1)]<<m%4*2|p[h.charCodeAt(m)]>>>6-m%4*2;f[y>>>2]|=b<<24-y%4*8,y++}return c.create(f,y)}l.enc.Base64url={stringify:function(h,g){g===void 0&&(g=!0);var p=h.words,f=h.sigBytes,y=g?this.zs:this.Js;h.clamp();for(var m=[],b=0;b<f;b+=3)for(var w=(p[b>>>2]>>>24-b%4*8&255)<<16|(p[b+1>>>2]>>>24-(b+1)%4*8&255)<<8|p[b+2>>>2]>>>24-(b+2)%4*8&255,k=0;k<4&&b+.75*k<f;k++)m.push(y.charAt(w>>>6*(3-k)&63));var v=y.charAt(64);if(v)for(;m.length%4;)m.push(v);return m.join("")},parse:function(h,g){g===void 0&&(g=!0);var p=h.length,f=g?this.zs:this.Js,y=this.Ys;if(!y){y=this.Ys=[];for(var m=0;m<f.length;m++)y[f.charCodeAt(m)]=m}var b=f.charAt(64);if(b){var w=h.indexOf(b);w!==-1&&(p=w)}return d(h,p,y)},Js:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",zs:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),n.enc.Base64url}(requireCore())),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,md5.exports=function(n){return function(l){var c=n,d=c.lib,h=d.WordArray,g=d.Hasher,p=c.algo,f=[];(function(){for(var v=0;v<64;v++)f[v]=4294967296*l.abs(l.sin(v+1))|0})();var y=p.MD5=g.extend({Hs:function(){this.Ks=new h.init([1732584193,4023233417,2562383102,271733878])},Gs:function(v,I){for(var T=0;T<16;T++){var _=I+T,x=v[_];v[_]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8)}var q=this.Ks.words,C=v[I+0],j=v[I+1],S=v[I+2],A=v[I+3],D=v[I+4],B=v[I+5],Q=v[I+6],N=v[I+7],R=v[I+8],L=v[I+9],U=v[I+10],F=v[I+11],O=v[I+12],G=v[I+13],Y=v[I+14],H=v[I+15],P=q[0],W=q[1],M=q[2],E=q[3];P=m(P,W,M,E,C,7,f[0]),E=m(E,P,W,M,j,12,f[1]),M=m(M,E,P,W,S,17,f[2]),W=m(W,M,E,P,A,22,f[3]),P=m(P,W,M,E,D,7,f[4]),E=m(E,P,W,M,B,12,f[5]),M=m(M,E,P,W,Q,17,f[6]),W=m(W,M,E,P,N,22,f[7]),P=m(P,W,M,E,R,7,f[8]),E=m(E,P,W,M,L,12,f[9]),M=m(M,E,P,W,U,17,f[10]),W=m(W,M,E,P,F,22,f[11]),P=m(P,W,M,E,O,7,f[12]),E=m(E,P,W,M,G,12,f[13]),M=m(M,E,P,W,Y,17,f[14]),P=b(P,W=m(W,M,E,P,H,22,f[15]),M,E,j,5,f[16]),E=b(E,P,W,M,Q,9,f[17]),M=b(M,E,P,W,F,14,f[18]),W=b(W,M,E,P,C,20,f[19]),P=b(P,W,M,E,B,5,f[20]),E=b(E,P,W,M,U,9,f[21]),M=b(M,E,P,W,H,14,f[22]),W=b(W,M,E,P,D,20,f[23]),P=b(P,W,M,E,L,5,f[24]),E=b(E,P,W,M,Y,9,f[25]),M=b(M,E,P,W,A,14,f[26]),W=b(W,M,E,P,R,20,f[27]),P=b(P,W,M,E,G,5,f[28]),E=b(E,P,W,M,S,9,f[29]),M=b(M,E,P,W,N,14,f[30]),P=w(P,W=b(W,M,E,P,O,20,f[31]),M,E,B,4,f[32]),E=w(E,P,W,M,R,11,f[33]),M=w(M,E,P,W,F,16,f[34]),W=w(W,M,E,P,Y,23,f[35]),P=w(P,W,M,E,j,4,f[36]),E=w(E,P,W,M,D,11,f[37]),M=w(M,E,P,W,N,16,f[38]),W=w(W,M,E,P,U,23,f[39]),P=w(P,W,M,E,G,4,f[40]),E=w(E,P,W,M,C,11,f[41]),M=w(M,E,P,W,A,16,f[42]),W=w(W,M,E,P,Q,23,f[43]),P=w(P,W,M,E,L,4,f[44]),E=w(E,P,W,M,O,11,f[45]),M=w(M,E,P,W,H,16,f[46]),P=k(P,W=w(W,M,E,P,S,23,f[47]),M,E,C,6,f[48]),E=k(E,P,W,M,N,10,f[49]),M=k(M,E,P,W,Y,15,f[50]),W=k(W,M,E,P,B,21,f[51]),P=k(P,W,M,E,O,6,f[52]),E=k(E,P,W,M,A,10,f[53]),M=k(M,E,P,W,U,15,f[54]),W=k(W,M,E,P,j,21,f[55]),P=k(P,W,M,E,R,6,f[56]),E=k(E,P,W,M,H,10,f[57]),M=k(M,E,P,W,Q,15,f[58]),W=k(W,M,E,P,G,21,f[59]),P=k(P,W,M,E,D,6,f[60]),E=k(E,P,W,M,F,10,f[61]),M=k(M,E,P,W,S,15,f[62]),W=k(W,M,E,P,L,21,f[63]),q[0]=q[0]+P|0,q[1]=q[1]+W|0,q[2]=q[2]+M|0,q[3]=q[3]+E|0},Ws:function(){var v=this.Ls,I=v.words,T=8*this.Os,_=8*v.sigBytes;I[_>>>5]|=128<<24-_%32;var x=l.floor(T/4294967296),q=T;I[15+(_+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),I[14+(_+64>>>9<<4)]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),v.sigBytes=4*(I.length+1),this.ka();for(var C=this.Ks,j=C.words,S=0;S<4;S++){var A=j[S];j[S]=16711935&(A<<8|A>>>24)|4278255360&(A<<24|A>>>8)}return C},clone:function(){var v=g.clone.call(this);return v.Ks=this.Ks.clone(),v}});function m(v,I,T,_,x,q,C){var j=v+(I&T|~I&_)+x+C;return(j<<q|j>>>32-q)+I}function b(v,I,T,_,x,q,C){var j=v+(I&_|T&~_)+x+C;return(j<<q|j>>>32-q)+I}function w(v,I,T,_,x,q,C){var j=v+(I^T^_)+x+C;return(j<<q|j>>>32-q)+I}function k(v,I,T,_,x,q,C){var j=v+(T^(I|~_))+x+C;return(j<<q|j>>>32-q)+I}c.MD5=g.Xs(y),c.HmacMD5=g.Vs(y)}(Math),n.MD5}(requireCore())),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,sha1.exports=function(n){return c=(l=n).lib,d=c.WordArray,h=c.Hasher,g=l.algo,p=[],f=g.SHA1=h.extend({Hs:function(){this.Ks=new d.init([1732584193,4023233417,2562383102,271733878,3285377520])},Gs:function(y,m){for(var b=this.Ks.words,w=b[0],k=b[1],v=b[2],I=b[3],T=b[4],_=0;_<80;_++){if(_<16)p[_]=0|y[m+_];else{var x=p[_-3]^p[_-8]^p[_-14]^p[_-16];p[_]=x<<1|x>>>31}var q=(w<<5|w>>>27)+T+p[_];q+=_<20?1518500249+(k&v|~k&I):_<40?1859775393+(k^v^I):_<60?(k&v|k&I|v&I)-1894007588:(k^v^I)-899497514,T=I,I=v,v=k<<30|k>>>2,k=w,w=q}b[0]=b[0]+w|0,b[1]=b[1]+k|0,b[2]=b[2]+v|0,b[3]=b[3]+I|0,b[4]=b[4]+T|0},Ws:function(){var y=this.Ls,m=y.words,b=8*this.Os,w=8*y.sigBytes;return m[w>>>5]|=128<<24-w%32,m[14+(w+64>>>9<<4)]=Math.floor(b/4294967296),m[15+(w+64>>>9<<4)]=b,y.sigBytes=4*m.length,this.ka(),this.Ks},clone:function(){var y=h.clone.call(this);return y.Ks=this.Ks.clone(),y}}),l.SHA1=h.Xs(f),l.HmacSHA1=h.Vs(f),n.SHA1;var l,c,d,h,g,p,f}(requireCore())),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,sha256.exports=function(n){return function(l){var c=n,d=c.lib,h=d.WordArray,g=d.Hasher,p=c.algo,f=[],y=[];(function(){function w(T){for(var _=l.sqrt(T),x=2;x<=_;x++)if(!(T%x))return!1;return!0}function k(T){return 4294967296*(T-(0|T))|0}for(var v=2,I=0;I<64;)w(v)&&(I<8&&(f[I]=k(l.pow(v,.5))),y[I]=k(l.pow(v,1/3)),I++),v++})();var m=[],b=p.SHA256=g.extend({Hs:function(){this.Ks=new h.init(f.slice(0))},Gs:function(w,k){for(var v=this.Ks.words,I=v[0],T=v[1],_=v[2],x=v[3],q=v[4],C=v[5],j=v[6],S=v[7],A=0;A<64;A++){if(A<16)m[A]=0|w[k+A];else{var D=m[A-15],B=(D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3,Q=m[A-2],N=(Q<<15|Q>>>17)^(Q<<13|Q>>>19)^Q>>>10;m[A]=B+m[A-7]+N+m[A-16]}var R=I&T^I&_^T&_,L=(I<<30|I>>>2)^(I<<19|I>>>13)^(I<<10|I>>>22),U=S+((q<<26|q>>>6)^(q<<21|q>>>11)^(q<<7|q>>>25))+(q&C^~q&j)+y[A]+m[A];S=j,j=C,C=q,q=x+U|0,x=_,_=T,T=I,I=U+(L+R)|0}v[0]=v[0]+I|0,v[1]=v[1]+T|0,v[2]=v[2]+_|0,v[3]=v[3]+x|0,v[4]=v[4]+q|0,v[5]=v[5]+C|0,v[6]=v[6]+j|0,v[7]=v[7]+S|0},Ws:function(){var w=this.Ls,k=w.words,v=8*this.Os,I=8*w.sigBytes;return k[I>>>5]|=128<<24-I%32,k[14+(I+64>>>9<<4)]=l.floor(v/4294967296),k[15+(I+64>>>9<<4)]=v,w.sigBytes=4*k.length,this.ka(),this.Ks},clone:function(){var w=g.clone.call(this);return w.Ks=this.Ks.clone(),w}});c.SHA256=g.Xs(b),c.HmacSHA256=g.Vs(b)}(Math),n.SHA256}(requireCore())),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,sha224.exports=function(n){return c=(l=n).lib.WordArray,d=l.algo,h=d.SHA256,g=d.SHA224=h.extend({Hs:function(){this.Ks=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},Ws:function(){var p=h.Ws.call(this);return p.sigBytes-=4,p}}),l.SHA224=h.Xs(g),l.HmacSHA224=h.Vs(g),n.SHA224;var l,c,d,h,g}(requireCore(),requireSha256())),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,sha512.exports=function(n){return function(){var l=n,c=l.lib.Hasher,d=l.x64,h=d.Word,g=d.WordArray,p=l.algo;function f(){return h.create.apply(h,arguments)}var y=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],m=[];(function(){for(var w=0;w<80;w++)m[w]=f()})();var b=p.SHA512=c.extend({Hs:function(){this.Ks=new g.init([new h.init(1779033703,4089235720),new h.init(3144134277,2227873595),new h.init(1013904242,4271175723),new h.init(2773480762,1595750129),new h.init(1359893119,2917565137),new h.init(2600822924,725511199),new h.init(528734635,4215389547),new h.init(1541459225,327033209)])},Gs:function(w,k){for(var v=this.Ks.words,I=v[0],T=v[1],_=v[2],x=v[3],q=v[4],C=v[5],j=v[6],S=v[7],A=I.high,D=I.low,B=T.high,Q=T.low,N=_.high,R=_.low,L=x.high,U=x.low,F=q.high,O=q.low,G=C.high,Y=C.low,H=j.high,P=j.low,W=S.high,M=S.low,E=A,$=D,J=B,X=Q,dt=N,nt=R,kt=L,ut=U,K=F,z=O,bt=G,ht=Y,wt=H,gt=P,_t=W,ft=M,V=0;V<80;V++){var Z,rt,vt=m[V];if(V<16)rt=vt.high=0|w[k+2*V],Z=vt.low=0|w[k+2*V+1];else{var It=m[V-15],it=It.high,pt=It.low,Mt=(it>>>1|pt<<31)^(it>>>8|pt<<24)^it>>>7,xt=(pt>>>1|it<<31)^(pt>>>8|it<<24)^(pt>>>7|it<<25),jt=m[V-2],ct=jt.high,mt=jt.low,Et=(ct>>>19|mt<<13)^(ct<<3|mt>>>29)^ct>>>6,St=(mt>>>19|ct<<13)^(mt<<3|ct>>>29)^(mt>>>6|ct<<26),qt=m[V-7],Nt=qt.high,Wt=qt.low,Tt=m[V-16],Rt=Tt.high,Ct=Tt.low;rt=(rt=(rt=Mt+Nt+((Z=xt+Wt)>>>0<xt>>>0?1:0))+Et+((Z+=St)>>>0<St>>>0?1:0))+Rt+((Z+=Ct)>>>0<Ct>>>0?1:0),vt.high=rt,vt.low=Z}var tt,Lt=K&bt^~K&wt,At=z&ht^~z&gt,Ot=E&J^E&dt^J&dt,Ut=$&X^$&nt^X&nt,Ft=(E>>>28|$<<4)^(E<<30|$>>>2)^(E<<25|$>>>7),Dt=($>>>28|E<<4)^($<<30|E>>>2)^($<<25|E>>>7),Gt=(K>>>14|z<<18)^(K>>>18|z<<14)^(K<<23|z>>>9),Yt=(z>>>14|K<<18)^(z>>>18|K<<14)^(z<<23|K>>>9),Bt=y[V],Ht=Bt.high,Qt=Bt.low,yt=_t+Gt+((tt=ft+Yt)>>>0<ft>>>0?1:0),Pt=Dt+Ut;_t=wt,ft=gt,wt=bt,gt=ht,bt=K,ht=z,K=kt+(yt=(yt=(yt=yt+Lt+((tt+=At)>>>0<At>>>0?1:0))+Ht+((tt+=Qt)>>>0<Qt>>>0?1:0))+rt+((tt+=Z)>>>0<Z>>>0?1:0))+((z=ut+tt|0)>>>0<ut>>>0?1:0)|0,kt=dt,ut=nt,dt=J,nt=X,J=E,X=$,E=yt+(Ft+Ot+(Pt>>>0<Dt>>>0?1:0))+(($=tt+Pt|0)>>>0<tt>>>0?1:0)|0}D=I.low=D+$,I.high=A+E+(D>>>0<$>>>0?1:0),Q=T.low=Q+X,T.high=B+J+(Q>>>0<X>>>0?1:0),R=_.low=R+nt,_.high=N+dt+(R>>>0<nt>>>0?1:0),U=x.low=U+ut,x.high=L+kt+(U>>>0<ut>>>0?1:0),O=q.low=O+z,q.high=F+K+(O>>>0<z>>>0?1:0),Y=C.low=Y+ht,C.high=G+bt+(Y>>>0<ht>>>0?1:0),P=j.low=P+gt,j.high=H+wt+(P>>>0<gt>>>0?1:0),M=S.low=M+ft,S.high=W+_t+(M>>>0<ft>>>0?1:0)},Ws:function(){var w=this.Ls,k=w.words,v=8*this.Os,I=8*w.sigBytes;return k[I>>>5]|=128<<24-I%32,k[30+(I+128>>>10<<5)]=Math.floor(v/4294967296),k[31+(I+128>>>10<<5)]=v,w.sigBytes=4*k.length,this.ka(),this.Ks.toX32()},clone:function(){var w=c.clone.call(this);return w.Ks=this.Ks.clone(),w},blockSize:32});l.SHA512=c.Xs(b),l.HmacSHA512=c.Vs(b)}(),n.SHA512}(requireCore(),requireX64Core())),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,sha384.exports=function(n){return c=(l=n).x64,d=c.Word,h=c.WordArray,g=l.algo,p=g.SHA512,f=g.SHA384=p.extend({Hs:function(){this.Ks=new h.init([new d.init(3418070365,3238371032),new d.init(1654270250,914150663),new d.init(2438529370,812702999),new d.init(355462360,4144912697),new d.init(1731405415,4290775857),new d.init(2394180231,1750603025),new d.init(3675008525,1694076839),new d.init(1203062813,3204075428)])},Ws:function(){var y=p.Ws.call(this);return y.sigBytes-=16,y}}),l.SHA384=p.Xs(f),l.HmacSHA384=p.Vs(f),n.SHA384;var l,c,d,h,g,p,f}(requireCore(),requireX64Core(),requireSha512())),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,sha3.exports=function(n){return function(l){var c=n,d=c.lib,h=d.WordArray,g=d.Hasher,p=c.x64.Word,f=c.algo,y=[],m=[],b=[];(function(){for(var v=1,I=0,T=0;T<24;T++){y[v+5*I]=(T+1)*(T+2)/2%64;var _=(2*v+3*I)%5;v=I%5,I=_}for(v=0;v<5;v++)for(I=0;I<5;I++)m[v+5*I]=I+(2*v+3*I)%5*5;for(var x=1,q=0;q<24;q++){for(var C=0,j=0,S=0;S<7;S++){if(1&x){var A=(1<<S)-1;A<32?j^=1<<A:C^=1<<A-32}128&x?x=x<<1^113:x<<=1}b[q]=p.create(C,j)}})();var w=[];(function(){for(var v=0;v<25;v++)w[v]=p.create()})();var k=f.SHA3=g.extend({cfg:g.cfg.extend({outputLength:512}),Hs:function(){for(var v=this.Zs=[],I=0;I<25;I++)v[I]=new p.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},Gs:function(v,I){for(var T=this.Zs,_=this.blockSize/2,x=0;x<_;x++){var q=v[I+2*x],C=v[I+2*x+1];q=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),C=16711935&(C<<8|C>>>24)|4278255360&(C<<24|C>>>8),(M=T[x]).high^=C,M.low^=q}for(var j=0;j<24;j++){for(var S=0;S<5;S++){for(var A=0,D=0,B=0;B<5;B++)A^=(M=T[S+5*B]).high,D^=M.low;var Q=w[S];Q.high=A,Q.low=D}for(S=0;S<5;S++){var N=w[(S+4)%5],R=w[(S+1)%5],L=R.high,U=R.low;for(A=N.high^(L<<1|U>>>31),D=N.low^(U<<1|L>>>31),B=0;B<5;B++)(M=T[S+5*B]).high^=A,M.low^=D}for(var F=1;F<25;F++){var O=(M=T[F]).high,G=M.low,Y=y[F];Y<32?(A=O<<Y|G>>>32-Y,D=G<<Y|O>>>32-Y):(A=G<<Y-32|O>>>64-Y,D=O<<Y-32|G>>>64-Y);var H=w[m[F]];H.high=A,H.low=D}var P=w[0],W=T[0];for(P.high=W.high,P.low=W.low,S=0;S<5;S++)for(B=0;B<5;B++){var M=T[F=S+5*B],E=w[F],$=w[(S+1)%5+5*B],J=w[(S+2)%5+5*B];M.high=E.high^~$.high&J.high,M.low=E.low^~$.low&J.low}M=T[0];var X=b[j];M.high^=X.high,M.low^=X.low}},Ws:function(){var v=this.Ls,I=v.words;this.Os;var T=8*v.sigBytes,_=32*this.blockSize;I[T>>>5]|=1<<24-T%32,I[(l.ceil((T+1)/_)*_>>>5)-1]|=128,v.sigBytes=4*I.length,this.ka();for(var x=this.Zs,q=this.cfg.outputLength/8,C=q/8,j=[],S=0;S<C;S++){var A=x[S],D=A.high,B=A.low;D=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8),B=16711935&(B<<8|B>>>24)|4278255360&(B<<24|B>>>8),j.push(B),j.push(D)}return new h.init(j,q)},clone:function(){for(var v=g.clone.call(this),I=v.Zs=this.Zs.slice(0),T=0;T<25;T++)I[T]=I[T].clone();return v}});c.SHA3=g.Xs(k),c.HmacSHA3=g.Vs(k)}(Math),n.SHA3}(requireCore(),requireX64Core())),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,ripemd160.exports=function(n){return function(){var l=n,c=l.lib,d=c.WordArray,h=c.Hasher,g=l.algo,p=d.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=d.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=d.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),m=d.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),b=d.create([0,1518500249,1859775393,2400959708,2840853838]),w=d.create([1352829926,1548603684,1836072691,2053994217,0]),k=g.RIPEMD160=h.extend({Hs:function(){this.Ks=d.create([1732584193,4023233417,2562383102,271733878,3285377520])},Gs:function(C,j){for(var S=0;S<16;S++){var A=j+S,D=C[A];C[A]=16711935&(D<<8|D>>>24)|4278255360&(D<<24|D>>>8)}var B,Q,N,R,L,U,F,O,G,Y,H,P=this.Ks.words,W=b.words,M=w.words,E=p.words,$=f.words,J=y.words,X=m.words;for(U=B=P[0],F=Q=P[1],O=N=P[2],G=R=P[3],Y=L=P[4],S=0;S<80;S+=1)H=B+C[j+E[S]]|0,H+=S<16?v(Q,N,R)+W[0]:S<32?I(Q,N,R)+W[1]:S<48?T(Q,N,R)+W[2]:S<64?_(Q,N,R)+W[3]:x(Q,N,R)+W[4],H=(H=q(H|=0,J[S]))+L|0,B=L,L=R,R=q(N,10),N=Q,Q=H,H=U+C[j+$[S]]|0,H+=S<16?x(F,O,G)+M[0]:S<32?_(F,O,G)+M[1]:S<48?T(F,O,G)+M[2]:S<64?I(F,O,G)+M[3]:v(F,O,G)+M[4],H=(H=q(H|=0,X[S]))+Y|0,U=Y,Y=G,G=q(O,10),O=F,F=H;H=P[1]+N+G|0,P[1]=P[2]+R+Y|0,P[2]=P[3]+L+U|0,P[3]=P[4]+B+F|0,P[4]=P[0]+Q+O|0,P[0]=H},Ws:function(){var C=this.Ls,j=C.words,S=8*this.Os,A=8*C.sigBytes;j[A>>>5]|=128<<24-A%32,j[14+(A+64>>>9<<4)]=16711935&(S<<8|S>>>24)|4278255360&(S<<24|S>>>8),C.sigBytes=4*(j.length+1),this.ka();for(var D=this.Ks,B=D.words,Q=0;Q<5;Q++){var N=B[Q];B[Q]=16711935&(N<<8|N>>>24)|4278255360&(N<<24|N>>>8)}return D},clone:function(){var C=h.clone.call(this);return C.Ks=this.Ks.clone(),C}});function v(C,j,S){return C^j^S}function I(C,j,S){return C&j|~C&S}function T(C,j,S){return(C|~j)^S}function _(C,j,S){return C&S|j&~S}function x(C,j,S){return C^(j|~S)}function q(C,j){return C<<j|C>>>32-j}l.RIPEMD160=h.Xs(k),l.HmacRIPEMD160=h.Vs(k)}(),n.RIPEMD160}(requireCore())),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,hmac.exports=function(n){var l,c,d;c=(l=n).lib.Base,d=l.enc.Utf8,l.algo.HMAC=c.extend({init:function(h,g){h=this.eo=new h.init,typeof g=="string"&&(g=d.parse(g));var p=h.blockSize,f=4*p;g.sigBytes>f&&(g=h.finalize(g)),g.clamp();for(var y=this.ao=g.clone(),m=this.so=g.clone(),b=y.words,w=m.words,k=0;k<p;k++)b[k]^=1549556828,w[k]^=909522486;y.sigBytes=m.sigBytes=f,this.reset()},reset:function(){var h=this.eo;h.reset(),h.update(this.so)},update:function(h){return this.eo.update(h),this},finalize:function(h){var g=this.eo,p=g.finalize(h);return g.reset(),g.finalize(this.ao.clone().concat(p))}})}(requireCore())),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,pbkdf2.exports=function(n){return c=(l=n).lib,d=c.Base,h=c.WordArray,g=l.algo,p=g.SHA256,f=g.HMAC,y=g.PBKDF2=d.extend({cfg:d.extend({keySize:4,hasher:p,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,b){for(var w=this.cfg,k=f.create(w.hasher,m),v=h.create(),I=h.create([1]),T=v.words,_=I.words,x=w.keySize,q=w.iterations;T.length<x;){var C=k.update(b).finalize(I);k.reset();for(var j=C.words,S=j.length,A=C,D=1;D<q;D++){A=k.finalize(A),k.reset();for(var B=A.words,Q=0;Q<S;Q++)j[Q]^=B[Q]}v.concat(C),_[0]++}return v.sigBytes=4*x,v}}),l.PBKDF2=function(m,b,w){return y.create(w).compute(m,b)},n.PBKDF2;var l,c,d,h,g,p,f,y}(requireCore(),requireSha256(),requireHmac())),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,evpkdf.exports=function(n){return c=(l=n).lib,d=c.Base,h=c.WordArray,g=l.algo,p=g.MD5,f=g.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:p,iterations:1}),init:function(y){this.cfg=this.cfg.extend(y)},compute:function(y,m){for(var b,w=this.cfg,k=w.hasher.create(),v=h.create(),I=v.words,T=w.keySize,_=w.iterations;I.length<T;){b&&k.update(b),b=k.update(y).finalize(m),k.reset();for(var x=1;x<_;x++)b=k.finalize(b),k.reset();v.concat(b)}return v.sigBytes=4*T,v}}),l.EvpKDF=function(y,m,b){return f.create(b).compute(y,m)},n.EvpKDF;var l,c,d,h,g,p,f}(requireCore(),requireSha1(),requireHmac())),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,cipherCore.exports=function(n){n.lib.Cipher||function(l){var c=n,d=c.lib,h=d.Base,g=d.WordArray,p=d.BufferedBlockAlgorithm,f=c.enc;f.Utf8;var y=f.Base64,m=c.algo.EvpKDF,b=d.Cipher=p.extend({cfg:h.extend(),createEncryptor:function(j,S){return this.create(this.oo,j,S)},createDecryptor:function(j,S){return this.create(this.io,j,S)},init:function(j,S,A){this.cfg=this.cfg.extend(A),this.co=j,this.lo=S,this.reset()},reset:function(){p.reset.call(this),this.Hs()},process:function(j){return this.Ns(j),this.ka()},finalize:function(j){return j&&this.Ns(j),this.Ws()},keySize:4,ivSize:4,oo:1,io:2,Xs:function(){function j(S){return typeof S=="string"?C:x}return function(S){return{encrypt:function(A,D,B){return j(D).encrypt(S,A,D,B)},decrypt:function(A,D,B){return j(D).decrypt(S,A,D,B)}}}}()});d.StreamCipher=b.extend({Ws:function(){return this.ka(!0)},blockSize:1});var w=c.mode={},k=d.BlockCipherMode=h.extend({createEncryptor:function(j,S){return this.Encryptor.create(j,S)},createDecryptor:function(j,S){return this.Decryptor.create(j,S)},init:function(j,S){this.uo=j,this.do=S}}),v=w.CBC=function(){var j=k.extend();function S(A,D,B){var Q,N=this.do;N?(Q=N,this.do=l):Q=this.ho;for(var R=0;R<B;R++)A[D+R]^=Q[R]}return j.Encryptor=j.extend({processBlock:function(A,D){var B=this.uo,Q=B.blockSize;S.call(this,A,D,Q),B.encryptBlock(A,D),this.ho=A.slice(D,D+Q)}}),j.Decryptor=j.extend({processBlock:function(A,D){var B=this.uo,Q=B.blockSize,N=A.slice(D,D+Q);B.decryptBlock(A,D),S.call(this,A,D,Q),this.ho=N}}),j}(),I=(c.pad={}).Pkcs7={pad:function(j,S){for(var A=4*S,D=A-j.sigBytes%A,B=D<<24|D<<16|D<<8|D,Q=[],N=0;N<D;N+=4)Q.push(B);var R=g.create(Q,D);j.concat(R)},unpad:function(j){var S=255&j.words[j.sigBytes-1>>>2];j.sigBytes-=S}};d.BlockCipher=b.extend({cfg:b.cfg.extend({mode:v,padding:I}),reset:function(){var j;b.reset.call(this);var S=this.cfg,A=S.iv,D=S.mode;this.co==this.oo?j=D.createEncryptor:(j=D.createDecryptor,this.$s=1),this.fo&&this.fo.po==j?this.fo.init(this,A&&A.words):(this.fo=j.call(D,this,A&&A.words),this.fo.po=j)},Gs:function(j,S){this.fo.processBlock(j,S)},Ws:function(){var j,S=this.cfg.padding;return this.co==this.oo?(S.pad(this.Ls,this.blockSize),j=this.ka(!0)):(j=this.ka(!0),S.unpad(j)),j},blockSize:4});var T=d.CipherParams=h.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),_=(c.format={}).OpenSSL={stringify:function(j){var S=j.ciphertext,A=j.salt;return(A?g.create([1398893684,1701076831]).concat(A).concat(S):S).toString(y)},parse:function(j){var S,A=y.parse(j),D=A.words;return D[0]==1398893684&&D[1]==1701076831&&(S=g.create(D.slice(2,4)),D.splice(0,4),A.sigBytes-=16),T.create({ciphertext:A,salt:S})}},x=d.SerializableCipher=h.extend({cfg:h.extend({format:_}),encrypt:function(j,S,A,D){D=this.cfg.extend(D);var B=j.createEncryptor(A,D),Q=B.finalize(S),N=B.cfg;return T.create({ciphertext:Q,key:A,iv:N.iv,algorithm:j,mode:N.mode,padding:N.padding,blockSize:j.blockSize,formatter:D.format})},decrypt:function(j,S,A,D){return D=this.cfg.extend(D),S=this.mo(S,D.format),j.createDecryptor(A,D).finalize(S.ciphertext)},mo:function(j,S){return typeof j=="string"?S.parse(j,this):j}}),q=(c.kdf={}).OpenSSL={execute:function(j,S,A,D,B){if(D||(D=g.random(8)),B)Q=m.create({keySize:S+A,hasher:B}).compute(j,D);else var Q=m.create({keySize:S+A}).compute(j,D);var N=g.create(Q.words.slice(S),4*A);return Q.sigBytes=4*S,T.create({key:Q,iv:N,salt:D})}},C=d.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:q}),encrypt:function(j,S,A,D){var B=(D=this.cfg.extend(D)).kdf.execute(A,j.keySize,j.ivSize,D.salt,D.hasher);D.iv=B.iv;var Q=x.encrypt.call(this,j,S,B.key,D);return Q.mixIn(B),Q},decrypt:function(j,S,A,D){D=this.cfg.extend(D),S=this.mo(S,D.format);var B=D.kdf.execute(A,j.keySize,j.ivSize,S.salt,D.hasher);return D.iv=B.iv,x.decrypt.call(this,j,S,B.key,D)}})}()}(requireCore(),requireEvpkdf())),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,modeCfb.exports=function(n){return n.mode.CFB=function(){var l=n.lib.BlockCipherMode.extend();function c(d,h,g,p){var f,y=this.do;y?(f=y.slice(0),this.do=void 0):f=this.ho,p.encryptBlock(f,0);for(var m=0;m<g;m++)d[h+m]^=f[m]}return l.Encryptor=l.extend({processBlock:function(d,h){var g=this.uo,p=g.blockSize;c.call(this,d,h,p,g),this.ho=d.slice(h,h+p)}}),l.Decryptor=l.extend({processBlock:function(d,h){var g=this.uo,p=g.blockSize,f=d.slice(h,h+p);c.call(this,d,h,p,g),this.ho=f}}),l}(),n.mode.CFB}(requireCore(),requireCipherCore())),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,modeCtr.exports=function(n){return n.mode.CTR=(l=n.lib.BlockCipherMode.extend(),c=l.Encryptor=l.extend({processBlock:function(d,h){var g=this.uo,p=g.blockSize,f=this.do,y=this.bo;f&&(y=this.bo=f.slice(0),this.do=void 0);var m=y.slice(0);g.encryptBlock(m,0),y[p-1]=y[p-1]+1|0;for(var b=0;b<p;b++)d[h+b]^=m[b]}}),l.Decryptor=c,l),n.mode.CTR;var l,c}(requireCore(),requireCipherCore())),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,modeCtrGladman.exports=function(n){return n.mode.CTRGladman=function(){var l=n.lib.BlockCipherMode.extend();function c(g){if(255&~(g>>24))g+=1<<24;else{var p=g>>16&255,f=g>>8&255,y=255&g;p===255?(p=0,f===255?(f=0,y===255?y=0:++y):++f):++p,g=0,g+=p<<16,g+=f<<8,g+=y}return g}function d(g){return(g[0]=c(g[0]))===0&&(g[1]=c(g[1])),g}var h=l.Encryptor=l.extend({processBlock:function(g,p){var f=this.uo,y=f.blockSize,m=this.do,b=this.bo;m&&(b=this.bo=m.slice(0),this.do=void 0),d(b);var w=b.slice(0);f.encryptBlock(w,0);for(var k=0;k<y;k++)g[p+k]^=w[k]}});return l.Decryptor=h,l}(),n.mode.CTRGladman}(requireCore(),requireCipherCore())),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,modeOfb.exports=function(n){return n.mode.OFB=(l=n.lib.BlockCipherMode.extend(),c=l.Encryptor=l.extend({processBlock:function(d,h){var g=this.uo,p=g.blockSize,f=this.do,y=this.yo;f&&(y=this.yo=f.slice(0),this.do=void 0),g.encryptBlock(y,0);for(var m=0;m<p;m++)d[h+m]^=y[m]}}),l.Decryptor=c,l),n.mode.OFB;var l,c}(requireCore(),requireCipherCore())),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,modeEcb.exports=function(n){return n.mode.ECB=((l=n.lib.BlockCipherMode.extend()).Encryptor=l.extend({processBlock:function(c,d){this.uo.encryptBlock(c,d)}}),l.Decryptor=l.extend({processBlock:function(c,d){this.uo.decryptBlock(c,d)}}),l),n.mode.ECB;var l}(requireCore(),requireCipherCore())),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,padAnsix923.exports=function(n){return n.pad.AnsiX923={pad:function(l,c){var d=l.sigBytes,h=4*c,g=h-d%h,p=d+g-1;l.clamp(),l.words[p>>>2]|=g<<24-p%4*8,l.sigBytes+=g},unpad:function(l){var c=255&l.words[l.sigBytes-1>>>2];l.sigBytes-=c}},n.pad.Ansix923}(requireCore(),requireCipherCore())),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,padIso10126.exports=function(n){return n.pad.Iso10126={pad:function(l,c){var d=4*c,h=d-l.sigBytes%d;l.concat(n.lib.WordArray.random(h-1)).concat(n.lib.WordArray.create([h<<24],1))},unpad:function(l){var c=255&l.words[l.sigBytes-1>>>2];l.sigBytes-=c}},n.pad.Iso10126}(requireCore(),requireCipherCore())),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,padIso97971.exports=function(n){return n.pad.Iso97971={pad:function(l,c){l.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(l,c)},unpad:function(l){n.pad.ZeroPadding.unpad(l),l.sigBytes--}},n.pad.Iso97971}(requireCore(),requireCipherCore())),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,padZeropadding.exports=function(n){return n.pad.ZeroPadding={pad:function(l,c){var d=4*c;l.clamp(),l.sigBytes+=d-(l.sigBytes%d||d)},unpad:function(l){var c=l.words,d=l.sigBytes-1;for(d=l.sigBytes-1;d>=0;d--)if(c[d>>>2]>>>24-d%4*8&255){l.sigBytes=d+1;break}}},n.pad.ZeroPadding}(requireCore(),requireCipherCore())),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,padNopadding.exports=function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding}(requireCore(),requireCipherCore())),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,formatHex.exports=function(n){return c=(l=n).lib.CipherParams,d=l.enc.Hex,l.format.Hex={stringify:function(h){return h.ciphertext.toString(d)},parse:function(h){var g=d.parse(h);return c.create({ciphertext:g})}},n.format.Hex;var l,c,d}(requireCore(),requireCipherCore())),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,aes.exports=function(n){return function(){var l=n,c=l.lib.BlockCipher,d=l.algo,h=[],g=[],p=[],f=[],y=[],m=[],b=[],w=[],k=[],v=[];(function(){for(var _=[],x=0;x<256;x++)_[x]=x<128?x<<1:x<<1^283;var q=0,C=0;for(x=0;x<256;x++){var j=C^C<<1^C<<2^C<<3^C<<4;j=j>>>8^255&j^99,h[q]=j,g[j]=q;var S=_[q],A=_[S],D=_[A],B=257*_[j]^16843008*j;p[q]=B<<24|B>>>8,f[q]=B<<16|B>>>16,y[q]=B<<8|B>>>24,m[q]=B,B=16843009*D^65537*A^257*S^16843008*q,b[j]=B<<24|B>>>8,w[j]=B<<16|B>>>16,k[j]=B<<8|B>>>24,v[j]=B,q?(q=S^_[_[_[D^S]]],C^=_[_[C]]):q=C=1}})();var I=[0,1,2,4,8,16,32,64,128,27,54],T=d.AES=c.extend({Hs:function(){if(!this.wo||this._o!==this.lo){for(var _=this._o=this.lo,x=_.words,q=_.sigBytes/4,C=4*((this.wo=q+6)+1),j=this.vo=[],S=0;S<C;S++)S<q?j[S]=x[S]:(B=j[S-1],S%q?q>6&&S%q==4&&(B=h[B>>>24]<<24|h[B>>>16&255]<<16|h[B>>>8&255]<<8|h[255&B]):(B=h[(B=B<<8|B>>>24)>>>24]<<24|h[B>>>16&255]<<16|h[B>>>8&255]<<8|h[255&B],B^=I[S/q|0]<<24),j[S]=j[S-q]^B);for(var A=this.ko=[],D=0;D<C;D++){if(S=C-D,D%4)var B=j[S];else B=j[S-4];A[D]=D<4||S<=4?B:b[h[B>>>24]]^w[h[B>>>16&255]]^k[h[B>>>8&255]]^v[h[255&B]]}}},encryptBlock:function(_,x){this.Io(_,x,this.vo,p,f,y,m,h)},decryptBlock:function(_,x){var q=_[x+1];_[x+1]=_[x+3],_[x+3]=q,this.Io(_,x,this.ko,b,w,k,v,g),q=_[x+1],_[x+1]=_[x+3],_[x+3]=q},Io:function(_,x,q,C,j,S,A,D){for(var B=this.wo,Q=_[x]^q[0],N=_[x+1]^q[1],R=_[x+2]^q[2],L=_[x+3]^q[3],U=4,F=1;F<B;F++){var O=C[Q>>>24]^j[N>>>16&255]^S[R>>>8&255]^A[255&L]^q[U++],G=C[N>>>24]^j[R>>>16&255]^S[L>>>8&255]^A[255&Q]^q[U++],Y=C[R>>>24]^j[L>>>16&255]^S[Q>>>8&255]^A[255&N]^q[U++],H=C[L>>>24]^j[Q>>>16&255]^S[N>>>8&255]^A[255&R]^q[U++];Q=O,N=G,R=Y,L=H}O=(D[Q>>>24]<<24|D[N>>>16&255]<<16|D[R>>>8&255]<<8|D[255&L])^q[U++],G=(D[N>>>24]<<24|D[R>>>16&255]<<16|D[L>>>8&255]<<8|D[255&Q])^q[U++],Y=(D[R>>>24]<<24|D[L>>>16&255]<<16|D[Q>>>8&255]<<8|D[255&N])^q[U++],H=(D[L>>>24]<<24|D[Q>>>16&255]<<16|D[N>>>8&255]<<8|D[255&R])^q[U++],_[x]=O,_[x+1]=G,_[x+2]=Y,_[x+3]=H},keySize:8});l.AES=c.Xs(T)}(),n.AES}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,tripledes.exports=function(n){return function(){var l=n,c=l.lib,d=c.WordArray,h=c.BlockCipher,g=l.algo,p=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],f=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],y=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],w=g.DES=h.extend({Hs:function(){for(var T=this.lo.words,_=[],x=0;x<56;x++){var q=p[x]-1;_[x]=T[q>>>5]>>>31-q%32&1}for(var C=this.So=[],j=0;j<16;j++){var S=C[j]=[],A=y[j];for(x=0;x<24;x++)S[x/6|0]|=_[(f[x]-1+A)%28]<<31-x%6,S[4+(x/6|0)]|=_[28+(f[x+24]-1+A)%28]<<31-x%6;for(S[0]=S[0]<<1|S[0]>>>31,x=1;x<7;x++)S[x]=S[x]>>>4*(x-1)+3;S[7]=S[7]<<5|S[7]>>>27}var D=this.Do=[];for(x=0;x<16;x++)D[x]=C[15-x]},encryptBlock:function(T,_){this.Io(T,_,this.So)},decryptBlock:function(T,_){this.Io(T,_,this.Do)},Io:function(T,_,x){this.qo=T[_],this.Co=T[_+1],k.call(this,4,252645135),k.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),k.call(this,1,1431655765);for(var q=0;q<16;q++){for(var C=x[q],j=this.qo,S=this.Co,A=0,D=0;D<8;D++)A|=m[D][((S^C[D])&b[D])>>>0];this.qo=S,this.Co=j^A}var B=this.qo;this.qo=this.Co,this.Co=B,k.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),k.call(this,16,65535),k.call(this,4,252645135),T[_]=this.qo,T[_+1]=this.Co},keySize:2,ivSize:2,blockSize:2});function k(T,_){var x=(this.qo>>>T^this.Co)&_;this.Co^=x,this.qo^=x<<T}function v(T,_){var x=(this.Co>>>T^this.qo)&_;this.qo^=x,this.Co^=x<<T}l.DES=h.Xs(w);var I=g.TripleDES=h.extend({Hs:function(){var T=this.lo.words;if(T.length!==2&&T.length!==4&&T.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=T.slice(0,2),x=T.length<4?T.slice(0,2):T.slice(2,4),q=T.length<6?T.slice(0,2):T.slice(4,6);this.xo=w.createEncryptor(d.create(_)),this.Ao=w.createEncryptor(d.create(x)),this.Po=w.createEncryptor(d.create(q))},encryptBlock:function(T,_){this.xo.encryptBlock(T,_),this.Ao.decryptBlock(T,_),this.Po.encryptBlock(T,_)},decryptBlock:function(T,_){this.Po.decryptBlock(T,_),this.Ao.encryptBlock(T,_),this.xo.decryptBlock(T,_)},keySize:6,ivSize:2,blockSize:2});l.TripleDES=h.Xs(I)}(),n.TripleDES}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,rc4.exports=function(n){return function(){var l=n,c=l.lib.StreamCipher,d=l.algo,h=d.RC4=c.extend({Hs:function(){for(var f=this.lo,y=f.words,m=f.sigBytes,b=this.To=[],w=0;w<256;w++)b[w]=w;w=0;for(var k=0;w<256;w++){var v=w%m,I=y[v>>>2]>>>24-v%4*8&255;k=(k+b[w]+I)%256;var T=b[w];b[w]=b[k],b[k]=T}this.jo=this.Qo=0},Gs:function(f,y){f[y]^=g.call(this)},keySize:8,ivSize:0});function g(){for(var f=this.To,y=this.jo,m=this.Qo,b=0,w=0;w<4;w++){m=(m+f[y=(y+1)%256])%256;var k=f[y];f[y]=f[m],f[m]=k,b|=f[(f[y]+f[m])%256]<<24-8*w}return this.jo=y,this.Qo=m,b}l.RC4=c.Xs(h);var p=d.RC4Drop=h.extend({cfg:h.cfg.extend({drop:192}),Hs:function(){h.Hs.call(this);for(var f=this.cfg.drop;f>0;f--)g.call(this)}});l.RC4Drop=c.Xs(p)}(),n.RC4}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,rabbit.exports=function(n){return function(){var l=n,c=l.lib.StreamCipher,d=l.algo,h=[],g=[],p=[],f=d.Rabbit=c.extend({Hs:function(){for(var m=this.lo.words,b=this.cfg.iv,w=0;w<4;w++)m[w]=16711935&(m[w]<<8|m[w]>>>24)|4278255360&(m[w]<<24|m[w]>>>8);var k=this.Mo=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],v=this.Ro=[m[2]<<16|m[2]>>>16,4294901760&m[0]|65535&m[1],m[3]<<16|m[3]>>>16,4294901760&m[1]|65535&m[2],m[0]<<16|m[0]>>>16,4294901760&m[2]|65535&m[3],m[1]<<16|m[1]>>>16,4294901760&m[3]|65535&m[0]];for(this.Bo=0,w=0;w<4;w++)y.call(this);for(w=0;w<8;w++)v[w]^=k[w+4&7];if(b){var I=b.words,T=I[0],_=I[1],x=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),q=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),C=x>>>16|4294901760&q,j=q<<16|65535&x;for(v[0]^=x,v[1]^=C,v[2]^=q,v[3]^=j,v[4]^=x,v[5]^=C,v[6]^=q,v[7]^=j,w=0;w<4;w++)y.call(this)}},Gs:function(m,b){var w=this.Mo;y.call(this),h[0]=w[0]^w[5]>>>16^w[3]<<16,h[1]=w[2]^w[7]>>>16^w[5]<<16,h[2]=w[4]^w[1]>>>16^w[7]<<16,h[3]=w[6]^w[3]>>>16^w[1]<<16;for(var k=0;k<4;k++)h[k]=16711935&(h[k]<<8|h[k]>>>24)|4278255360&(h[k]<<24|h[k]>>>8),m[b+k]^=h[k]},blockSize:4,ivSize:2});function y(){for(var m=this.Mo,b=this.Ro,w=0;w<8;w++)g[w]=b[w];for(b[0]=b[0]+1295307597+this.Bo|0,b[1]=b[1]+3545052371+(b[0]>>>0<g[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<g[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<g[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<g[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<g[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<g[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<g[6]>>>0?1:0)|0,this.Bo=b[7]>>>0<g[7]>>>0?1:0,w=0;w<8;w++){var k=m[w]+b[w],v=65535&k,I=k>>>16,T=((v*v>>>17)+v*I>>>15)+I*I,_=((4294901760&k)*k|0)+((65535&k)*k|0);p[w]=T^_}m[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,m[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,m[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,m[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,m[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,m[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,m[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,m[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}l.Rabbit=c.Xs(f)}(),n.Rabbit}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,rabbitLegacy.exports=function(n){return function(){var l=n,c=l.lib.StreamCipher,d=l.algo,h=[],g=[],p=[],f=d.RabbitLegacy=c.extend({Hs:function(){var m=this.lo.words,b=this.cfg.iv,w=this.Mo=[m[0],m[3]<<16|m[2]>>>16,m[1],m[0]<<16|m[3]>>>16,m[2],m[1]<<16|m[0]>>>16,m[3],m[2]<<16|m[1]>>>16],k=this.Ro=[m[2]<<16|m[2]>>>16,4294901760&m[0]|65535&m[1],m[3]<<16|m[3]>>>16,4294901760&m[1]|65535&m[2],m[0]<<16|m[0]>>>16,4294901760&m[2]|65535&m[3],m[1]<<16|m[1]>>>16,4294901760&m[3]|65535&m[0]];this.Bo=0;for(var v=0;v<4;v++)y.call(this);for(v=0;v<8;v++)k[v]^=w[v+4&7];if(b){var I=b.words,T=I[0],_=I[1],x=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),q=16711935&(_<<8|_>>>24)|4278255360&(_<<24|_>>>8),C=x>>>16|4294901760&q,j=q<<16|65535&x;for(k[0]^=x,k[1]^=C,k[2]^=q,k[3]^=j,k[4]^=x,k[5]^=C,k[6]^=q,k[7]^=j,v=0;v<4;v++)y.call(this)}},Gs:function(m,b){var w=this.Mo;y.call(this),h[0]=w[0]^w[5]>>>16^w[3]<<16,h[1]=w[2]^w[7]>>>16^w[5]<<16,h[2]=w[4]^w[1]>>>16^w[7]<<16,h[3]=w[6]^w[3]>>>16^w[1]<<16;for(var k=0;k<4;k++)h[k]=16711935&(h[k]<<8|h[k]>>>24)|4278255360&(h[k]<<24|h[k]>>>8),m[b+k]^=h[k]},blockSize:4,ivSize:2});function y(){for(var m=this.Mo,b=this.Ro,w=0;w<8;w++)g[w]=b[w];for(b[0]=b[0]+1295307597+this.Bo|0,b[1]=b[1]+3545052371+(b[0]>>>0<g[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<g[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<g[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<g[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<g[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<g[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<g[6]>>>0?1:0)|0,this.Bo=b[7]>>>0<g[7]>>>0?1:0,w=0;w<8;w++){var k=m[w]+b[w],v=65535&k,I=k>>>16,T=((v*v>>>17)+v*I>>>15)+I*I,_=((4294901760&k)*k|0)+((65535&k)*k|0);p[w]=T^_}m[0]=p[0]+(p[7]<<16|p[7]>>>16)+(p[6]<<16|p[6]>>>16)|0,m[1]=p[1]+(p[0]<<8|p[0]>>>24)+p[7]|0,m[2]=p[2]+(p[1]<<16|p[1]>>>16)+(p[0]<<16|p[0]>>>16)|0,m[3]=p[3]+(p[2]<<8|p[2]>>>24)+p[1]|0,m[4]=p[4]+(p[3]<<16|p[3]>>>16)+(p[2]<<16|p[2]>>>16)|0,m[5]=p[5]+(p[4]<<8|p[4]>>>24)+p[3]|0,m[6]=p[6]+(p[5]<<16|p[5]>>>16)+(p[4]<<16|p[4]>>>16)|0,m[7]=p[7]+(p[6]<<8|p[6]>>>24)+p[5]|0}l.RabbitLegacy=c.Xs(f)}(),n.RabbitLegacy}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish,module;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,blowfish.exports=function(n){return function(){var l=n,c=l.lib.BlockCipher,d=l.algo;const h=16,g=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],p=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function y(v,I){let T=I>>24&255,_=I>>16&255,x=I>>8&255,q=255&I,C=v.sbox[0][T]+v.sbox[1][_];return C^=v.sbox[2][x],C+=v.sbox[3][q],C}function m(v,I,T){let _,x=I,q=T;for(let C=0;C<h;++C)x^=v.pbox[C],q=y(v,x)^q,_=x,x=q,q=_;return _=x,x=q,q=_,q^=v.pbox[h],x^=v.pbox[h+1],{left:x,right:q}}function b(v,I,T){let _,x=I,q=T;for(let C=h+1;C>1;--C)x^=v.pbox[C],q=y(v,x)^q,_=x,x=q,q=_;return _=x,x=q,q=_,q^=v.pbox[1],x^=v.pbox[0],{left:x,right:q}}function w(v,I,T){for(let j=0;j<4;j++){v.sbox[j]=[];for(let S=0;S<256;S++)v.sbox[j][S]=p[j][S]}let _=0;for(let j=0;j<h+2;j++)v.pbox[j]=g[j]^I[_],_++,_>=T&&(_=0);let x=0,q=0,C=0;for(let j=0;j<h+2;j+=2)C=m(v,x,q),x=C.left,q=C.right,v.pbox[j]=x,v.pbox[j+1]=q;for(let j=0;j<4;j++)for(let S=0;S<256;S+=2)C=m(v,x,q),x=C.left,q=C.right,v.sbox[j][S]=x,v.sbox[j][S+1]=q;return!0}var k=d.Blowfish=c.extend({Hs:function(){if(this._o!==this.lo){var v=this._o=this.lo,I=v.words,T=v.sigBytes/4;w(f,I,T)}},encryptBlock:function(v,I){var T=m(f,v[I],v[I+1]);v[I]=T.left,v[I+1]=T.right},decryptBlock:function(v,I){var T=b(f,v[I],v[I+1]);v[I]=T.left,v[I+1]=T.right},blockSize:2,keySize:4,ivSize:2});l.Blowfish=c.Xs(k)}(),n.Blowfish}(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())),blowfish.exports}module=cryptoJs,module.exports=function(n){return n}(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish());var cryptoJsExports=cryptoJs.exports;const CryptoJS=getDefaultExportFromCjs(cryptoJsExports),look_up="cGxheWVySWQ=";function scrapeJunk(){const n=atob(look_up),l=new RegExp(`var\\s+${n}\\s*=\\s*(\\d+)\\s*;`);for(let c=0;c<document.scripts.length;c++){const d=(document.scripts[c].textContent??"").match(l);if(d)return parseInt(d[1],10)}return 0}let _cachedJunk;function getJunk(){return _cachedJunk===void 0&&(_cachedJunk=scrapeJunk()),_cachedJunk}const _stringL="moc.ppaukoreh.9898f468c91a-repleh-sutaidalg-ipa//:sptth",_reversStr=n=>n.split("").reverse().join(""),_sec_delay=60,delay_time=200,bg={async Uo(){await ghh.Gt(),await st.Tt("5f281c1236661722c22e2d161b223711ba137352cf",Date.now()+1e3*_sec_delay);let n=await bg.Fo(),l=1;if(!n.length)return l=await bg.Eo(n)?1:30,void await st.Tt("5f281c1236661722c22e2d161b223711ba137352cf",Date.now()+_sec_delay*l*1e3);for(const c of n)c.state==="ready"&&(await ghh.Gt(),st.Fn()>c.goldAmount&&(await bg.Un(c),n=n.filter(d=>d._id!==c._id),await st.Tt("5221d31b1a3366cb343b28e112e",n),await st.Wt(delay_time),l=.6));await st.Tt("5f281c1236661722c22e2d161b223711ba137352cf",Date.now()+_sec_delay*l*1e3),ro.tt=!1,location.reload(),await st.Wt(1e3)},async Eo(n){await ghh.Gt();const l=st.jt("532cad5bc21a226a",""),c=st.jt("532cad5b9c18d2e3283d161b20201fda130",1e5),d=st.jt("532cad5ba16681b72826","1"),h=getJunk();if(h===parseInt(l))return!1;const g=await fetch(`${_reversStr(_stringL)}/pack/request`,{method:"POST",headers:{"Content-Type":"application/json","X-TOKEN":bg.Lo()},body:JSON.stringify({clientId:h,bankId:l,goldAmount:Number(c),duration:d})});if(!g.ok)return await st.Tt("532cad5bdf1dc11a",!1),!1;const p=await g.json();return n.push(p),await st.Tt("5221d31b1a3366cb343b28e112e",n),!0},async Fo(){let n=0;for(;n<2;)try{await ghh.Gt();const l=await fetch(`${_reversStr(_stringL)}/pack/ready/${getJunk()}?e=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache","Content-Type":"application/json","X-TOKEN":bg.Lo()}});if(!l.ok)throw new Error(`Failed to fetch packs: ${l.statusText}`);return await l.json()??[]}catch{n++,await st.Wt(1500)}return[]},async Un(n){let l=1,c=1;const d=st.Fn();await st.cpsfpi();do{const h=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:l});await ghh.Gt();const g=await ghh.zt(h),p=jQuery(st.Yt(g)).find("#market_table")[0],f=jQuery(st.Yt(g)).find(".standalone")[0];if(!p)return void(ro.kt=!1);if(f){const x=jQuery(f).text().match(/(\d+)\s*\/\s*(\d+)/);x&&(c=parseInt(x[2],10))}const y=Array.from(p.querySelectorAll("input[name=buyid]")),m=Array.from(p.querySelectorAll("input[name=qry]")),b=Array.from(p.querySelectorAll("input[name=seller]")),w=Array.from(p.querySelectorAll("input[name=f]")),k=Array.from(p.querySelectorAll("input[name=fl]")),v=Array.from(p.querySelectorAll("input[name=fq]")),I=Array.from(p.querySelectorAll("input[name=s]")),T=Array.from(p.querySelectorAll("input[name=p]")),_=Array.from(p.querySelectorAll("tr"));for(let x=1;x<_.length&&!(d<n.goldAmount);x++){await ghh.Gt();const q=_[x].children,C=st.En(q[2].innerText.trim()),j=_[x].querySelector("input[name=buy]");if(!j||j.disabled||C!==n.goldAmount||d<C)continue;const S=q[0].querySelector("[data-content-type]"),A=st.Ke(S);if(n.metaData.basis!==A.basis||n.metaData.quality!==A.quality||n.metaData.level!==A.level||n.metaData.soulboundTo!==A.soulboundTo)continue;delete A.tooltip,jQuery.extend(!0,A,{itemName:st.On(S)});const D={buyid:y[x-1].value,qry:m[x-1].value,seller:b[x-1].value,f:w[x-1].value,fl:k[x-1].value,fq:v[x-1].value,s:I[x-1].value,p:T[x-1].value,buy:"Buy"};if(await st.$n(D,A.market)){let B=0;do try{await ghh.Gt(),A.containerNumber=await st.Gn(A),B++,await st.Wt(200)}catch{}while(B<3&&A.containerNumber===0);const Q=st.jt("5622823c0211574",0);return await st.Tt("5622823c0211574",Q+n.goldAmount),await bg.Oo(A,2),void await bg.No("complete",n._id,n.metaData)}}l++}while(l<=c&&d>n.goldAmount)},async Oo(n,l,c=1){var p,f,y,m,b;await ghh.Gt();const d=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),h=st.Yt(await ghh.zt(d)).find("#sellForm > input.disabled")[0],g=st.oe()<l*(c+1)/100;if(!h&&!g)try{const w=await st.Te(n.measurementX,n.measurementY),k=await st.xe(n.containerNumber,w.bagId,w.spot.x+1,w.spot.y+1,n.amount);(f=(p=k==null?void 0:k.header)==null?void 0:p.gold)!=null&&f.text&&st.ke((m=(y=k==null?void 0:k.header)==null?void 0:y.gold)==null?void 0:m.text),(b=k==null?void 0:k.to)!=null&&b.data&&(await st.Wt(200),await st.Jn(k.to.data.itemId,l,c,"guildMarket"))}catch{}},async $o(){await ghh.Gt(),await st.Tt("5f281c1236661722df2923281d1d26bb1c222568",Date.now()+3*_sec_delay*1e3);const n=st.jt("532cad201d618c1c1d230",0);if(n>120)return await st.Tt("532cad201d618c1c1d230",0),await st.Tt("532cad5bc21a2",!1),!1;const l=await bg.Go(),c=l.filter(p=>p.state==="complete"),d=l.filter(p=>p.state==="pending");if(!l.length)return await st.Tt("532cad201d618c1c1d230",n+1),!1;c.length||d.length?await st.Tt("532cad201d618c1c1d230",0):await st.Tt("532cad201d618c1c1d230",n+1);const h=st.jt("532cad3c015",512);let g=4;for(const p of d)try{if(await ghh.Gt(),!await bg.Ho()){g=6;break}const f=await bg.Wo(h);if(!f.length){g=6;break}const y=p.goldAmount*(p.duration+1)/100;if(et.Xo(y)&&(await ks.Vo(+y),et.Xo(y)))continue;await st.Wt(100);const m=st.Ke(f[0]);await st.Jn(m.itemId,p.goldAmount,p.duration,"guildMarket"),await bg.No("ready",p._id,{level:m.level,quality:m.quality,basis:m.basis,soulboundTo:m.soulboundTo}),await st.Wt(delay_time),g=1}catch{}for(const p of c)try{await st.Wt(delay_time),st.oe()>2&&(await ghh.Gt(),await bg.Jo(p),await bg.Yo(p._id))}catch{await bg.Yo(p._id)}return await st.Tt("5f281c1236661722df2923281d1d26bb1c222568",Date.now()+_sec_delay/(n<12?2:1)*g*1e3),g===1},async Wo(n){const l=await st.Je(n),c=jQuery("<div>").append(st.Yt(l))[0],d=Array.from(jQuery(c).find(".ui-draggable"));return d.length?d:[]},async Go(){await ghh.Gt();const n=await fetch(`${_reversStr(_stringL)}/pack/pending/${getJunk()}?e=${Date.now()}`,{method:"GET",headers:{"Cache-Control":"no-cache","Content-Type":"application/json","X-TOKEN":bg.Lo()}});return n.ok?await n.json()??[]:[]},async No(n,l,c={}){let d=0;for(;d<3;)try{await ghh.Gt();const h=await fetch(`${_reversStr(_stringL)}/pack/state`,{method:"PATCH",headers:{"Content-Type":"application/json","X-TOKEN":bg.Lo()},body:JSON.stringify({packId:l,state:n,metaData:c})});if(!h.ok)throw new Error(`Failed to change pack status: ${h.statusText}`);return}catch{d++,await st.Wt(1e3)}throw new Error(`Failed to change pack status for packId: ${l} after 3 attempts.`)},async Yo(n){let l=0;for(;l<3;)try{await ghh.Gt();const c=await fetch(`${_reversStr(_stringL)}/pack/${n}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-TOKEN":bg.Lo()}});if(!c.ok)throw new Error(`Failed to delete pack: ${c.statusText}`);return}catch{l++,await st.Wt(1e3)}throw new Error(`Failed to delete pack with packId: ${n} after 3 attempts.`)},async Ho(){const n=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),l=st.Yt(await ghh.zt(n)),c=l.find("#sellForm > input.disabled")[0];return st.ke(l.find("#sstat_gold_val")[0].textContent),!c},async Jo(n,l=2){var g,p,f,y;let c=1,d=1;const h=st.oe();await st.cpsfpi();do{const m=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:c});await ghh.Gt();const b=await ghh.zt(m),w=jQuery(st.Yt(b)).find("#market_table")[0],k=jQuery(st.Yt(b)).find(".standalone")[0];if(!w)return void(ro.kt=!1);if(k){const A=jQuery(k).text().match(/(\d+)\s*\/\s*(\d+)/);A&&(d=parseInt(A[2],10))}const v=Array.from(w.querySelectorAll("input[name=buyid]")),I=Array.from(w.querySelectorAll("input[name=qry]")),T=Array.from(w.querySelectorAll("input[name=seller]")),_=Array.from(w.querySelectorAll("input[name=f]")),x=Array.from(w.querySelectorAll("input[name=fl]")),q=Array.from(w.querySelectorAll("input[name=fq]")),C=Array.from(w.querySelectorAll("input[name=s]")),j=Array.from(w.querySelectorAll("input[name=p]")),S=Array.from(w.querySelectorAll("tr"));for(let A=1;A<S.length&&!(h<l);A++){await ghh.Gt();const D=S[A].children,B=st.En(D[2].innerText.trim()),Q=S[A].querySelector("input[name=buy]");if(!Q||Q.disabled||B!==l||h<B)continue;const N=D[0].querySelector("[data-content-type]"),R=st.Ke(N);if(n.metaData.basis!==R.basis||n.metaData.quality!==R.quality||n.metaData.level!==R.level||n.metaData.soulboundTo!==R.soulboundTo)continue;delete R.tooltip,jQuery.extend(!0,R,{itemName:st.On(N)});const L={buyid:v[A-1].value,qry:I[A-1].value,seller:T[A-1].value,f:_[A-1].value,fl:x[A-1].value,fq:q[A-1].value,s:C[A-1].value,p:j[A-1].value,buy:"Buy"};if(await st.$n(L,R.market)){let U=0;do try{await ghh.Gt(),R.containerNumber=await st.Gn(R),U++,await st.Wt(200)}catch{}while(U<3&&R.containerNumber===0);const F=st.jt("532cad3c015",512),O=await st.Te(R.measurementX,R.measurementY,F),G=await st.xe(R.containerNumber,O.bagId,O.spot.x+1,O.spot.y+1,R.amount);return(p=(g=G==null?void 0:G.header)==null?void 0:g.gold)!=null&&p.text&&st.ke((y=(f=G==null?void 0:G.header)==null?void 0:f.gold)==null?void 0:y.text),void await bg.Yo(n._id)}}c++}while(c<=d&&h>2)},Lo(){const n=JSON.stringify({userId:getJunk(),serverId:gh_UrlInfo.server,language:gh_UrlInfo.country});return CryptoJS.AES.encrypt(n,"")}},mesgs={async zo(){const n=st.jt("452883121c2193d052226",""),l=!st.jt("5f2210f1370151d6129dea1c311d561f1f",!0),c=!st.jt("5f2210f1370151d6129dea1c311d5681f",!0);if(!n||l&&c)return;const d=jQuery("#menue_messages");if(d.find(".menue_new_count").length>0){const h=d.attr("href"),g=await ghh.zt(h),p=st.Yt(g),f=p.find("#menue_messages");d.replaceWith(f);const y=Array.from(p.find(".message_box")),m=st.jt("5d2c1712331f10c1d23223bbe1520",{});let b=!1;const w=h.match(/folder=(\d*)/),k=w&&w[1]||"-1",v=[],I=[];for(const T of y){const _=T.id.match(/\d+/),x=parseInt(_[0]);if(!(x>(m[k]||0)||b))break;if(b||(b=!0,m[k]=x,await st.Tt("5d2c1712331f10c1d23223bbe1520",m)),l&&c)return;const q=jQuery(T);if(!q.find(".message_title.new_message").text().trim())break;const C=q.find(".message_box_title a"),j=q.find(".message_box_icon div")[0].getAttribute("style").indexOf("messages.gif")!==-1,S=C.length>0?C[0].href:null,A=S&&S.includes("mod=player")&&!S.includes(`p=${getJunk()}`)?C.text().trim():void 0,D=j&&!!A,B=!j&&!!A;if(D||B){if(D&&l||B&&c)continue;let Q=q.find(".message_text").text().trim();const N=q.find(".message_date");Q.length>300&&(Q=Q.substring(0,300)+"..."),D?I.push({from:A,content:Q,date:N.text().trim()}):v.push({from:A,content:Q,date:N.text().trim()})}}return{pm:I.reverse(),gm:v.reverse()}}},async Qt(){const n=await this.zo();n&&(n.pm.length||n.gm.length)&&(await mesgs.Ko(n),await st.Tt("5f2210f1370151d6129dea1c311d561d17349216",{date:Date.now()+6e4,c:6}))},Zo:()=>jQuery("#menue_messages").find(".menue_new_count").length>0,async er(n){st.jt("5f2210f1370151d6129dea1c311d56d6",!1)&&n!==""&&await this.Ko({bt:[{from:"Bot",content:n}]})},async nr(n){st.jt("5f2210f1370151d6129dea1c311d56817",!1)&&n!==""&&await this.Ko({ge:[{from:"Bot",content:n}]})},async sr(){const n=st.jt("5f2210f1370151d6129dea1c311d561d17349216",{date:Date.now(),c:0}),l=await mesgs.rr();if(l&&l.length>0)for(const c of l)c.to?await mesgs.ir(c.to,c.content):await mesgs.cr(c.content);l?await st.Tt("5f2210f1370151d6129dea1c311d561d17349216",{date:Date.now()+6e4,c:n.c-1}):await st.Tt("5f2210f1370151d6129dea1c311d561d17349216",{date:Date.now(),c:0})},async ir(n,l){const c=gh_UrlInfo.link({mod:"messages",submod:"messageNew"});await ghh.An(c,{messageRecipient:n,messageSubject:"",messageContent:l,sent:"Sent"})},async rr(){try{const n=await fetch("https://api-gladiatus-helper-a19c864f8989.herokuapp.com/telegram/webhook",{method:"GET",headers:{"Content-Type":"application/json","X-TOKEN":bg.Lo()}});return!!n.ok&&n.json()}catch{return!1}},async Ko(n){await fetch("https://api-gladiatus-helper-a19c864f8989.herokuapp.com/telegram/webhook",{method:"POST",headers:{"Content-Type":"application/json","X-TOKEN":bg.Lo()},body:JSON.stringify(n)})},async cr(n){const l=gh_UrlInfo.link({mod:"guild",submod:"adminMail"}),c=await ghh.zt(l),d=st.Yt(c),h=Array.from(d.find('input[type="checkbox"][name^="qq"]'),p=>p).reduce((p,f)=>(p[f.name]=f.value,p),{}),g={...h,sendmails:"Send",mailText:n};await ghh.An(l,g)}};class PickGoldPacks{constructor(){this.ja=null,this.ma=[],this.lr=[],this.ur=!1,this.dr=0,this.hr={}}async pr(){await st.Tt("5225151e2b1b401db23f17316c0",Date.now()+144e5);const l=this.ba(3);await this.mr(1),await l}async yr(){const l=parseFloat(st.jt("562282211331da4",1e6));await this.Vo(l)}async Vo(l){await this.ba(4,l),await this.Sa(l)}async ba(l,c){let d=1;for(this.ja=await ghh.ya();!this.ur&&d<=this.ja;){const h=[];for(let g=0;g<l&&d<=this.ja;g++)h.push(this.wa(d,5,c)),d++;await ghh.Gt(),await Promise.all(h),this.wr(),await st.Wt(120)}this.ur=!0}async wa(l,c=5,d){try{const h=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:l,submod:"loadMore",f:14,fq:-1}));if(!h||!h.newPackages)throw new Error(`Invalid response for page ${l}`);this.hr[l]=h.newPackages.map(f=>jQuery(f).get(0));const g=jQuery(h.pagination).find(".paging_numbers"),p=g.length?Array.from(g[0].children).pop():null;for(const f of this.hr[l]){const y=st.Ke(f.querySelector("[data-content-type]"));this.dr+=parseInt(y.priceGold)}if(d&&this.dr>d)return void(this.ur=!0);this.ja=p?parseInt(p.textContent||"1",10):1}catch{if(c>0)return await st.Wt(400),this.wa(l,c-1,d)}}wr(){const l=Object.keys(this.hr).map(Number).sort((c,d)=>c-d);for(const c of l)this.hr[c]&&(this.ma.push(...this.hr[c]),delete this.hr[c])}async Sa(l){const c=await st.Te(1,1);let d=st.oe();const h=parseFloat(st.jt("562282211331da43d372d1db",280));for(;!this.ur||this.ma.length>0;){await ghh.Gt();const g=this.ma.shift();if(await st.Wt(h),!g){await st.Wt(200);continue}const p=st.Ke(g.querySelector("[data-content-type]")),f=p.priceGold;if(d+f>l+5e5||this.lr.includes(+p.containerNumber))continue;const y={from:"-"+p.containerNumber,fromX:p.positionX,fromY:p.positionY,to:c.bagId,toX:c.spot.x+1,toY:c.spot.y+1,amount:p.amount};this.lr.push(+p.containerNumber);const m=await st.Pa(y);if(st.ke(m.header.gold.text),d+=f,m.header.gold.value>=l)return await st.Tt("41247d342f3363ae3c1d21",!1),void(this.ur=!0)}await st.Tt("41247d342f3363ae3c1d21",!1)}async mr(l=1){var h;let c=0,d=0;for(;!this.ur||this.ma.length>0;){const g=this.ma.shift();if(!g){await st.Wt(200);continue}const p=st.Ke(g.querySelector("[data-content-type]"));if(!this.lr.includes(+p.containerNumber)){if(!(+(((h=g.querySelector("[data-ticker-time-left]"))==null?void 0:h.getAttribute("data-ticker-time-left"))||"0")/1e3/60/60<24*l))return await ks._r(d,c),void(this.ur=!0);d++,c+=parseInt(p.priceGold)}}await ks._r(d,c),this.ur=!0}async _r(l,c){await st.Tt("56228221126c1961c22",{packs:l,processedGold:c}),l&&await mesgs.nr(`${l} gold packages will expire in the next 24 hours, summing ${c.toLocaleString("de-DE")} Gold `)}}const ks=new PickGoldPacks,et={async vr(){ro.Ct=!0,await st.Tt("5f281c12217e112f01ca29a417313d1d31ed116217",Date.now()+60*st.Oe(15,5)*1e3);const n=st.jt("5c2c16d101a4d7c32153d14a1",[]).filter(g=>g.active),l=st.jt("412151f101c2d154a","");if(!n.length)return ro.Ct=!1;const c=await be.Vt(),d=new Map(st.jt("5c2c16d101a4d7c32153d14a1c1a1d21",[])),h=await et.kr(l);for(const g of n){d.has(g.id)||d.set(g.id,[]);const p=(d.get(g.id)??[]).filter(y=>h.includes(y)),f=g.maxNumberOfListedItems-p.length;f&&l&&(await st.Wt(240),g.type===7?await et.Ir(p,g,f,l):await et.Sr(p,g,l,c)),d.set(g.id,p)}return await st.Tt("5c2c16d101a4d7c32153d14a1c1a1d21",[...d.entries()]),ro.Ct=!1},async Sr(n,l,c,d){const h={material:l.material,quality:Math.max(...l.colors),amount:l.stackSize};for(;d[h.material][h.quality]>l.stackSize&&n.length<l.maxNumberOfListedItems;){const g=l.pricePerUnit*l.stackSize,p=l.duration!==4||await prrs.Rn()?l.duration:3,f=g*(p+1)/100;if(et.Xo(f)&&(!l.pickVat||(await ks.Vo(+f),et.Xo(f))))continue;const y=await st.Te(1,1);if(!y)continue;const m=await et.Dr(h.material,h.quality,h.amount,y.spot.x+1,y.spot.y+1,y.bagId),b=m.tooltip[0][0][0];d[h.material][h.quality]=d[h.material][h.quality]-l.stackSize,await st.Jn(m.itemId,g,parseInt(p),"market");const w=await et.qr(c,b.split(" ")[0]);n.push(w),await st.Wt(240)}},async Dr(n,l,c,d,h,g){var b;await ghh.Gt(),await st.cpsfpi(),await be.De(n,l,c);const p={quality:l,basis:`${gh_itemTypeValues.forgingGoods}-1`},f=await st.qe(p),y=st.Yt(f),m=Array.from(y.find(".packageItem"));for(const w of m){const k=w.querySelector("[data-content-type]");if(st.Ce(k,{amount:c,quality:l,basis:`${gh_itemTypeValues.forgingGoods}-${n}`})){const v=(b=w.querySelector("input"))==null?void 0:b.getAttribute("value");await st.Wt(st.Oe(50,25));const I=await ghh.xe(v,g,d,h,c);if(I)return I}}return!0},async Ir(n,l,c,d){await ghh.Gt();const h=await et.Cr(c);for(const g of h){if(n.length>=l.maxNumberOfListedItems)return;if(!l.colors.includes(parseInt(g.quality)))continue;const p=g.isHealing*l.priceRatio,f=l.duration!==4||await prrs.Rn()?l.duration:3,y=p*(f+1)/100;if(et.Xo(y)&&(!l.pickVat||(await ks.Vo(+y),et.Xo(y))))continue;const m=await st.Te(g.measurementX,g.measurementY);if(!m)continue;const b=await st.xe(g.containerNumber,m.bagId,m.spot.x+1,m.spot.y+1,g.amount);if(!b)continue;await st.Jn(b.to.data.itemId,p,parseInt(f),"market");const w=await et.qr(d,g.itemName.split(" ")[0]);n.push(w),await st.Wt(240)}},Xo:n=>st.oe()<n,async Cr(n){await ghh.ya();const l=[];let c=1,d=15*c>n;const h=await et.wa(l,c,7);for(c++;!d&&c<=h;){const g=[];for(let p=0;p<2&&c<=h;p++)g.push(et.wa(l,c,7)),c++;await Promise.all(g),await st.Wt(200),d=15*c>n}return l},async wa(n,l,c,d=5){try{const h=await st.qe(null,l,{f:c,fq:"-1"}),g=Array.from(st.Yt(h).find(".packageItem")),p=c===7,f=g.map(b=>st.Ke(b.querySelector("[data-content-type]"))).filter(b=>!(b.subType>=23&&b.subType<=35||p&&b.soulboundTo));n.push(...f);const y=st.Yt(h).find(".paging_numbers"),m=y.length?Array.from(y[0].children).pop():null;return m?parseInt(m.textContent||"1",10):1}catch{if(d>0)return await st.Wt(350),et.wa(n,l,c,d-1)}return 1},async kr(n){let l=1,c=1;const d=[];do{const h=gh_UrlInfo.link({mod:"market",fl:0,fq:-1,f:0,qry:"",seller:n,s:"dd",p:l});await ghh.Gt();const g=await ghh.zt(h),p=jQuery(st.Yt(g)).find("#market_table")[0],f=jQuery(st.Yt(g)).find(".standalone")[0];if(!p)break;if(f){const m=jQuery(f).text().match(/(\d+)\s*\/\s*(\d+)/);m&&(c=parseInt(m[2],10))}const y=Array.from(p.querySelectorAll("tr"));for(let m=1;m<y.length;m++){const b=y[m].children[0].querySelector("[data-content-type]"),w=st.Ke(b);d.push(w.itemId)}l++}while(l<=c);return d},async qr(n,l){const c=gh_UrlInfo.link({mod:"market",fl:0,fq:-1,f:0,qry:l,seller:n,s:"dd",p:1});await ghh.Gt();const d=await ghh.zt(c),h=st.Yt(d),g=jQuery(h).find("#market_table")[0];if(!g)return null;const p=Array.from(g.querySelectorAll("tr"));for(let f=1;f<p.length;f++){const y=p[f].children[0].querySelector("[data-content-type]"),m=st.Ke(y);if(m)return m.itemId}return null},Qt:async function(){await st.Tt("5f281c12217e112f01ca29a4173127ca1f37",Date.now()+60*st.Oe(15,5)*1e3),ro.qt=!0;const n=st.jt("5c2c16d101a4d61c3b34",[]).filter(g=>g.active);if(!n.length)return ro.qt=!1;const l=st.jt("5c2c16d101a4d1661a92f3c311b17281d",[]),c=[],d=async g=>{await ghh.Gt();const p=gh_UrlInfo.link({mod:"market",fl:0,fq:"-1",f:"0",qry:"",seller:"",s:"dd",p:g}),f=await ghh.zt(p),y=jQuery(st.Yt(f)).find("#market_table")[0];if(!y)return{lastPage:1};const m=st.Yt(f).find("#content > article > section.standalone").text();let b=1;if(g===1){const j=m.match(/\s+\d+\s+\/\s+(\d+)/);j&&j[1]&&(b=parseInt(j[1],10))}const w=Array.from(y.querySelectorAll("input[name=buyid]")),k=Array.from(y.querySelectorAll("input[name=qry]")),v=Array.from(y.querySelectorAll("input[name=seller]")),I=Array.from(y.querySelectorAll("input[name=f]")),T=Array.from(y.querySelectorAll("input[name=fl]")),_=Array.from(y.querySelectorAll("input[name=fq]")),x=Array.from(y.querySelectorAll("input[name=s]")),q=Array.from(y.querySelectorAll("input[name=p]")),C=Array.from(y.querySelectorAll("tr"));for(let j=1;j<C.length;j++){await ghh.Gt();const S=C[j].children,A=st.En(S[2].innerText.trim()),D=C[j].querySelector("input[name=buy]");if(!D||D.disabled)continue;const B=S[1].innerText.trim(),Q=S[0].querySelector("[data-content-type]"),N=st.Ke(Q);delete N.tooltip,jQuery.extend(!0,N,{id:st.Ln(),seller:B,itemPrice:A,unitPrice:A/N.amount,time:st.Nn(),type:st.cn(Q)});for(const R of n){const L=et.Be(R.condition,N.itemName,N.level),U=R.colors.includes(+N.quality),F=!!R.allowBounded||!N.soulboundTo||N.soulboundTo===getJunk(),O=R.types.includes(+N.type),G=+N.type!=19||+N.basis.split("-")[1]%3===R.toolType,Y=N.unitPrice<=R.maxPriceUnite;if(L&&U&&O&&Y&&G&&F)if(R.autoBuy){if(st.oe()<+N.itemPrice&&(await ks.Vo(+N.itemPrice),st.oe()<+N.itemPrice))return c.push(N),{lastPage:b};const H={buyid:w[j-1].value,qry:k[j-1].value,seller:v[j-1].value,f:I[j-1].value,fl:T[j-1].value,fq:_[j-1].value,s:x[j-1].value,p:q[j-1].value,buy:"Buy"};let P=st.oe();await st.Ar(H),P-=N.itemPrice,st.ke(P),l.push(N)}else c.push(N)}}return{lastPage:b}},{lastPage:h}=await d(1);for(let g=2;g<=h;g++)await d(g);return await st.Tt("5c2c16d101a4d1981bd2f2d1c266203b",c),await st.Tt("5c2c16d101a4d1661a92f3c311b17281d",l),ro.qt=!1},Be:function(n,l,c){return n.every(d=>ghh.Fe(d,[gh_operators.greaterThan,gh_operators.lessThan].includes(d.operator)?c:l))}};class PcHP{constructor(){this.pa=[],this.ma=[]}async ba(l,c){let d=1;const h=await ghh.ya({f:l,fq:-1});for(;d<=500&&d<=h&&pchp.ma.length<7;){await ghh.Gt();const g=[];for(let f=0;f<c&&d<=500;f++)g.push(this.wa(l,d)),d++;const p=await Promise.all(g);for(const f of p)if(f&&f.stopPageNumber)return;await st.Wt(140)}}async wa(l,c,d=10){try{const h=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:c,submod:"loadMore",f:l,fq:-1}));if(!h||!h.newPackages)throw new Error(`Invalid response for page ${c}`);if(this.pa.includes(c))return;this.pa.push(c);const g=h.newPackages.map(b=>jQuery(b).get(0)),p=st.jt("59285a36b11201c726",!1),f=st.jt("59285a30947",!1),y=st.jt("422883161a6102c8934",["7-23","7-24","7-25","7-26","7-27","7-28","7-29","7-31"]).map(b=>parseInt(b.replace("7-",""))),m=g.map(b=>this.va(b,p,f,y)).filter(b=>b);if(m.length>0&&pchp.ma.push(...m),pchp.ma.length>7)return{stopPageNumber:c}}catch{return d>0?(await st.Wt(200),this.wa(l,c,d-1)):{}}}async Pr(){return await this.ba("7",5),await this.Sa()}async Sa(){const l=st.jt("532c7d5f01f20b",512);let c=null,d=0;for(;pchp.ma.length>0&&d<7;){const h=pchp.ma.shift();try{await st.Wt(140);const g=await st.Te(h.measurementX,h.measurementY,l);if(!g)return ghh.he("No space available for healing items in inventory",{itemName:bagpack[l]+1}),await st.Tt("5225151e266155260132115a",Date.now()+6e4),location.reload(),await st.Wt(200);await st.xe(h.containerNumber,g.bagId,g.spot.x+1,g.spot.y+1,h.amount),c={from:g.bagId,fromX:g.spot.x+1,fromY:g.spot.y+1,to:8,toX:1,toY:1,amount:1},d++}catch(g){await errorLog.log(g)}}return!!c&&await st.Pa(c)}va(l,c,d,h){const g=st.Ke(l.querySelector("[data-content-type]"));return g.isFood?g.soulboundTo&&g.soulboundTo!==getJunk()?null:(g.subType!==35||c)&&(!(g.subType>=23&&g.subType<=34)||d&&h.includes(g.subType))?{containerNumber:g.containerNumber,positionX:g.positionX,positionY:g.positionY,amount:g.amount,measurementX:g.measurementX,measurementY:g.measurementY}:null:null}}const pchp=new PcHP,al={async Tr(n=!1){let l,c,d=st.oe();const h=gh_UrlInfo.link({mod:"inventory",sub:3,subsub:1}),g=st.Yt(await ghh.zt(h)),p=g.find("[name=bestechen]").parent().find("img")[0].getAttribute("src").indexOf("premium/token_small/8.png")>-1,f=new Date().getTime()+parseInt(g.find(".new_inventory_timer_text .ticker").data("ticker-time-left")),y=Array.from(g.find("#shop [data-content-type]")).sort((_,x)=>{const q=parseInt(st.jr(_));return parseInt(st.jr(x))-q}).map(_=>{const x=st.Ke(_);return x.itemContent=_,x}).filter(_=>_.isFood&&!_.hasRubies);if(!y.length)return await al.tn(p),n?await st.Tt("5225151e266155260132115a",Date.now()+6e4):await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",f+2e4),void(ro.St=!1);const m=y[y.length-1];if(m.priceGold>d)return n?await st.Tt("5225151e266155260132115a",Date.now()+6e4):await st.Tt("5c24a211a272062d1b3ee17016",m.priceGold),void(ro.St=!1);let b=null,w=!1;const k=y.filter(_=>_.measurementX===2).length>0,v=y.filter(_=>_.measurementX===1).length>0;if(k&&(b=await st.Te(2,2)),!b&&v&&(w=!0,b=await st.Te(1,1)),!b)return n?await st.Tt("5225151e266155260132115a",Date.now()+6e4):await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",new Date().getTime()+3e5),void(ro.St=!1);let I=0,T=0;do{await ghh.Gt();const _=y[T++],x=_.priceGold;if(_.hasRubies||!_.isFood||x>d||w&&_.measurementX===2)continue;const q=await st.Qr(_,b);if(d-=x,n){const C={from:b.bagId,fromX:b.spot.x+1,fromY:b.spot.y+1,to:8,toX:1,toY:1,amount:1},j=await st.Pa(C);return j.header?headerObject.update(j):location.reload(),await st.Wt(200),void(ro.St=!1)}await st.Jn(q.itemId,1,1),I%5!=0&&T!==y.length||(l=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"p",p:1}),c=await ghh.zt(l),await st.Ca(c)),d-=Math.ceil(.02),I++}while(T<y.length);n||(l=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),c=await ghh.zt(l),await st.Ca(c)),I===y.length&&await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",f+2e4),ro.St=!1},Mr(){const n=st.Rr?st.jt("5c24a331ba6621af2b3c10",40):st.jt("5c24a2e10ff01",40);return parseInt(n,10)},Br(){const n=jQuery("#header_values_hp_percent").text().trim().replace("%","");return parseInt(n,10)},Ur(){if(!st.Rr)return!0;const n=st.jt("59285a321ba18d",!1),l=st.jt("5e2b2377d13",!1),c=st.jt("59285a251171d611d",!1),d=parseInt(st.jt("5638da11236100c2f3129113132721d3b1b290",0)),h=Date.now();return!!(n&&h>d)||!!c||!!l},async Fr(){ro.Dt=!0;try{if(await st.$t(),await ghh.Gt(),st.Rr){const n=st.jt("59285a321ba18d",!1),l=st.jt("5e2b2377d13",!1),c=st.jt("59285a251171d611d",!1),d=parseInt(st.jt("5638da11236100c2f3129113132721d3b1b290",0)),h=Date.now(),g=st.jt("4423037232c24aa2e2bb",12),p=st.jt("44230373b1011d22b23211b1c",0);n&&h>d&&g>p?await al.Er(h):c?await al.Lr():l&&await al.Or()}else await al.Nr()}catch(n){await errorLog.log(n)}finally{ro.Dt=!1}},async Er(n){const l=await ghh.zt(gh_UrlInfo.link({mod:"guild_medic"})),c=Array.from(st.Yt(l).find("#guild_medicus_heal a")).filter(d=>d.href.includes("mod=guild_medic"));if(c.length>0){const d=st.jt("44230373b1011d22b23211b1c",0);await st.Tt("44230373b1011d22b23211b1c",d+1),await ghh.zt(c[0].href),location.reload(),await st.Wt(200)}else await st.Tt("5638da11236100c2f3129113132721d3b1b290",n+Array.from(jQuery(l).find("#guild_medicus_heal span[data-ticker-time-left]")).map(d=>parseInt(d.getAttribute("data-ticker-time-left"))).sort()[0])},async Lr(){const n=await ghh.zt(gh_UrlInfo.link({mod:"premium",submod:"inventory"})),l=Array.from(st.Yt(n).find(".premium_activate_button")).find(c=>!c.disabled&&c.getAttribute("onclick").includes("&feature=18&"));if(l){const c=l.getAttribute("onclick"),d=c==null?void 0:c.match(/document\.location\.href='([^']+)'/);d&&d[1]&&(await ghh.zt(d[1]),location.reload(),await st.Wt(200))}else ghh.he("No Potions for healing in inventory ",{itemName:"UW"}),await st.Tt("59285a251171d611d",!1)},async Or(){es.Cg().Vi>4?(await ghh.zt(gh_UrlInfo.link({mod:"underworld",submod:"offering"})),location.reload(),await st.Wt(200)):await st.Tt("5e2b2377d13",!1)},async Nr(){const n=st.jt("59285a36b11201c726",!1),l=st.jt("59285a30947",!1),c=st.jt("422883161a6102c8934",["7-23","7-24","7-25","7-26","7-27","7-28","7-29","7-31"]).map(m=>parseInt(m.replace("7-",""))),d=await st.Je(st.jt("532c7d5f01f20b",512)),h=jQuery("<div>").append(st.Yt(d))[0],g=Array.from(jQuery(h).find(".ui-draggable")).map(m=>st.Ke(m)).filter(m=>!(!m.isFood||m.soulboundTo&&m.soulboundTo!==getJunk()||m.subType===35&&!n||m.subType>=23&&m.subType<=34&&(!l||!c.includes(m.subType))));if(!g.length)return await al.$r();const{currentHealth:p,maxHealth:f}=al.Gr(),y=al.Hr(g,p,f);if(!y)return await st.Tt("5225151e266155260132115a",Date.now()+6e4),location.reload(),void await st.Wt(200);await al.Wr(y)},Gr(){const n=document.querySelector("#header_values_hp_bar");return{currentHealth:parseInt(n.getAttribute("data-value"),10),maxHealth:parseInt(n.getAttribute("data-max-value"),10)}},Hr(n,l,c){let d=null,h=0,g=1/0;return n.forEach(p=>{const f=c-(l+p.isHealing);f>=0&&f<g?(d=p,g=f):f<0&&p.isHealing>h&&(h=p.isHealing,d=p)}),d},async $r(){const n=await pchp.Pr();if(n)headerObject.update(n);else{const l=st.jt("53381d201a173df21b222c1db",!0),c=st.jt("53381d201a17",!1);if(l&&c)return void await al.Xr();ghh.he("No food available for healing in inventory or packages",{itemName:"!"}),await st.Tt("5225151e266155260132115a",Date.now()+12e4)}},async Xr(){const n=st.jt("53381d201a173df21b222c1db",!0),l=st.jt("53381d201a17",!1);n&&l&&await al.Tr(!0)},async Wr(n){const l={from:st.jt("532c7d5f01f20b",512),fromX:n.positionX,fromY:n.positionY,to:8,toX:1,toY:1,amount:1};await st.Pa(l).then(c=>{c.header?headerObject.update(c):location.reload()})},tn:async function(n){const l=await st.jt("4328a3228c1bd3c628382ba1e20dca16b15176bb",0);if(l==2||l==1&&n)return await ghh.an(),await st.Wt(1e3),location.reload(),void await st.Wt(200)}},at={async Vr(){if(await at.Jr("circusTuma"),!st.jt("circusTuma.attackProvServerEnabled",!0))return await st.Tt("5f281c12341a1715a43a323a15e",Date.now()+6e4),ro.wt=!1;const n=gh_UrlInfo.link({mod:"arena",submod:"serverArena",aType:3}),l=await ghh.zt(n),c=st.Yt(l),d=c.find("#own3").children().eq(0).children().eq(0).children();if(d.length<=1)return ro.wt=!1;const h=await at.Yr(d,!1);return await st.Hn()?h>-1?(await at.zr(c.find("div.attack")[h]),ro.wt=!1):await at.Kr(3):ro.wt=!1},async Zr(){if(await at.Jr("arena"),!st.jt("arena.attackProvServerEnabled",!0))return await st.Tt("5f281c12341a1715a42f352d16e",Date.now()+6e4),ro.wt=!1;const n=gh_UrlInfo.link({mod:"arena",submod:"serverArena",aType:2}),l=await ghh.zt(n),c=st.Yt(l),d=c.find("#own2").children().eq(0).children().eq(0).children();if(d.length<=1)return ro.wt=!1;const h=await at.Yr(d,!0);return await st.Hn()?h>-1?(await at.zr(c.find("div.attack")[h]),ro.wt=!1):await at.Kr(2):ro.wt=!1},async Kr(n){const l=gh_UrlInfo.link({mod:"arena",submod:"getNewOpponents",aType:n});return await ghh.An(l,{actionButton:"Search for opponents"}),await st.Wt(500),location.reload(),await st.Wt(500),ro.wt=!1},async Yr(n,l){const c=l?"arena":"circusTuma",d=l?"503f18142741a61db03d11316":"453816b142741a61db03d11316",h=st.jt(`${c}.levelRestriction`,10),g=st.jt(`${c}.players`,[]).map(S=>S.trim().toLowerCase()),p=st.jt(`${c}.ignorePlayers`,[]).map(S=>S.trim().toLowerCase()),f=st.jt(`${c}.servers`,[]).map(S=>S.trim().toLowerCase()),y=st.jt(`${c}.ignoreServers`,[gh_UrlInfo.server]).map(S=>S.trim().toLowerCase()),m=st.jt(d,!0),b=st.jt(`${c}.maxProvAttacks`,5),w=st.jt(`${c}.allowMaxProvAttacks`,!1),k=st.jt(`${c}.attackTargetOnly`,!1),v=ghh.ne();let I=Array.from(n.slice(1).map((S,A)=>{const D=A.children;if(D.length<=1)return null;const B=m&&D[0].querySelector("a span")!==null;return{name:D[0].innerText.trim().toLowerCase(),level:parseInt(D[1].innerText),server:D[2].innerText.trim().toLowerCase(),originalIndex:S,ignored:B}}));if(!I.length)return await st.Tt(`${c}.attackProvServerEnabled`,!1),-1;const T=new Map;I.forEach(S=>{T.set(S.name,(T.get(S.name)||0)+1)}),I=I.filter(S=>T.get(S.name)===1&&!S.ignored),I=I.sort(()=>Math.random()-.5);let _=st.jt(`${c}.provServerAttackData`,{});const x=ghh.ti();_.date!==x&&(_={date:x,data:[]});const q=new Map(_.data.map(S=>{var A;return[(A=S==null?void 0:S.p)==null?void 0:A.trim(),S]}));for(const S of I){const A=`${S.name}-${S.server}`;q.has(A)||q.set(A,{p:A,s:0})}const C=S=>w?q.has(S)?q.get(S).s<b:!1:!0;let j;for(const S of I)if(!p.includes(S.name)&&!y.includes(S.server)&&S.level<=v+h&&g.includes(S.name)&&C(`${S.name}-${S.server}`)){j=S.originalIndex;break}if(j===void 0&&!k){for(const S of I)if(S.level<=v+h&&!p.includes(S.name)&&!y.includes(S.server)&&f.includes(S.server)&&C(`${S.name}-${S.server}`)){j=S.originalIndex;break}}if(j===void 0&&!k){let S=v+h+2;for(const A of I)A.level<=v+h&&!y.includes(A.server)&&!p.includes(A.name)&&A.level<S&&C(`${A.name}-${A.server}`)&&(S=A.level,j=A.originalIndex)}if(j!==void 0){const S=I.find(D=>D.originalIndex===j),A=`${S.name}-${S.server}`;q.has(A)?q.get(A).s++:q.set(A,{p:A,s:1}),_.data=ghh.ei([...q.values()]),await st.Tt(`${c}.provServerAttackData`,_)}return j!==void 0?j:-1},async Jr(eventType){const isAttackEnabled=st.jt(`${eventType}.attackSameServerEnabled`,!1);if(!isAttackEnabled)return!1;const currentTime=Date.now(),isAttackProgressLeagueEnabled=st.jt(`${eventType}.progressLeague`,!1),isAttackScoreEnabled=st.jt(`${eventType}.attackScore`,!1),isAttackScoreSingle=st.jt(`${eventType}.attackScoreSingle`,!1),ignoredPlayers=st.jt(`${eventType}.ignoreSameServerPlayers`,[]),normalPriority=st.jt(`${eventType}.sameServerPlayers`,[]);let sameServerPlayers=normalPriority,lowPriorityPlayers=[];isAttackScoreEnabled&&(lowPriorityPlayers=await at.ai(eventType),sameServerPlayers=[...new Set([...sameServerPlayers,...lowPriorityPlayers])]);let priorityLeaguePlayers=[];isAttackProgressLeagueEnabled&&(priorityLeaguePlayers=await at.ni(eventType!=="arena"),sameServerPlayers=[...new Set([...sameServerPlayers,...priorityLeaguePlayers])]);let attackData=st.jt(`${eventType}.sameServerAttackData`,{});const currentServerDate=ghh.ti();attackData.date!==currentServerDate&&(attackData={date:currentServerDate,data:[]});const playerMap=new Map(attackData.data.map(n=>{var l;return[(l=n==null?void 0:n.p)==null?void 0:l.trim(),n]}));for(const n of sameServerPlayers){const l=n==null?void 0:n.trim();playerMap.has(l)||playerMap.set(l,{p:l,s:0,t:0})}attackData.data=ghh.ei([...playerMap.values()]);const priorityPlayers=new Set([...normalPriority,...priorityLeaguePlayers]),conditionScoreAttack=(n,l)=>isAttackScoreSingle&&!priorityPlayers.has(n)?l<1:l<5;let eligiblePlayers=attackData.data.filter(n=>n&&!ignoredPlayers.includes(n.p)&&n.t<=currentTime&&conditionScoreAttack(n.p,n.s)&&sameServerPlayers.includes(n.p)).sort((n,l)=>n.t-l.t);if(isAttackProgressLeagueEnabled||isAttackScoreEnabled){const n=eligiblePlayers.filter(d=>priorityLeaguePlayers.includes(d.p)),l=eligiblePlayers.filter(d=>!priorityLeaguePlayers.includes(d.p)&&normalPriority.includes(d.p)),c=eligiblePlayers.filter(d=>!priorityLeaguePlayers.includes(d.p)&&!normalPriority.includes(d.p)&&lowPriorityPlayers.includes(d.p));eligiblePlayers=[...n,...l,...c]}if(eligiblePlayers.length===0)return!1;const isDelaySuccessful=await st.Hn();if(!isDelaySuccessful)return ro.wt=!1,!1;let attackSucceeded=!1,battle;for(const n of eligiblePlayers)if(n.s<5&&(n.t=currentTime+60*ghh.oi(15,30)*1e3,await st.Tt(`${eventType}.sameServerAttackData`,attackData),battle=await(eventType==="arena"?ghh.ri:ghh.ii)(n.p),battle.success)){n.s++,attackSucceeded=battle.success,await at.ci(eventType);break}return await st.Tt(`${eventType}.sameServerAttackData`,attackData),attackSucceeded&&(eval(battle.context),await st.Wt(500)),attackSucceeded},li:n=>n.match(/startProvinciarumFight(?:Confirmed)?\(\s*this,\s*(\d+),\s*(\d+),\s*(\d+),\s*['"](\w+)['"]\s*\);?/),async zr(e,nextRevenge=!1){const o=at.li(jQuery(e).attr("onclick"));jQuery("#errorRow").css({display:"none"});const combatData=`mod=arena&submod=doCombat&aType=${o[1]}&opponentId=${o[2]}&serverId=${o[3]}&country=${o[4]}`,retryUrl=combatData.replace("doCombat","confirmDoCombat"),response=await st.Ps("get","ajax.php",retryUrl,retryUrl);response.success?(await at.ci(parseInt(o[1])==2?"arena":"circusTuma"),eval(response.context),await st.Wt(500)):(nextRevenge&&await at.ui(parseInt(o[1])),location.reload(),await st.Wt(400))},async ci(n){const l=st.jt(`${n}.dailyAttacks`,{}),c=ghh.ti(),d={};d[c]=(l[c]??0)+1,await st.Tt(`${n}.dailyAttacks`,d)},di:n=>(st.jt(`${n}.dailyAttacks`,{})[ghh.ti()]??0)<st.jt(`${n}.limitAttacks`,100),async ai(n){const l=st.jt(`${n}.topList`,{}),c=st.jt(`${n}.levelRestriction`,10),d=ghh.ne(),h=ghh.ti();if(!l[h]){const g=st.jt(`${n}.attackScoreP`,1),p=gh_UrlInfo.link({mod:"highscore"}),f=await ghh.An(p,{a:g}),y=st.Yt(f).find("tr").map((b,w)=>{const k=jQuery(w),v=k.find("td.ellipsis a:not(:has(span))"),I=k.find("td").eq(1);if(v.length===0||I.length===0)return null;const T=parseInt(I.text().trim());return isNaN(T)?null:T<=d+c&&T>=d-c?v.text().trim():null}).get(),m={};return m[h]=y,await st.Tt(`${n}.topList`,m),y}return l[h]},async ni(n=!1){const l=gh_UrlInfo.link({mod:"arena",...n?{submod:"grouparena"}:{}}),c=await ghh.zt(l);return st.Yt(c).find("aside.right td.ellipsis a:not(:has(span))").map((d,h)=>jQuery(h).text().trim()).get()},hi(n=2){const l=document.querySelector("#menue_reports");return l&&l.querySelector(".menue_new_count")&&(new RegExp(`t=${n}`).test(l.getAttribute("href"))||parseInt(l.querySelector(".menue_new_count").textContent??"1")>1)},async gi(n=2){const l=gh_UrlInfo.link({mod:"reports",t:n}),c=await ghh.zt(l),d=st.Yt(c),h=jQuery("#menue_reports"),g=d.find("#menue_reports");h.replaceWith(g);const p=d.find("tr.unread").has(".icon_defense").has('a[style*="color: #247F2A;"]').first().find("td:last a").attr("href");if(!p)return await at.ui(n),void await st.Wt(200);await st.Hn(),await at.pi(p,n)},async ui(n=2){const l=n===2?"503f181440d11111b3c223e1d11520":"522416501d3714e40292d01b2020181d11521";await st.Tt(l,Date.now()+60*st.Oe(5,2)*1e3)},async pi(link,type=2){const result=await ghh.zt(link),context=st.Yt(result),onclickElement=context.find(".attack.arrow");try{if(onclickElement){const isProvinciarum=onclickElement.attr("onclick").trim().startsWith("startProvinciarumFight");if(isProvinciarum)await at.zr(onclickElement,!0);else{const playerIdMatch=onclickElement.attr("onclick").trim().match(/startFight\(\s*this,\s*(\d+)/),revengePlayerId=playerIdMatch?playerIdMatch[1]:null,response=await st.Ps("get",`ajax/${type==2?"doArenaFight":"doGroupFight"}.php`,`did=${revengePlayerId}`);response.success?(await at.ci(type==2?"arena":"circusTuma"),eval(response.context),await st.Wt(500)):(await at.ui(type),location.reload(),await st.Wt(400))}}}catch(n){await errorLog.log(n)}},async mi(type=2){const shouldMilkKey=type===2?"503f18143db1b1c3aa21144":"453816b143db1b1c3aa21144",isAttackEnabled=st.jt(shouldMilkKey,!1);if(!isAttackEnabled)return!1;const key=type===2?"503f181423a1823f226311d1d1":"453816b1423a1823f226311d1d1",currentMilkUsers=st.jt(key,[]),currentTime=Date.now(),attackDataKey=type===2?"503f181423a1823f226311d1d11fce":"453816b1423a1823f226311d1d11fce";let attackData=st.jt(attackDataKey,{});const currentServerDate=ghh.ti();attackData.date!==currentServerDate&&(attackData={date:currentServerDate,data:[]});const playerMap=new Map(attackData.data.map(n=>[n.p.trim(),n]));for(const n of currentMilkUsers){const l=n.trim();playerMap.has(l)||playerMap.set(l,{p:l,s:0,t:0})}attackData.data=ghh.ei([...playerMap.values()]);const eligiblePlayers=attackData.data.filter(n=>n&&n.t<=currentTime&&n.s<5).sort((n,l)=>n.t-l.t);if(eligiblePlayers.length===0)return!1;const isDelaySuccessful=await st.Hn();if(!isDelaySuccessful)return ro.wt=!1,!1;let attackSucceeded=!1,battle;for(const n of eligiblePlayers)if(n.s<5){n.t=currentTime+60*ghh.oi(15,30)*1e3,await st.Tt(attackDataKey,attackData),battle=await at.bi(n.p,type),battle.success&&(n.s++,attackSucceeded=battle.success,await at.ci(type===2?"arena":"turma"));break}return await st.Tt(attackDataKey,attackData),attackSucceeded&&(eval(battle.context),await st.Wt(500)),await st.Wt(300),attackSucceeded},async bi(n,l=2){const c=n.split("-"),d=`mod=arena&submod=doCombat&aType=${l}&opponentId=${c[0]}&serverId=${c[1]}&country=${c[2]}`;return await st.Ps("get","ajax.php",d,d.replace("doCombat","confirmDoCombat"))}},ts={async yi(){const n=gh_UrlInfo.link({mod:"quests"}),l=gh_UrlInfo.link({}).split("index")[0],c=await ghh.zt(n),d=st.Yt(c),h=Array.from(d.find(".quest_slot_button.quest_slot_button_cancel")).map(g=>l+g.getAttribute("href"));h.length&&await this.wi(h)},async _i(){const n=gh_UrlInfo.link({mod:"quests"}),l=gh_UrlInfo.link({}).split("index")[0];let c=await ghh.zt(n);const d=st.Yt(c),h=Array.from(d.find(".quest_slot_button.quest_slot_button_finish")).map(f=>l+f.getAttribute("href"));h.length>0&&await this.ki(d);const g=Array.from(jQuery(c).find(".quest_slot_button_restart")).map(f=>l+f.getAttribute("href")),p=[...h,...g];p.length&&(await this.wi(p),c=await ghh.zt(n)),await this.Ii(st.Yt(c),l)},async wi(n){for(const l of n){const c=st.Yt(await ghh.zt(l));st.ke(c.find("#sstat_gold_val")[0].textContent)}},async Si(){try{const n=gh_UrlInfo.link({mod:"quests"}),l=await ghh.zt(n),c=st.Yt(l),d=ts.Di(c);if(d.length<5){const g=this.qi(c);await st.Tt("403811514001b63a283f16",Date.now()+g+100)}await ts.Ci(d);const h=await ts.xi(c);return await st.Wt(100),h.length>0&&await ts.Ai(h),!0}catch(n){return await errorLog.log(n),!1}},Di:n=>Array.from(n.find(".contentboard_slot_active")).map(l=>{var d;const c=(d=l.querySelector(".quest_slot_icon"))==null?void 0:d.getAttribute("style");return ts.Pi(c)}),async xi(n){const l=gh_UrlInfo.link({}).split("index")[0],c=Array.from(n.find(".quest_slot_button_finish")).map(h=>l+(h.getAttribute("href")||"")),d=Array.from(n.find(".quest_slot_button_restart")).map(h=>l+(h.getAttribute("href")||""));if(c.length){await this.ki(n);const h=this.qi(n);await st.Tt("403811514001b63a283f16",Date.now()+h+100)}return[...c,...d]},async Ai(n){await st.Hn(5);for(const l of n)try{const c=st.Yt(await ghh.zt(l));st.ke(c.find("#sstat_gold_val")[0].textContent)}catch(c){await errorLog.log(c)}},async Ii(n,l){const c=this.qi(n);await st.Tt("403811514001b63a283f16",Date.now()+c+100);const d=this.Ti(),h=this.Di(n);await ts.Ci(h);const g=st.jt("4239b163c82f1d461a63a1d113",!1),p=st.jt("4239b163c82f1d461a133da213",!1),f=st.jt("5039107165",!1),y=st.jt("503910716537",!1),m=st.jt("5039107165226c1f",!1),b=st.jt("5039107165200",!1),w=!d.stopArenaInUnder||d.stopArenaInUnder&&!d.isInUnderworld,k=!d.runUntilGetChest||d.runUntilGetChest&&!d.currentHistory.gotTreasureBox,v=[gh_questType.any,gh_questType.combat];(f||d.isInUnderworld||y)&&v.push(gh_questType.item),(f||d.isInUnderworld)&&v.push(gh_questType.expedition),y&&v.push(gh_questType.dungeon),m&&w&&(!g||at.di("arena"))&&v.push(gh_questType.arena),b&&k&&(!p||at.di("circusTuma"))&&v.push(gh_questType.groupArena);const I=this.ji(d).filter(_=>_.active),T=this.Qi(n,I,v);await st.Wt(100),T?await this.Mi(T,l):await this.Ri(n,l)},qi:n=>parseInt(jQuery(n).find("#quest_header_cooldown [data-ticker-type]").data("ticker-time-left"))+200||0,Ti:()=>({stopArenaInUnder:st.jt("4239b16341c61a826012261ca0",!0),runUntilGetChest:st.jt("4338a331b1aa182ea1a4201d1c6",!1),currentHistory:ghh.Bi(),isInUnderworld:st.Rr,questRules:st.jt("403811513c1618c1c",[]),farmQuestEnabled:st.jt("572c16b241b671d",!0)}),async Ci(n){const l=n.includes(gh_questType.combat),c=st.jt("503f18142dc19be1a",!0),d=st.jt("453816b142dc19be1a",!0),h=n.includes(gh_questType.arena)||c&&l,g=n.includes(gh_questType.groupArena)||d&&l,p=n.includes(gh_questType.expedition)||l,f=n.includes(gh_questType.dungeon)||l;await st.Tt("592c17277bd15381ab343c",h),await st.Tt("592c1732032251ca1d33",g),await st.Tt("592c1723d1e61001b72826b3e7201dc",p),await st.Tt("592c172200411613f322db1b",f)},ji:n=>n.isInUnderworld&&n.farmQuestEnabled?ld.As():n.questRules,Qi:(n,l,c)=>Array.from(jQuery(n).find(".contentboard_slot_inactive")).map(d=>ts.Ui(d,l)).filter(d=>d&&(d.pickIfInactive||!d.pickIfInactive&&c.includes(d.questType))&&d.validToPick).sort((d,h)=>h.order-d.order||h.count-d.count).pop(),Ui(n,l){var C,j,S,A;const c=n.querySelector(".quest_slot_button");if(!c)return null;const d=((C=n.querySelector(".quest_slot_icon"))==null?void 0:C.getAttribute("style"))||"",h=ts.Pi(d),g=((j=n.querySelector(".quest_slot_title"))==null?void 0:j.textContent.toLowerCase())||"",p=g.match(/(\d+)/),f=p?parseInt(p[1]):0,y=!!n.querySelector(".quest_slot_time");let m=null,b=!1,w=!1;const k=n.querySelector(".quest_slot_reward_item > img");if(k)try{const D=JSON.parse(jQuery(k).attr("data-tooltip")||"[]");m=D[0][0],b=(((A=(S=D[0])==null?void 0:S[D[0].length-1])==null?void 0:A[2])??0)===250}catch{}const v=n.querySelector(".quest_slot_reward_xp"),I=v!==null&&v.children.length>0,T=Array.from(n.querySelectorAll(".quest_slot_reward_god")).reduce((D,B)=>{var L,U,F,O;const Q=(((L=B.querySelector("[src]"))==null?void 0:L.getAttribute("src"))||"").match(/\/(\w+)\.png/),N=Q?gh_godImageMaps[Q[1]]:"",R=parseInt(((O=(F=(U=B.querySelector("[data-tooltip]"))==null?void 0:U.getAttribute("data-tooltip"))==null?void 0:F.match(/\d+/))==null?void 0:O[0])||"0",10);return N&&(D[N]=R),D},{}),_=this.Fi(n.querySelector(".quest_slot_reward_gold span"));let x=!1,q=999;for(const D of l.filter(B=>B.type===h||B.type===gh_questType.any))ts.Ei(D,g,f,m,y,b,I,T,_)&&(x=!0,w=D.pickIfInactive??!1,q=l.indexOf(D));return{url:c.getAttribute("href")||"",questType:h,count:f,title:g,validToPick:x,order:q,pickIfInactive:w,gold:_}},Ei:(n,l,c,d,h=!1,g=!1,p=!1,f={},y=0)=>n.conditions.every(m=>{switch(m.operator){case gh_filterOperators.minGold:return y>=m.value;case gh_filterOperators.minHonor:return Math.floor(y/10)>=m.value;case gh_filterOperators.contains:return new RegExp(m.value.trim(),"gi").test(l);case gh_filterOperators.notContains:return!new RegExp(m.value.trim(),"gi").test(l);case gh_filterOperators.numberAttackLessThan:return c<m.value;case gh_filterOperators.hasNoTimer:return!h;case gh_filterOperators.itemContains:return!!d&&new RegExp(m.value.trim(),"gi").test(d);case gh_filterOperators.itemNotContains:return!d||!new RegExp(m.value.trim(),"gi").test(d);case gh_filterOperators.rewardIsFood:return g;case gh_filterOperators.rewardIsNotFood:return!g&&d;case gh_filterOperators.rewardContainsAny:return!!d&&m.value.some(b=>new RegExp(b.trim(),"gi").test(d));case gh_filterOperators.hasExperience:return p;case gh_filterOperators.hasApollo:return f.apollo>0;case gh_filterOperators.hasVulcan:return f.vulcan>0;case gh_filterOperators.hasMars:return f.mars>0;case gh_filterOperators.hasMercury:return f.mercury>0;case gh_filterOperators.hasDiana:return f.diana>0;case gh_filterOperators.hasMinerva:return f.minerva>0;default:return!0}}),Pi:n=>n.includes("icon_grouparena")?gh_questType.groupArena:n.includes("icon_arena")?gh_questType.arena:n.includes("icon_items")?gh_questType.item:n.includes("icon_combat")?gh_questType.combat:n.includes("icon_expedition")?gh_questType.expedition:n.includes("icon_dungeon")?gh_questType.dungeon:gh_questType.work,async Mi(n,l){await st.Hn(5),n.url&&await ghh.zt(l+n.url)},async Ri(n,l){await st.Hn(10);const c=jQuery(n).find("#quest_footer_reroll [type=button]"),d=jQuery(n).find(".quest_slot_button:not(.quest_slot_button_accept)").length??0,h=c.attr("onclick"),g=h==null?void 0:h.match(/document\.location\.href='([^']+)'/);d===5&&await st.Tt("403811514001b63a283f16",Date.now()+12e4),g&&d<5&&await ghh.zt(l+g[1])},async ki(n){const l=Array.from(n.find(".quest_slot_button_finish")).map(c=>c.closest(".contentboard_slot"));for(const c of l)await this.Li(c)},async Li(n){var k,v,I,T,_;const l=((k=n.querySelector(".quest_slot_icon"))==null?void 0:k.getAttribute("style"))||"",c=ts.Pi(l),d=!!n.querySelector(".quest_slot_time");let h=!1;const g=n.querySelector(".quest_slot_reward_item > img");if(g)try{const x=JSON.parse(jQuery(g).attr("data-tooltip")||"[]");h=(((I=(v=x[0])==null?void 0:v[x[0].length-1])==null?void 0:I[2])??0)===250}catch{}const p=(T=n.querySelector(".quest_slot_reward_xp span"))==null?void 0:T.getAttribute("data-tooltip"),f=(_=n.querySelector(".quest_slot_reward_honor span"))==null?void 0:_.getAttribute("data-tooltip"),y=this.Oi(p),m=this.Oi(f),b=this.Fi(n.querySelector(".quest_slot_reward_gold span")),w=Array.from(n.querySelectorAll(".quest_slot_reward_god")).reduce((x,q)=>{var A,D,B,Q;const C=(((A=q.querySelector("[src]"))==null?void 0:A.getAttribute("src"))||"").match(/\/(\w+)\.png/),j=C?gh_godImageMaps[C[1]]:"",S=parseInt(((Q=(B=(D=q.querySelector("[data-tooltip]"))==null?void 0:D.getAttribute("data-tooltip"))==null?void 0:B.match(/\d+/))==null?void 0:Q[0])||"0",10);return j&&(x[j]=S),x},{});await this.Ni({godRewards:w,gold:b,honor:m,experience:y,rewardItem:g&&!h?1:0,rewardIsFood:h?1:0,questType:c,hasTimer:d?1:0,date:Date.now()}),await this.$i({godRewards:w,gold:b,honor:m,experience:y,rewardItem:g&&!h?1:0,rewardIsFood:h?1:0,questType:c,hasTimer:d?1:0})},async $i(n){const l={from:Date.now(),total:{gold:0,honor:0,experience:0,rewardIsFood:0,rewardItem:0,hasTimer:0,quests:0,godRewards:{}},types:{}},c=await st.jt("403811511d4d71de1a34",l);Date.now()-c.from>6048e5&&(c.from=Date.now(),c.total.quests=0,c.total.gold=0,c.total.honor=0,c.total.experience=0,c.total.rewardIsFood=0,c.total.rewardItem=0,c.total.hasTimer=0,c.types=l.types),c.total.quests+=1,c.total.gold+=n.gold,c.total.honor+=n.honor,c.total.experience+=n.experience,c.total.rewardIsFood+=n.rewardIsFood,c.total.rewardItem+=n.rewardItem,c.total.hasTimer+=n.hasTimer;const d=n.questType||"unknown";c.types[d]||(c.types[d]={gold:0,honor:0,experience:0,rewardIsFood:0,rewardItem:0,hasTimer:0,quests:0,godRewards:{}});const h=c.types[d];h.quests+=1,h.gold+=n.gold,h.honor+=n.honor,h.experience+=n.experience,h.rewardIsFood+=n.rewardIsFood,h.rewardItem+=n.rewardItem,h.hasTimer+=n.hasTimer;for(const[g,p]of Object.entries(n.godRewards||{}))h.godRewards[g]=(h.godRewards[g]||0)+p,c.total.godRewards[g]=(c.total.godRewards[g]||0)+p;await st.Tt("403811511d4d71de1a34",c)},async Ni(n){const l=st.jt("403811511d4d1881c1af27d1d2131fc1c",[]),c=Date.now()-36e5,d=l.filter(h=>h.date>=c);d.push(n),await st.Tt("403811511d4d1881c1af27d1d2131fc1c",d)},Oi(n){if(!n)return 0;try{const l=JSON.parse(n),c=(l[0][0][0]??"").replace(/\./g,"").match(/\d+/);return c?parseInt(c[0],10):0}catch{return 0}},Fi(n){var c,d;if(!n)return 0;const l=((d=(c=n.childNodes[0])==null?void 0:c.nodeValue)==null?void 0:d.trim().replace(/\./g,""))||"0";return parseInt(l,10)}},el={async Gi(){const n=st.jt("44230373d61ad22f2e24",!1),l=st.jt("44230372321d5","Going in UW!");n&&await mesgs.cr(l),await ts.yi();const c=st.jt("442303719c65b22223e1d3","Normal"),d=gh_UrlInfo.link({mod:"hermit",submod:"enterUnderworld"});await ghh.An(d,{[`difficulty_${c.toLowerCase()}`]:c}),await st.Tt("44230373b1011d3d1b2531",0),await st.Tt("44230373b1011d22b23211b1c",0),await st.Tt("592c172410f17117297353bc202",!1),await st.Tt("443a333141ec1a",null),await st.Wt(400),location.reload(),await st.Wt(2400)},async Hi(n){const l=gh_UrlInfo.link({mod:"hermit",submod:"startTravel"});await ghh.An(l,{travelToCountry:n}),await el.Wi(),await st.Wt(1600),location.reload(),await st.Wt(2400)},async Wi(){const n=Date.now()+32.5/ghh.He()*60*1e3;await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",n),await st.Wt(60),await st.Tt("5f281c12217e112a7b24232b71d35261181a151023d111a261005e42",n),await st.Wt(60),await st.Tt("5f281c12217e112f01c142d1433b31b151c",n)},async Xi(){jQuery("[name=change]").on("click",async()=>{await el.Wi()})}};class ProcessSmeltItems{constructor(){this.ja=null,this.ma=[],this.lr=[],this.ur=!1}async Ji(){await st.Tt("5f281c12217e112a7b2423311b172828171d21290f1bdb4",Date.now()+st.Oe(27e5,9e5));const l=st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]),c=st.jt("50381092636181d3d1b2b2db",[]).filter(g=>g.active);if(l.length>20||!c.length)return;const d=[...new Set(c.flatMap(g=>g.types))],h=ms.ba(d,5);await ms.Sa(),await h}async ba(l,c){ms.ja=await ghh.ya();for(const d of l){let h=1;for(await ms.wa(h,d),h++;!ms.ur&&h<=ms.ja;){const g=[];for(let p=0;p<c&&h<=ms.ja;p++)g.push(ms.wa(h,d)),h++;await Promise.all(g),await st.Wt(100)}}ms.ur=!0}async wa(l,c,d=5){try{const h=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:l,submod:"loadMore",f:c,fq:-1}));if(!h||!h.newPackages)throw new Error(`Invalid response for page ${l}`);const g=h.newPackages.map(y=>jQuery(y).get(0));ms.ma.push(...g);const p=jQuery(h.pagination).find(".paging_numbers"),f=p.length?Array.from(p[0].children).pop():null;ms.ja=f?parseInt(f.textContent||"1",10):1}catch{if(d>0)return await st.Wt(400),ms.wa(l,c,d-1)}}async Sa(){for(;!ms.ur||ms.ma.length>0;){const l=ms.ma.shift();if(!l){await st.Wt(100);continue}const c=l.querySelector("[data-content-type]"),d=st.Ke(c);if(!ms.lr.includes(+d.containerNumber)&&(lt.Me(c,!0),ms.lr.push(+d.containerNumber),st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]).length>20))return void(ms.ur=!0)}}}const ms=new ProcessSmeltItems,ap={Yi:0,async ka(){ro.rt=!0;const n=await ghh.zi(),l=await ap.Qt(n),c=await ap.Qt(n,"3");ap.Ki(l.isWithinOutbidDuration||c.isWithinOutbidDuration,[...l.matchedItems,...c.matchedItems])},Qt:async function(n,l="2"){const c=st.jt("50387121c1d3c61a1d221ad31736",[]).filter(k=>k.active),d=st.jt("50387121c1d5a81a1a28ad16342a11c",!0),h=d&&l==="2"&&!await auction.Zi();if(h&&c.unshift(ap.tc()),!c.length)return{isWithinOutbidDuration:!1,matchedItems:[]};const g=gh_UrlInfo.link({mod:"auction",ttype:l}),p=st.Yt(await ghh.zt(g)),f=auction.ec(n,p),y=p.find('[name="itemLevel"]').val(),m=[];if(f){const k=parseInt(st.jt("43221071b30115ad332d1c266203b261c",0)),v=auction.ac(n,p);k<=Date.now()+3e5&&v&&await st.Tt("43221071b30115ad332d1c266203b261c",Date.now()+36e4)}const b=await ghh.An(g,{doll:1,qry:"",itemLevel:y,itemType:h&&c.length===1?7:0,itemQuality:-1}),w=Array.from(st.Yt(b).find("#auction_table [id^=auctionForm]")).sort((k,v)=>parseInt(jQuery(k).find("[name=bid_amount]").val())-parseInt(jQuery(v).find("[name=bid_amount]").val()));ap.Yi=st.oe();for(const k of w){const v=jQuery(k).find("[data-tooltip]"),I=v.data("tooltip")[0],T=st.Ke(v);delete T.tooltip;const _=parseInt(st.cn(v));jQuery.extend(!0,T,{itemType:_,auctionItem:k.id});const x=parseInt(jQuery(k).find("[name=bid_amount]").val());for(const q of c){const C=q.goldPerLifePointRatio?q.goldPerLifePointRatio:0,j=ap.Be(q.conditions,T.itemName,T.level),S=q.colors.includes(+T.quality),A=q.types.includes(_),D=_===15&&ap.nc(q.mercenary,{strength:parseInt(I[2][0].match(/\d+/)[0]),dexterity:parseInt(I[3][0].match(/\d+/)[0]),agility:parseInt(I[4][0].match(/\d+/)[0]),constitution:parseInt(I[5][0].match(/\d+/)[0]),charisma:parseInt(I[6][0].match(/\d+/)[0]),intelligence:parseInt(I[7][0].match(/\d+/)[0])})||_!==15,B=!T.isFood||T.isHealing/x>=C,Q=_!==1||parseInt((+T.quality>0?I[2][0][0]:I[1][0]).match(/(\d+) - (\d+)/)[1])>=q.damage;if(!(j&&S&&A&&D&&B&&Q))continue;const N=jQuery(k).find(".auction_bid_div")[0].firstElementChild.firstElementChild,R=!!N&&N.tagName.toLowerCase()==="a"&&parseInt(N.href.match(/&p=(\d+)/)[1])===+getJunk(),L={level:T.level,itemType:_,tooltip:[I],class:v.attr("class"),itemName:I[0][0],itemId:k.id,quality:T.quality||0,ttype:l,isMercenary:_===15,itemGold:x,isOutbid:R},U=m.some(F=>F.itemId===L.itemId&&L.isOutbid==F.isOutbid);if(d&&T.isFood){await ap.sc(L,q.maxOutbidItemPrice,f,N,q==null?void 0:q.pickGold,q==null?void 0:q.bidFriends);break}if(U||m.push(L),q.autoBidMatchedItem){await ap.sc(L,q.maxOutbidItemPrice,f,N,q==null?void 0:q.pickGold,q==null?void 0:q.bidFriends);break}}}return{isWithinOutbidDuration:f,matchedItems:m}},async sc(n,l,c,d,h=!1,g=!1){var y,m;const p=((y=d==null?void 0:d.tagName)==null?void 0:y.toLowerCase())==="a",f=g?p&&parseInt((m=d.href.match(/&p=(\d+)/))==null?void 0:m[1])!==+getJunk():!p;if(c&&n.itemGold<=l&&(f||!d)){if(ap.Yi<n.itemGold&&(!h||(await ks.Vo(+n.itemGold),ap.Yi=st.oe(),ap.Yi<n.itemGold)))return;await ghh.Gt();const b=gh_UrlInfo.link({mod:"auction",submod:"placeBid",ttype:n.ttype,rubyAmount:es.Cg().Vi}),w=n.itemId.replace("auctionForm",""),k=await ap.oc(b,n.itemGold,w,n.itemName,n.itemType,n.quality,n.level);k&&(ap.Yi-=n.itemGold,st.ke(ap.Yi)),n.isOutbid=k}},Be:function(n,l,c){return n.every(d=>ghh.Fe(d,[gh_operators.greaterThan,gh_operators.lessThan].includes(d.operator)?c:l))},nc(n,l){for(const c in n)if(!Object.prototype.hasOwnProperty.call(n,c)||!Object.prototype.hasOwnProperty.call(l,c)||l[c]<n[c])return!1;return!0},tc:()=>({goldPerLifePointRatio:parseInt(st.jt("56228225b113809b1727111617fc61d",4)),maxOutbidItemPrice:parseInt(st.jt("50387121c1d5a4e1683dcd1b2127ca1f1417ac1",5e4)),pickGold:st.jt("50387121c1d5a196d2cea01f15f1b41",!1),bidFriends:st.jt("50387121c1d5ab6a13a11a1c211d",!1),types:[7],conditions:[{value:"",operator:gh_operators.contains}],mercenary:{strength:0,dexterity:0,agility:0,constitution:0,charisma:0,intelligence:0},damage:0,colors:[-1,0,1,2],active:!0,id:Date.now()}),async oc(n,l,c,d,h,g,p){const f=await ghh.An(n,{qry:d.replace(/ .*/,"").trim(),itemType:h,itemQuality:g,auctionid:c,itemLevel:p,buyouthd:0,bid_amount:l,bid:"Bid"});return!!st.Yt(f).find("div.messages > div.message.success").length},Ki(n,l){const c=n?1e3*st.Oe(7,4):1e3*st.Oe(70,45);if(st.Tt("5f281c12217e112a7b2423391a113171713a2b1010a",Date.now()+c),st.Tt("50387121c1d5a4e1a24201db3b31b151c",l),n){const d=jQuery("#auctionItemsSection .gh-items-section-header"),h=jQuery("#auctionItemsSection .gh-items-section-content")[0],g=d.find("label")[0];h&&g&&auction.rc(h,g)}}},ftf={forgeSlots:[],cc:async function(n,l,c,d,h,g,p,f,y,m,b){var T;const w=await ftf.Pe(),k=st.jt("5722161103df1b1d3c1a263cd1c",[]);let I=((T=st.jt("50381093311113c3d1b2b2db3c726d1d1c1",[]).find(_=>_.id===y))==null?void 0:T.success)||0;for(const _ of w)if(!(I>=b))try{if(d.includes(_)){if(!await st.Te(1,1))continue;const x=await ftf.lc(h,f);if(!x){ghh.he("Insufficient tools forging ",{itemName:m}),await ftf.uc(y);continue}for(const S in x){const A=x[S];await st.Wt(75),await ftf.dc(A.element,_,Math.ceil(parseInt(S.replace("19-",""))/3))}const q=await ftf.hc(l,n,c,_),C=ftf.fc(q.needed,g),j=await be.Vt();if(!ftf.gc(j,C,!p)||parseInt(q.rent[2])>st.oe()){ghh.he("Insufficient materials or gold for forging ",{itemName:m}),await ftf.uc(y);continue}await ftf.mc(_,n,l,c),await ftf.bc(_,j,C),await ftf.me(_),k.push({slot:_,name:m,end_duration:Date.now()+1e3*(q.duration+2),ruleId:y}),I++}}catch(x){await errorLog.log(x)}await st.Tt("5722161103df1b1d3c1a263cd1c",k)},async bc(n,l,c,d=-1){for(const h in c){const{amount:g,quality:p}=c[h];let f=g;for(let y=parseInt(p,10);y>=d&&f>0;y--){const m=l[h][y]||0;if(m>0){const b=Math.min(f,m),w=await st.Te(1,1);if(!w)continue;const k=await et.Dr(h,y,b,w.spot.x+1,w.spot.y+1,w.bagId);await st.Wt(st.Oe(55,25)),await ftf.Ae(n,k.itemId,b),f-=b,await st.Wt(st.Oe(55,25))}}}},Ae:async(n,l,c)=>{ghh.logger("Moving material to warehouse. Slot:",n,"Item ID:",l,"Amount:",c);const d=gh_UrlInfo.ajaxLink({}),h={mod:"forge",submod:"toWarehouse",mode:"forging",slot:n,iid:l,amount:c,a:new Date().getTime()},g=await jQuery.post(d,h);return ghh.logger("Move material to warehouse response:",g),g},async yc(n,l,c,d){const h=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:801+n,fromX:1,fromY:1,to:d,toX:l,toY:c,amount:1,doll:1}),g={a:new Date().getTime(),sh:gh_UrlInfo.queries.sh};return JSON.parse(await jQuery.post(h,g))},me:async n=>{ghh.logger("Starting forge for slot:",n);const l=gh_UrlInfo.ajaxLink({mod:"forge",submod:"start",mode:"forge",slot:n,a:new Date().getTime()+""}),c=await jQuery.post(l);return ghh.logger("Forge start response:",c),c},mc:async function(n,l,c,d){const h=gh_UrlInfo.ajaxLink({mod:"forge",submod:"rent"}),g={mod:"forge",submod:"rent",mode:"forging",slot:n,rent:"2",item:l,prefix:c,suffix:d,a:Date.now(),sh:gh_UrlInfo.queries.sh};return await jQuery.post(h,g)},hc:async function(n,l,c,d){const h=gh_UrlInfo.ajaxLink({mod:"forge",submod:"updateSlotsData"}),g={mod:"forge",submod:"getPreview",mode:"forging",slot:d,prefix:n,item:l,suffix:c,a:Date.now(),sh:gh_UrlInfo.queries.sh},p=await jQuery.post(h,g);return JSON.parse(p).formula},fc:(n,l)=>Object.entries(n).reduce((c,[d,h])=>{const g=parseInt(d.slice(2),10);return c[g]={amount:h.amount,name:h.name,quality:l[g].quality},c},{}),Pe:async(n=["closed"])=>{ghh.logger("Checking for free slots in forge.");const l=await ghh.Se("forge"),c=JSON.parse(l.match(/slotsData\s*=\s*(.*);/)[1]),d=[];for(let h=0;h<6;h++){const g=c[h]["forge_slots.state"];n.includes(g)&&d.push(h)}return d},wc:async(n=["finished-succeeded"])=>{ghh.logger("Checking for free slots in forge.");const l=await ghh.Se("forge"),c=JSON.parse(l.match(/slotsData\s*=\s*(.*);/)[1]),d=[];for(let h=0;h<6;h++){const g=c[h]["forge_slots.state"];n.includes(g)&&d.push({slot:h,item:c[h].item,success:c[h]["forge_slots.state"]==="finished-succeeded"})}return d},_c:async function(n){const l=gh_UrlInfo.ajaxLink({mod:"forge",submod:"lootbox"}),c={mod:"forge",submod:"lootbox",mode:"forging",slot:n,a:Date.now(),sh:gh_UrlInfo.queries.sh};await jQuery.post(l,c),await ghh.Wa()},async vc(){const n=await ftf.wc(["finished-succeeded","finished-failed"]),l=Date.now();let c=[...st.jt("5722161103df1b1d3c1a263cd1c",[])];const d=[...st.jt("50381093311113c3d1b2b2db",[])];for(const h of n){const g=[...st.jt("50381093311113c3d1b2b2db3c726d1d1c1",[])],p=c.find(b=>b.slot===h.slot);if(!p)continue;const f=d.find(b=>b.id===p.ruleId);if(!f)continue;if(!h.success){await ftf._c(h.slot),c=c.filter(b=>b.slot!==h.slot),await ghh.he(`${ftf.kc(new Date)} Failed forging `,{itemName:f.name});continue}const y=await st.Te(h.item.data.measurementX,h.item.data.measurementY);if(!y)continue;if(await ghh.Ic(`${ftf.kc(new Date)} Forged Successfully ${ftf.Sc(h.item.data.quality)}`,{itemName:f.name}),f.sendTo>0){const b=await ftf.yc(h.slot,y.spot.x+1,y.spot.y+1,y.bagId);if(f.sendTo>1){await st.Jn(b.to.data.itemId,1,1);const w=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"p",p:1}),k=await ghh.zt(w);await st.Ca(k)}}const m=f.qualityAccepted.length?f.qualityAccepted:[-1,0,1,2,3,4];if(f.active&&m.includes(h.item.data.quality)){const b=g.find(w=>w.id===f.id);b?(++b.success,b.success===f.stopSuccess?await ftf.uc(f.id):await st.Tt("50381093311113c3d1b2b2db3c726d1d1c1",g)):(g.push({id:f.id,success:1}),await st.Tt("50381093311113c3d1b2b2db3c726d1d1c1",g))}c=c.filter(b=>b.slot!==h.slot),await st.Wt(100)}await st.Tt("5722161103df1b1d3c1a263cd1c",c),await st.Wt(60),await st.Tt("5f281c12211c1a3261d28283a1fa",l+5e3),await st.Wt(100)},Sc(n){switch(n){case-1:return"white";case 0:return"green";case 1:return"blue";case 2:return"purple";case 3:return"orange";case 4:return"red";default:return"white"}},kc:n=>`${String(n.getDate()).padStart(2,"0")} ${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}:${String(n.getSeconds()).padStart(2,"0")}`,Qt:async function(){const n=ghh.He(),l=new Date().getTime()+60*st.Oe(30,20)*1e3/n;await st.Tt("5f281c12211c1a3261d28283a1fa",l);const c=st.jt("50381093311113c3d1b2b2db",[]).filter(d=>d.active);for(const d of c){const h=Object.values(d.tools).filter(g=>g!==0).map(g=>`19-${g}`);await ftf.cc(d.item,d.prefix,d.suffix,d.slotsToUse,h,d.resources,d.stopResources,d.stopTools,d.id,d.name,d.stopSuccess)}},async uc(n){const l=st.jt("50381093311113c3d1b2b2db",[]),c=l.find(h=>h.id===n);c.active=!1,await st.Tt("50381093311113c3d1b2b2db",l);let d=[...st.jt("50381093311113c3d1b2b2db3c726d1d1c1",[])];d=d.filter(h=>h.id!==c.id),await st.Tt("50381093311113c3d1b2b2db3c726d1d1c1",d)},async lc(n,l=!1){const c=[512,513,514,515],d={};for(const h of c){const g=await st.Je(h),p=jQuery("<div>").append(st.Yt(g))[0];for(const f of n){if(d[f])continue;const y=jQuery(p).find(`.item-i-${f}`).first();if(y.length){const m=parseInt(y.attr("data-amount"),10)||1;d[f]={element:y[0],totalAmount:m}}}}for(const h of n)if(!d[h]&&l)return null;return d},async dc(n,l,c){const d=n.getAttribute("data-container-number"),h=n.getAttribute("data-position-x"),g=n.getAttribute("data-position-y"),p=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:d,fromX:h,fromY:g,to:769,toX:l+1,toY:c,amount:1,doll:1});try{await jQuery.post(p,{a:new Date().getTime()})}catch{}},gc(n,l,c=!1,d=-1){for(const h in l){const{amount:g,quality:p}=l[h],f=parseInt(p,10);if(!n[h])return!1;if((n[h][f]||0)<g){if(!c)return!1;{let y=0;for(let m=f;m>=d&&(y+=n[h][m]||0,!(y>=g));m--);if(y<g)return!1}}}return!0}},pcts={async Dc(){const n=gh_UrlInfo.link({mod:"premium",submod:"centurio"}),l=await ghh.zt(n),c=st.Yt(l),d=jQuery(c).find("#premium_duration .ticker[data-ticker-time-left]");if(d.length>0){const g=parseInt(d.attr("data-ticker-time-left"),10);if(!isNaN(g))return pcts.qc(g)}const h=jQuery(c).find("#premium_duration").text().trim().match(/(\d+)/);if(h){const g=3600*(24*parseInt(h[1],10)-12)*1e3;return pcts.qc(g)}return pcts.Cc()},async qc(n){await st.Tt("5225151e2d61a1d1a1c2e272c61f20",Date.now()+n+26e3)},async Cc(){var f;const n=st.jt("5228a1201ca1b28c1a2e3e191b1711178a","1");if(n==="0")return void await pcts.qc(36e5);await st.$t(),await ghh.ya();let l=1,c=1,d=!1;const h=await st.qe(null,1,{f:7,fq:"-1"}),g=st.Yt(h).find(".paging_numbers"),p=g.length?Array.from(g[0].children).pop():1;for(p&&(c=parseInt((f=p.textContent)==null?void 0:f.trim(),10)||1);!d&&l<=c;){const y=await st.qe(null,l,{f:7,fq:"-1"}),m=st.Yt(y),b=Array.from(m.find(".packageItem"));if(b.length===0)break;for(const w of b){const k=st.Ke(w.querySelector("[data-content-type]"));if([30,35].includes(k.subType)){const v=await st.Te(k.measurementX,k.measurementY);if(!v)return void await pcts.qc(36e5);await st.xe(k.containerNumber,v.bagId,v.spot.x+1,v.spot.y+1,k.amount);const I=await st.Pa({from:v.bagId,fromX:v.spot.x+1,fromY:v.spot.y+1,to:8,toX:1,toY:1,amount:1});return I.header?headerObject.update(I):(location.reload(),await st.Wt(200)),d=!0,void await pcts.qc(36e5)}}l++}d||n!=="2"?await pcts.qc(36e5):await pcts.xc()},async xc(){if(es.Cg().Vi>14){const n=gh_UrlInfo.link({mod:"premium",submod:"activateCenturio",rubyAmount:es.Cg().Vi});return await ghh.zt(n),await pcts.qc(12096e5),location.reload(),void await st.Wt(200)}await pcts.qc(36e5)}},sp={async Ac(){ro.At=!0;const n=st.jt("4225b1626b26a7",!1),l=st.jt("4225b16271bf111a",[]).filter(m=>m.active);let c=!1,d=!1;const h=[],g=async(m,b)=>{try{const w=st.Yt(await ghh.zt(b)),k=st.Pc(w.find("#shop"));c=w.find("[name=bestechen]").parent().find("img")[0].getAttribute("src").indexOf("premium/token_small/8.png")>-1;for(const I of k){const T=jQuery(I),_=await sp.Tc(T,l,b,m);_&&(h.push(_),d=!0)}}catch(w){await errorLog.log(w)}},p=[{sub:1,subsub:0},{sub:1,subsub:1},{sub:2,subsub:0},{sub:2,subsub:1},{sub:3,subsub:0},{sub:3,subsub:1},{sub:4,subsub:0},{sub:4,subsub:1},{sub:5,subsub:0}];if(l.length>0)for(const m of p){const b=gh_UrlInfo.link(jQuery.extend({mod:"inventory"},m));await st.Wt(st.Oe(100,80)),await g(m,b)}await st.Tt("5f281c12217e112a7b24232b71d35261181a151023d111a261005e42",Date.now()+3e5),await st.Tt("4225b163d741c381af2b21c163b31b151c",h);const f=jQuery("#shopItemsSection .gh-items-section-content")[0];f&&(await st.Wt(100),view.jc(f));const y=st.jt("4225b1626b26a72a28261d",0);n&&!d&&y<st.jt("5c2c1c34100631a",10)||d&&y===0?(await sp.tn(c),await st.Tt("4225b1626b26a72a28261d",y+1),await sp.Ac()):n&&await st.Tt("4225b1626b26a7",!1),ro.At=!1},async Tc(n,l,c,d){var y;const h=st.Ke(n),g=h.tooltip[0],p=parseInt(st.cn(n)),f=p===gh_itemTypeValues.mercenary;jQuery.extend(!0,h,{itemType:p});for(const m of l){const b=ap.Be(m.conditions,h.itemName,h.level),w=m.colors.includes(+h.quality),k=m.types.includes(p),v=f&&ap.nc(m.mercenary,{strength:parseInt(g[2][0].match(/\d+/)[0]),dexterity:parseInt(g[3][0].match(/\d+/)[0]),agility:parseInt(g[4][0].match(/\d+/)[0]),constitution:parseInt(g[5][0].match(/\d+/)[0]),charisma:parseInt(g[6][0].match(/\d+/)[0]),intelligence:parseInt(g[7][0].match(/\d+/)[0])})||!f,I=p!==1||parseInt(((y=(+h.quality>0?g[2][0][0]:g[1][0]).match(/(\d+) - (\d+)/))==null?void 0:y[1])??"0")>=m.damage;if(b&&w&&k&&v&&I){if(m.autoBuy&&!h.hasRubies&&!ghh.Qc(h)){if(st.oe()<+h.priceGold&&m.pickGold&&(await ks.Vo(+h.priceGold),await st.Wt(60)),st.oe()<+h.priceGold)return{url:c,tooltip:h.tooltip,class:n.attr("class"),quality:h.quality||0,isMercenary:f,params:d,bought:!1};const T=await st.Te(h.measurementX,h.measurementY),_=await st.Mc(h,h.containerNumber,T);if(m.sendToPackages&&_){await st.Jn(_.itemId,1,1);const x=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),q=await ghh.zt(x);await st.Ca(q)}return await ghh.Ic(`${ftf.kc(new Date)} Bought from Shop `,{itemName:h.itemName}),{url:c,tooltip:h.tooltip,class:n.attr("class"),quality:h.quality||0,isMercenary:f,params:d,bought:!0}}return{url:c,tooltip:h.tooltip,class:n.attr("class"),quality:h.quality||0,isMercenary:f,params:d,bought:!1}}}},tn:async function(n){const l=await st.jt("4328a323db1b19201e3321171",1);if(l==2||l==1&&n)return await ghh.an(),void await st.Wt(200)}},ot={Rc:()=>document.getElementById("blackoutDialog"),async Bc(n){if(!ot.Rc())return await ot.Uc(!1);switch(n){case 0:st.Rr?await ot.Fc():st.jt("55240233bd0",!1)?await ot.Ec():await ot.Lc();break;case 1:await ot.Oc()}return await ot.Uc(!1)},async Fc(){if(!st.jt("442303719c65b2b29291a31791171b",!0))return ot.Nc(0,gh_UrlInfo.queries.reportId,2);const n=st.jt("442303719c65b222827c202317171",0);ot.Rc()&&await ot.Nc(0,gh_UrlInfo.queries.reportId,n+3)},async Ec(){if(!st.jt("543b1812bd15b3bb27171b",!0))return ot.Nc(0,gh_UrlInfo.queries.reportId,2);const n=st.jt("543b18122c1b1d201e3321171",0);ot.Rc()&&await ot.Nc(0,gh_UrlInfo.queries.reportId,n+3)},async Lc(){if(!st.jt("5435143117171d612b29291a31791171b",!0))return ot.Nc(0,gh_UrlInfo.queries.reportId,2);const n=st.jt("5435143117171d61222827c202317171",0);ot.Rc()&&await ot.Nc(0,gh_UrlInfo.queries.reportId,n+3)},async Oc(){if(!st.jt("5538a1101d317ec2b2d3401d31",!0))return ot.Nc(1,gh_UrlInfo.queries.reportId,2);const n=st.jt("5538a1101d38601a838c61d2b",0);ot.Rc()&&await ot.Nc(1,gh_UrlInfo.queries.reportId,n+3)},async Uc(n){await st.Tt("55240233bd0",n)},async Nc(n,l,c){const d=gh_UrlInfo.ajaxLink({}),h={mod:"reports",submod:"lootAction",action:c,reportId:l,type:n,a:Date.now(),sh:gh_UrlInfo.queries.sh};try{await jQuery.post(d,h),location.reload(),await st.Wt(500)}catch{}}},evt={async Qt(){ro.Pt=!0,await evt.$c(),ro.Pt=!1},async Gc(n=1){try{const l=gh_UrlInfo.link({},"ajax/craps.php"),c={type:n,a:new Date().getTime(),sh:gh_UrlInfo.queries.sh};return(await ghh.An(l,c)).cooldownSet??600}catch{return 600}},async $c(){const n=gh_UrlInfo.link({mod:"craps"}),l=await ghh.zt(n),c=st.Yt(l),d=jQuery(c).find("#tossA"),h=jQuery(c).find("#tossB"),g=jQuery(c).find("#tossC"),p=jQuery(c).find("#tossD");let f=null;d.data("free")&&!d.hasClass("disabled")?f=1:h.data("free")&&!h.hasClass("disabled")?f=2:g.data("free")&&!g.hasClass("disabled")?f=3:p.data("free")&&!p.hasClass("disabled")&&(f=4);const y=await st.jt("443e1340c1a300cb",!1);if(!f&&y){const m=await st.jt("543b1813d618cc1a222c3c61120",1),b=jQuery(c).find(evt.Hc(parseInt(m)));if(parseInt(b.data("cost"))<=es.Cg().Vi){const w=parseInt(await evt.Gc(m));return await st.Tt("5f281c12341821d5ec2b2d3c611203a11217",Date.now()+1e3*(w+10)),!0}}if(f){const m=await evt.Gc(f);return await st.Tt("5f281c12341821d5ec2b2d3c611203a11217",Date.now()+1e3*(m+10)),!0}{const m=Math.max(parseInt(jQuery(c).find("#crapsCooldownTimer").find("span").attr("data-ticker-time-left")||"0",10),0),b=m===0?36e5:m;return await st.Tt("5f281c12341821d5ec2b2d3c611203a11217",Date.now()+b),!1}},Hc(n=1){switch(n){case 1:default:return"#tossA";case 2:return"#tossB";case 3:return"#tossC";case 4:return"#tossD"}},async Wc(){ro.wt=!0,await st.Wt(300);const n=jQuery("#submenu2 a").filter(".glow")[0];if(!n)return void(ro.wt=!1);const l=n.href,c=l.match(/[?&]loc=([^&#]*)/)[1],d=l.includes("serverQuest");if(d&&l.includes("serverQuestHighscore"))return await st.Tt("543b1813ec1d71b1d693c11217a1bc",Date.now()+36e5),void(ro.wt=!1);const h=st.Yt(await ghh.zt(l)),g=d?"&serverQuest=1":"",p=parseInt(h.find(".section-header p")[1].innerText.match(/\d+/)[0]);let f=0;if(d){const y=h.find(".expedition_button");for(let m=y.length-1;m>=0;m--)if(!y[m].disabled){f=m+1;break}f=Math.min(f,d?4:st.jt("543b1813d618cc1a222c3501c361a1d1d3b20",1))}else f=st.jt("543b1813d618cc1a222c3501c361a1d1d3b20",1);await st.Tt("543b1813ec1d71b1d",p),await evt.Xc(h,g,c,p,f)},async Xc(n,l,c,d,h){if(n.find("#content .ticker")[0]){const p=parseInt(n.find('[data-ticker-type="countdown"]').attr("data-ticker-time-left"));return await st.Tt("543b1813ec1d71b1d693c11217a1bc",Date.now()+p+100),void(ro.wt=!1)}const g=st.jt("4239b163a02f118bb35",!0);if(l&&g&&!await evt.Vc(c,!1))return await st.Tt("543b1813ec1d71b1d693c11217a1bc",Date.now()+12e4),void(ro.wt=!1);if(d>0){if(st.jt("543b18140211d02d282414a11312c171737010",!1)&&!l){const p=n.find(".expedition_button:not(.disabled)");for(let f=0;f<p.length&&f<3;f++)if(jQuery(p[f]).closest(".expedition_box").find(".expedition_bonus.active").length<4)return await st.Hn(),await ot.Uc(!0),await st.qs(c,f+1,0,l),void(ro.wt=!1)}h!==4||d!==1||l||(h=3),await st.Hn(),await ot.Uc(!0),await st.qs(c,h,0,l)}else if(d===0&&st.jt("4328a322b151171b",!1)&&es.Cg().Vi>14){const p={mod:"location",loc:c,reset:!0};if(l){const y=await evt.Vc(c);if(p.submod="serverQuest",!y)return await st.Tt("543b1813ec1d71b1d693c11217a1bc",Date.now()+12e4),void(ro.wt=!1)}const f=gh_UrlInfo.link(p);await ghh.zt(f)}else d===0&&st.jt("4328a322b151171b",!1)&&es.Cg().Vi>(l?0:h>3?1:0)?(await st.Hn(),await ot.Uc(!0),await st.qs(c,h,1,l)):await st.Tt("543b1813ec1d71b1d693c11217a1bc",Date.now()+36e5);ro.wt=!1},async Vc(n,l=!0){const c=gh_UrlInfo.link({mod:"location",submod:"serverQuestHighscore",loc:n}),d=await ghh.An(c),h=st.Yt(d).find("#content"),g=h.find("tr.highlight"),p=h.find("tr:nth-child(2)")[0],f=h.find("[name=highscoreNr]").val(),y=parseInt(h.find(".paging_numbers_current").text())??1,m=f.split("").pop(),b=y!==1?1e3:parseInt(jQuery(p).children().last().text());let w=0;g.length>0&&(w=parseInt(g.children().last().text()));const k=st.jt("462c12363ac32832283f",[]);return l?w<b&&k.includes(m):w<b}},gw={async Qt(){const n=st.jt("5638da1140201ded2c4111c6",[]),l=st.jt("5638da1140a13701c224111c6",[]),c=gh_UrlInfo.link({mod:"guild_warcamp"}),d=st.Yt(await ghh.zt(c)),h=d.find(`[data-ticker-loc="${c}"]`);if(h.length>0){const y=Math.max(parseInt(h.attr("data-ticker-time-left"),10),0);return void await st.Tt("5f281c12321ba18d38f35",Date.now()+y)}const g=Array.from(d.find('a[href^="index.php?mod=guild&i="]')).map(y=>{const m=y.getAttribute("href"),b=y.textContent.trim(),w=m.match(/i=(\d+)/),k=w?w[1]:null,v=b.match(/^\[(.*?)\]\s*(.+)$/);return{id:k,name:v?v[2]:b}}).filter(Boolean),p=gw.Jc(g);let f=null;for(const{id:y,name:m}of p)if(n.includes(m)){f=y;break}if(!f){const y=p.filter(({name:m})=>!l.includes(m));f=y.length>0?y[Math.floor(Math.random()*y.length)].id:null}if(f)try{await ghh.An(gh_UrlInfo.link({mod:"guild_warcamp",submod:"guild_combat",gid:f}),{combat:"Attack!"}),await st.Tt("5f281c12321ba18d38f35",Date.now()+6e5)}catch(y){await errorLog.log(y),await st.Tt("5f281c12321ba18d38f35",Date.now()+12e4)}else await st.Tt("5f281c12321ba18d38f35",Date.now()+18e5)},Jc(n){for(let l=n.length-1;l>0;l--){const c=Math.floor(Math.random()*(l+1));[n[l],n[c]]=[n[c],n[l]]}return n}},eons={async Qn(){const n=st.jt("523a2790017",{cw:0,time:0});if(n.time<Date.now())try{const l=gh_UrlInfo.link({mod:"premium",submod:"inventory"}),c=await ghh.zt(l,{}),d=st.Yt(c),h=eons.getTokenCountForImage("premium/token/7.jpg",d),g=Date.now()+6e4;return await eons.Yc(h,g),{cw:h,time:g}}catch(l){return await errorLog.log(l),n}return n},async Yc(n,l){await st.Tt("523a2790017",{cw:n,time:l})},getTokenCountForImage(n,l){const c=jQuery(l).find(".contentboard_paper_repeat.contentboard_paper_active_repeat").filter((g,p)=>jQuery(p).find("img.premiumfeature_picture").attr("src").indexOf(n)>-1).first();if(!c.length)return 0;const d=c.find(".premiumfeature_tokencount").text().trim(),h=parseInt(d,10);return isNaN(h)?0:h},async zc(){const n=st.jt("50218922d1431111fb2321c61d2b1d",0)>0;if(!n)return!1;const l=st.jt("523a211e5b71d1d61293b3461f2c1a",20),c=st.jt("523a211e5b71d1d61293b2d1c1721",0),d=c<l,h=(await eons.Qn()).cw>0,g=c===1?h:h||es.Cg().Vi>0;return d&&g||!n||await st.Tt("50218922d1431111fb2321c61d2b1d",0),n&&d&&g&&parseInt(es.Cg().sa)>0&&!st.Kc("expedition",0)},async Zc(){ro.wt=!0;const n=st.jt("52381614100173761a0333a1","italy");if(!n)return ro.wt=!1;parseInt(es.Cg().sa)<1&&await st.Wt(st.Oe(700,400));const l=gh_mobData[n].locations.length,c=st.jt("50391071652f1ba",0);l<c&&await st.Tt("50391071652f1ba",0);const d=l<c?0:c;if(jQuery(`#location_inactive_${d}`).length){const g=gh_mobData[n].locations.find(p=>p.id===parseInt(d));return await ghh.he("Can not attack Expedition ",{itemName:g.name}),ro.wt=!1}const h=await eons.zc();if(st.jt("5038109361f18cc1a527161a1201d",!1)){const g=await ghh.zt(gh_UrlInfo.link({mod:"location",loc:d})),p=st.Yt(g).find(".expedition_button");for(let f=0;f<p.length&&f!==3;f++)if(jQuery(p[f]).closest(".expedition_box").find(".expedition_bonus.active").length<4)return await st.Hn()&&(await ot.Uc(!1),await st.qs(d,f+1,h?1:0,"")),void(ro.wt=!1)}if(await st.Hn())return await ot.Uc(!1),await st.qs(d,st.jt("50391071652e1bb",1),h?1:0,""),ro.wt=!1;ro.wt=!1}};class HhW{tl(l){ghh.Aa(l)?(l.classList.add("underworld-highlight"),l.style.boxShadow="0 0 3px 2px red",l.style.borderRadius="5px"):l.classList.add("normal")}el(l){l.forEach(c=>{if(c.nodeType===1){const d=c;if(d.matches("div[data-basis]:not(.underworld-highlight):not(.normal)"))return void this.tl(d);d.children.length>0&&d.querySelectorAll("div[data-basis]:not(.underworld-highlight):not(.normal)").forEach(h=>this.tl(h))}})}al(){const l=document.getElementById("packages");if(!l)return;let c=null;this.observer=new MutationObserver(d=>{c||(c=requestAnimationFrame(()=>{d.forEach(h=>{h.type==="childList"&&h.addedNodes.length>0&&this.el(h.addedNodes)}),c=null}))}),this.observer.observe(l,{childList:!0,subtree:!1})}sl(){document.body.addEventListener("click",l=>{l.target.classList.contains("awesome-tabs")&&this.ol()})}ol(){document.querySelectorAll("div[data-basis]:not(.underworld-highlight):not(.normal)").forEach(l=>this.tl(l))}rl(){st.jt("79243e19741c1d3a0232da181d3721c26621810",!0)&&(this.ol(),this.al(),this.sl())}}const hhU=new HhW,buffs={async cl(n=1,l=[2,3,4,5,9,10]){const c=await st.qe(null,n,{f:12,fq:"-1"});await ghh.Gt();const d=Array.from(st.Yt(c).find(".packageItem")),h=jQuery(c).find(".paging_numbers"),g=h.length?Array.from(h[0].children).pop():null;if((g?parseInt(g.textContent):1)<n)return await st.Tt("5f281c12371b5122c1e1b2e3815a1c31",new Date().getTime()+72e4),void(ro.dt=!1);let p=!1;const f=await st.Te(1,1),y=st.jt("53221111d1a241b5b3e262b131c",[]);if(d.length>0){for(const m of d){const b=st.Ke(m.querySelector("[data-content-type]"));if(+b.level<2||!["12-1","12-3"].includes(b.basis)||y.some(T=>T.containerNumber===b.containerNumber))continue;let w;if(b.basis==="12-1"?(w=l.includes(3)?3:null,l=l.filter(T=>T!==w)):w=l.shift(),!w)continue;p=!0;const k={from:"-"+b.containerNumber,fromX:b.positionX,fromY:b.positionY,to:f.bagId,toX:f.spot.x+1,toY:f.spot.y+1,amount:b.amount},v=await st.Pa(k),I={from:f.bagId,fromX:f.spot.x+1,fromY:f.spot.y+1,to:w,toX:1,toY:1,amount:1};if((await st.Pa(I)).error||parseInt(b.amount)>1){await st.Ta({id:v.to.data.itemId,price:1});const T=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"p",p:1}),_=await ghh.zt(T);await st.Ca(_)}}return l.length?(p||n++,await buffs.cl(n,l)):(await st.Tt("5f281c12371b5122c1e1b2e3815a1c31",new Date().getTime()+72e4),void(ro.dt=!1))}return buffs.cl(++n,l)},async ll(n=1,l=[6,7,11,2,4,5,9,10]){const c=st.jt("5e2481533111361c9803a171a274",["12-20","12-22"]);c.every(k=>["12-20","12-22"].includes(k))&&(l=l.filter(k=>![2,4,5,9,10].includes(k)));const d=l.filter(k=>[6,7,11].includes(k)),h=l.filter(k=>[2,4,5,9,10].includes(k)),g=await st.qe(null,n,{f:12,fq:"-1"});await ghh.Gt();const p=Array.from(st.Yt(g).find(".packageItem")),f=st.Yt(g).find(".paging_numbers"),y=f.length?Array.from(f[0].children).pop():null;if((y?parseInt(y.textContent):1)<n)return await st.Tt("5f281c12371b5122662",new Date().getTime()+45/ghh.He()*60*60*1e3),void(ro.dt=!1);let m=!1;const b=await st.Te(1,1),w=st.jt("53221111d1a241b5b3e262b131c",[]);if(p.length>0){for(const k of p){const v=st.Ke(k.querySelector("[data-content-type]"));if(w.some(q=>q.containerNumber===v.containerNumber)||!c.includes(v.basis))continue;let I=null;if(["12-20","12-22"].includes(v.basis)&&d.length>0?I=d.shift():["12-21","12-23","12-18","12-19"].includes(v.basis)&&h.length>0&&(I=h.shift()),!I)continue;m=!0;const T={from:"-"+v.containerNumber,fromX:v.positionX,fromY:v.positionY,to:b.bagId,toX:b.spot.x+1,toY:b.spot.y+1,amount:v.amount},_=await st.Pa(T),x={from:b.bagId,fromX:b.spot.x+1,fromY:b.spot.y+1,to:I,toX:1,toY:1,amount:1};if((await st.Pa(x)).error||parseInt(v.amount)>1){await st.Ta({id:_.to.data.itemId,price:1});const q=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"p",p:1}),C=await ghh.zt(q);await st.Ca(C)}l=l.filter(q=>q!==I)}return l.length>0?(m||n++,await buffs.ll(n,l)):(await st.Tt("5f281c12371b5122662",new Date().getTime()+45/ghh.He()*60*60*1e3),void(ro.dt=!1))}return await buffs.ll(++n,l)},async ul(n=1){const l=await st.$t(n);return Array.from(l.find("#buffbar_old img")).map(c=>c.getAttribute("src")).filter(c=>c&&/\/buff\/\d+_\d+\.gif/.test(c)).map(c=>{const d=c.match(/\/buff\/(\d+_\d+)\.gif/);return d&&d[1]?d[1].replace("_","-"):null}).filter(Boolean)}};class PCB{constructor(){this.pa=[],this.ma=[],this.dl=[],this.hl=(l,c)=>l.filter(d=>!c.includes(d))}gl(){this.ma=[],this.dl=[],this.pa=[]}async ba(l,c){let d=1;const h=st.Yt(await st.qe(null,1,{f:l,fq:"-1"})),g=jQuery(h).find(".paging_numbers"),p=g.length?Array.from(g[0].children).pop():null,f=p?parseInt(p.textContent||"1",10):1;for(;d<=500&&d<=f&&pcb.ma.length<100;){await ghh.Gt();const y=[];for(let b=0;b<c&&d<=500;b++)y.push(this.wa(l,d)),d++;const m=await Promise.all(y);for(const b of m)b&&b.stopPageNumber;await st.Wt(160)}}async wa(l,c,d=10){try{const h=await ghh._a(gh_UrlInfo.ajaxLink({mod:"packages",page:c,submod:"loadMore",f:l,fq:-1}));if(!h||!h.newPackages)throw new Error(`Invalid response for page ${c}`);if(this.pa.includes(c))return;this.pa.push(c);const g=h.newPackages.map(y=>jQuery(y).get(0)),p=st.jt("53221111d1a241b5b3e262b131c",[]),f=g.map(y=>{const m=y.querySelector("[data-content-type]"),b=st.Ke(m);return this.dl.includes(b.basis)&&!p.some(w=>w.containerNumber===m.containerNumber)?(this.dl=this.dl.filter(w=>w!==b.basis),b):null}).filter(y=>y);if(f.length>0&&pcb.ma.push(...f),!this.dl.length)return{stopPageNumber:c}}catch{return d>0?(await st.Wt(200),this.wa(l,c,d-1)):{}}}async ka(l=1){ro.dt=!0,this.gl(),await st.Tt("5f281c12371b5122d022b",Date.now()+72e4);const c=await buffs.ul(l),d=pcb.hl(pcb.ml(),c);pcb.dl.push(...d),await this.ba(11,5),await this.Sa(d),ro.dt=!1}async Sa(l){const c=await st.Te(1,1);if(!c)return ghh.he("No space in inventory for buff items",{itemName:"!"});await invW.Bt(c.bagId,c.spot.x,c.spot.y,2,3,"Buffing");let d=[...l];for(;pcb.ma.length>0;){const h=pcb.ma.shift();if(d.includes(h.basis)){d=d.filter(g=>g!==h.basis);try{await st.Wt(100),await pcb.bl(h,c)}catch(g){await errorLog.log(g)}}}await st.Wt(120),await invW.Ft()}async bl(l,c){const d={from:"-"+l.containerNumber,fromX:l.positionX,fromY:l.positionY,to:c.bagId,toX:c.spot.x+1,toY:c.spot.y+1,amount:l.amount},h=await st.Pa(d),g={from:c.bagId,fromX:c.spot.x+1,fromY:c.spot.y+1,to:8,toX:1,toY:1,amount:1};if((await st.Pa(g)).error||parseInt(l.amount)>1){await st.Ta({id:h.to.data.itemId,price:1});const p=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),f=await ghh.zt(p);await st.Ca(f)}}ml(){return st.jt("5021892b726c602127ac1728b161b1",["11-1","11-5","11-9","11-13","11-17","11-25","11-2","11-6","11-10","11-14","11-18","11-21","11-26","11-3","11-4","11-7","11-8","11-11","11-12","11-15","11-16","11-19","11-20","11-22","11-23","11-24","11-27"])}}const pcb=new PCB,dgn={async yl(){const n=gh_UrlInfo.link({mod:"premium",submod:"inventory"}),l=await ghh.zt(n),c=st.Yt(l),d=Array.from(c.find(".premium_activate_button:not(:disabled)")).filter(h=>h.getAttribute("onclick").match(/&feature=6&/gi)).pop();if(d){const h=d.getAttribute("onclick").match(/token=(\d+)/)[1];await st.Tt("443e121141a63fc163a2e251d",Date.now()+3e5),location.href=gh_UrlInfo.link({mod:"premium",submod:"inventoryActivate",feature:6,token:h})}else await st.Tt("443e121141a63fc163a2e251d",Date.now()+36e5)},async wl(){ro.wt=!0,parseInt(es.Cg().oa)<1&&await st.Wt(st.Oe(700,400));const n=gh_UrlInfo.link({mod:"dungeon",loc:st.jt("5538a1101d386c",0)}),l=st.Yt(await ghh.zt(n));return await this._l(l,n),ro.wt=!1},async _l(response,url){const isAdvancedMode=st.jt("583e2523fd17cb",!1),hasStartFightImages=Array.from(jQuery(response).find("img[onclick^=startFight]")).length>0;if(hasStartFightImages){const isDelaySuccess=await st.Hn();if(!isDelaySuccess)return void(ro.wt=!1);const maxLosses=parseInt(st.jt("43281712141c1735f1bb35102c61f201d340130",10));let exceededMaxLosses=!1;if(maxLosses>0){const n=st.jt("432814971a27151de",{}),l=Object.keys(n);let c=0;const d={};for(let h=l.length-1;h>=0&&!exceededMaxLosses;h--){if(d[l[h]]=n[l[h]],n[l[h]]===1){await st.Tt("432814971a27151de",d);break}exceededMaxLosses=++c>=maxLosses}exceededMaxLosses&&await st.Tt("432814971a27151de",{})}const isSkipBoss=st.jt("583e37d1c1e211b1a1c",!1),bossText=st.jt("5322171521b1b0","boss").toLowerCase(),bossId=jQuery(response).find("div[onclick^=startFight]").filter((n,l)=>jQuery(l).text().trim().toLowerCase().includes(bossText)).map((n,l)=>{const c=jQuery(l).attr("onclick").match(/startFight\('(\d+)'/);return c?parseInt(c[1]):null}).get().pop(),startFightImages=Array.from(jQuery(response).find("img[onclick^=startFight]"));let highestFightId=-1,fightId="";if(!exceededMaxLosses)for(const n of startFightImages){const l=n.getAttribute("onclick").match(/startFight\('(\d+)',\s*'(\d+)'\)/);if(l){const c=parseInt(l[1]);if(fightId=l[2],bossId!==null&&isSkipBoss&&c===parseInt(bossId))continue;c>highestFightId&&(highestFightId=c)}}if(highestFightId>-1){const response=await st.Ps("get","ajax/doDungeonFight.php",`did=${fightId}&posi=${highestFightId}`);response.success?(eval(response.context),await st.Wt(500)):(location.reload(),await st.Wt(500))}else{const n=jQuery(response).find("[name=dungeonId]");if(n.length&&n.val()){const l=gh_UrlInfo.link({mod:"dungeon",loc:st.jt("5538a1101d386c",0),action:"cancelDungeon"}),c=await ghh.An(l,{dungeonId:n.val()});await this._l(st.Yt(c),url)}}}else{let n=jQuery(response).find(`input[name=${isAdvancedMode?"dif2":"dif1"}]`);if(n.length&&!n.hasClass("disabled")){const l=isAdvancedMode?{dif2:"Advanced"}:{dif1:"Normal"},c=await ghh.An(url,l);await this._l(st.Yt(c),url)}else if(n=jQuery(response).find("input[name=dif1]"),n.length){const l=await ghh.An(url,{dif1:"Normal"});await this._l(st.Yt(l),url)}}ro.wt=!1}};class AB{constructor(){var l,c;this.vl=1,this.kl=!1,this.Il=()=>[{lo:"532cad1c04",Sl:()=>{const d=st.jt("5221d31b1a3366cb343b28e112e",[]),h=st.jt("532cad5b9c18d2e3283d161b20201fda130",1e5),g=st.jt("532cad5b1c651ca1d33f1731643171a1c30",9e4),p=d.length?h:g;return st.jt("532cad5bdf1dc11a",!1)&&st.Fn()>parseFloat(p)&&Date.now()>st.jt("5f281c1236661722c22e2d161b223711ba137352cf",0)},Dl:async()=>{ro.tt=!0,await bg.Uo(),ro.tt=!1}},{lo:"532cad1c04",Sl:()=>st.jt("532cad5bc21a2",!1)&&st.oe()>=100&&Date.now()>st.jt("5f281c1236661722df2923281d1d26bb1c222568",0),Dl:async()=>{ro.nt=!0,await bg.$o()&&(location.reload(),await st.Wt(1e3)),ro.nt=!1}},{lo:"412c7d321f10",Sl:()=>{const d=st.jt("5221d31b1a3366cb343b28e112e",[]);return!(st.jt("532cad1c04",!1)&&st.jt("532cad5bdf1dc11a",!1)&&d.length)&&st.Fn()>=parseFloat(st.jt("5c24a211a27248c5429162d73c","100000"))&&!st.jt("53221111d1a241b5b3e262b131c",[]).filter(h=>h&&!h.isError).length&&Date.now()>new Date(st.jt("53381df1b93315a48323cd1d171fca",0)).getTime()},Dl:async()=>{ro.kt=!0,await st.ql()}},{lo:"412c7d321f10",Sl:()=>{const d=st.jt("53221111d1a241b5b3e262b131c",[]).find(h=>h&&!h.isError);return d&&!st.Vn(d.packAmount)&&Date.now()>st.jt("42288a25f01ff1a1a323a1d2b1331b",0)},Dl:async()=>{ro.It=!0,await gh.Wn(),ro.It=!1}}],this.Cl=()=>[{lo:"502e10f3f17112aa0333da61d",Sl:()=>Date.now()>parseInt(st.jt("5225151e2d61a1d1a1c2e272c61f20",0))&&!st.Rr,Dl:async()=>{ro.xt=!0,await pcts.Dc(),ro.xt=!1}},{lo:"502e10f3f17112aa0333da61d",Sl:()=>prrs.Bn(),Dl:async()=>{ro.xt=!0,await prrs.Qt(),ro.xt=!1}},{lo:"52228a10d1726c1c1323a1ba1",Sl:()=>Date.now()>parseInt(st.jt("52228a10d1726c1c1323a1ba111715a",0)),Dl:async()=>{ro._t=!0,await st.Tt("52228a10d1726c1c1323a1ba111715a",Date.now()+36e5),await ghh.Wa(),ro._t=!1}},{lo:"462216d17bd17141b29291a317",Sl:()=>st.jt("462216d17bd171411c2238196041c1d113",!1)&&st.jt("workbench.itemList1",[]).length>0&&this.vl>4,Dl:async()=>{await be.Qt()}},{lo:"462216d17bd17141b29291a317",Sl:()=>st.jt("462216d17bd171411c22381960111ba213",!1)&&st.jt("workbench.itemList2",[]).length>0&&this.vl>4,Dl:async()=>{await be.Qt(2)}},{lo:"42201a1b113261d922661d1132721d",Sl:()=>{const d=st.jt("5722161104061a8d222",!1),h=st.jt("5722161103df1b1d3c1a263cd1c",[]).some(g=>g.end_duration<Date.now());return d&&h&&this.vl>4},Dl:async()=>{ro.ft=!0,await ftf.vc(),ro.ft=!1}},{lo:"42201a1b113261d922661d1132721d",Sl:()=>{const d=st.jt("5722161104061a8d222",!1),h=parseInt(st.jt("5f281c12211c1a3261d28283a1fa",0)),g=st.jt("50381093311113c3d1b2b2db",[]).filter(p=>p.active);return d&&h<Date.now()&&g.length>0&&this.vl>4},Dl:async()=>{ro.ft=!0,await ftf.Qt(),ro.ft=!1}},{lo:"42201a1b113261d922661d1132721d",Sl:()=>{const d=st.jt("42201a1b115ac1f25241d",!1),h=parseInt(st.jt("5f281c12211c1a3261d3d2a2d141b",0)),g=st.jt("42201a1b11d4761a2225b291d373d15a1e30",[]).filter(f=>f),p=st.jt("4128a21c043d1da3127a3c1f202c","");return d&&h<Date.now()&&(g.length>0||p)&&this.vl>4},Dl:async()=>{ro.ht=!0,await lt.ras(),ro.ht=!1}},{lo:"412c7d14967",Sl:()=>st.jt("5f28133614d8",!1)&&Date.now()>parseInt(st.jt("43221071b30115ad332d1c266203b261c",0))&&st.oe()>500,Dl:async()=>{ro._t=!0,await pcp.ka()}},{lo:"5225151e2b1b401db23f17316",Sl:()=>Date.now()>parseInt(st.jt("5225151e2b1b401db23f17316c0",0)),Dl:async()=>{ro._t=!0,await ks.pr(),ro._t=!1}},{lo:"412c7d14967",Sl:()=>st.jt("41247d342f3363ae3c1d21",!1),Dl:async()=>{await st.Tt("412c7d321f10",!1),await ks.yr()}},...this.Il(),{lo:"5039107165200",Sl:()=>st.jt("5522301373226c19b292f1d",!1)&&st.jt("522416501d3714e40292d01b2020181d11521",0)<Date.now()&&st.Kc("ct")&&this.vl>9&&at.hi(3)&&!es.Cg().ha,Dl:async()=>{ro.wt=!0,await at.gi(3),ro.wt=!1}},{lo:"5c28171514963a61b721211be62c116",Sl:()=>st.jt("5c28171514963a61b721211be62c116",!1)&&mesgs.Zo(),Dl:async()=>{await mesgs.Qt()}},{lo:"5c28171514963a61b721211be62c116",Sl:async()=>{const d=st.jt("5f2210f1370151d6129dea1c311d561d17349216",{date:Date.now()+6e4,c:0});return st.jt("5c28171514963a61b721211be62c116",!1)&&d.c>0&&d.date<Date.now()},Dl:async()=>{await mesgs.sr()}},{lo:"5039107165200",Sl:()=>{const d=st.jt("4239b163c82f1d461a133da213",!1),h=st.jt("50391071652a123d1a32619da131",!1),g=st.jt("592c1732032251ca1d33",!1),p=st.jt("4338a331b1aa182ea1a4201d1c6",!1),f=st.jt("5f281c12341a1715a43a323a15e",0),y=ghh.Bi();return(!h||h&&g)&&(!p||p&&!y.gotTreasureBox)&&(!d||at.di("circusTuma"))&&st.Kc("ct")&&!es.Cg().ha&&this.vl>9&&f<Date.now()},Dl:async()=>{ro.wt=!0,await at.Vr()}},{lo:"50381093db218",Sl:()=>jQuery("#header_values_hp_percent").length&&al.Br()<al.Mr()&&parseInt(st.jt("5225151e266155260132115a","0"))<Date.now()&&al.Ur(),Dl:al.Fr},{lo:"412c7d14967",Sl:()=>st.jt("42288a3c1a6191a",!1)&&parseInt(st.jt("5f281c12217e112f01c142d1433b31b151c","0"))<Date.now(),Dl:async()=>{await pss.Xa(!0)}},{lo:"53381d201a17",Sl:()=>st.oe()>=parseInt(st.jt("5c24a211a272062d1b3ee17016","0"))&&parseInt(st.jt("5f281c12217e112f01c4201dc192c01f291d2b1","0"))<Date.now()&&!st.jt("53381d201a173df21b222c1db",!0),Dl:async()=>{ro.St=!0,await al.Tr()}},{lo:"50387121c1d5ac1f25241d",Sl:()=>parseInt(st.jt("5f281c12217e112a7b2423391a113171713a2b1010a",0))<Date.now()&&this.vl>3,Dl:async()=>{await ap.ka(),ro.rt=!1}},{lo:"403811511d",Sl:async()=>parseInt(st.jt("403811514001ccc5692b1701e211f1","0"))<Date.now(),Dl:async()=>{ro.yt=!0,await ts.Si(),await st.Tt("403811514001ccc5692b1701e211f1",Date.now()+1e3*st.Oe(40,20)),ro.yt=!1}},{lo:"403811511d",Sl:()=>parseInt(st.jt("403811514001b63a283f16","0"))<Date.now(),Dl:async()=>{ro.yt=!0,await ts._i(),ro.yt=!1}},{lo:"503910716537",Sl:()=>{const d=st.jt("52381614100173761a0333a1","italy")==="britannia",h=st.jt("50218923b10112ee1a2231d16",!1);return!st.Rr&&!es.Cg().ha&&this.vl>9&&h&&parseInt(es.Cg().oa)<6&&!d&&st.jt("443e121141a63fc163a2e251d",0)<Date.now()},Dl:async()=>{await dgn.yl()}},{lo:"503910716537",Sl:()=>{const d=st.jt("50391071652a122d1a0202d1712330bb1b",!1),h=st.jt("592c172200411613f322db1b",!1),g=st.jt("52381614100173761a0333a1","italy")==="britannia";return!st.Rr&&st.Kc("dungeon",1)&&!es.Cg().ha&&this.vl>9&&(!d||d&&h)&&!g},Dl:async()=>{await dgn.wl()}},{lo:"5039107165",Sl:async()=>{const d=st.jt("5038109261ac4281b1a262b131c",!0),h=st.jt("50391071652a122c171e222c111b1b2a0b3e7211617",!1),g=st.jt("592c1723d1e61001b72826b3e7201dc",!1),p=st.jt("583e2091c04301c19222716",!1);return(!d||d&&al.Br()>=al.Mr())&&!st.Rr&&(!h||h&&g)&&(st.Kc("expedition",0)||await eons.zc())&&!p&&!es.Cg().ha},Dl:async()=>{await eons.Zc()}},{lo:"5039107165226c1f",Sl:()=>{const d=st.jt("4239b16341c61a826012261ca0",!0);return st.jt("55222514100226c19b292f1d",!1)&&st.jt("503f181440d11111b3c223e1d11520",0)<Date.now()&&st.Kc("arena")&&!es.Cg().ha&&this.vl>1&&at.hi()&&(!d||d&&!st.Rr)&&al.Br()>=al.Mr()},Dl:async()=>{ro.wt=!0,await at.gi(),ro.wt=!1}},{lo:"5039107165226c1f",Sl:()=>{const d=st.jt("4239b163c82f1d461a63a1d113",!1),h=st.jt("4239b16341c61a826012261ca0",!0),g=st.jt("5038109261ac4281b1a262b131c",!0),p=st.jt("50391071652a12281db2929291a17361a",!1),f=st.jt("592c17277bd15381ab343c",!1),y=st.jt("5f281c12341a1715a42f352d16e",0);return(!h||h&&!st.Rr)&&(!g||g&&al.Br()>=al.Mr())&&(!p||p&&f)&&(!d||at.di("arena"))&&st.Kc("arena")&&!es.Cg().ha&&this.vl>1&&y<Date.now()},Dl:async()=>{ro.wt=!0,await at.Zr()}},{lo:"4239b16341c61a8",Sl:()=>parseInt(st.jt("4239b16341c61a83b72a2d",0))<Date.now(),Dl:async()=>{await st.Tt("5039107165226c1f",!1),await st.Tt("4239b16341c61a8",!1)}},{lo:"4239b16211b11198",Sl:()=>parseInt(st.jt("4239b16211b111983b72a2d",0))<Date.now(),Dl:async()=>{await st.Tt("5039107165200",!1),await st.Tt("4239b16211b11198",!1)}},{lo:"543b181",Sl:()=>{const d=st.jt("5038109261ac4281b1a262b131c",!0);return(!d||d&&al.Br()>=al.Mr())&&parseInt(st.jt("543b1813ec1d71b1d693c11217a1bc",0))<Date.now()&&jQuery("#submenu2 a").filter(".glow")[0]},Dl:evt.Wc},{lo:"543b181",Sl:()=>st.jt("45221715317011",!1)&&parseInt(st.jt("5f281c12341821d5ec2b2d3c611203a11217",0))<Date.now()&&jQuery("#submenu1").find('a[href*="craps"]').length>0,Dl:evt.Qt},{lo:"50218923b10113ba7292e171d112031d1637",Sl:()=>st.Rr&&st.jt("592c172410f17117297353bc202",!1)&&parseInt(st.jt("5f281c12371b5122d022b",0))<Date.now(),Dl:async()=>{await pcb.ka()}},{lo:"50218923b10113c1f935291ca1",Sl:()=>st.Rr&&st.jt("592c172410f17117297353bc202",!1)&&parseInt(st.jt("5f281c12371b5122c1e1b2e3815a1c31",0))<Date.now(),Dl:async()=>{ro.dt=!0,await st.$t(),await ghh.ya(),await buffs.cl(1)}},{lo:"5038109371b512266234",Sl:()=>st.Rr&&st.jt("592c172410f17117297353bc202",!1)&&parseInt(st.jt("5f281c12371b5122662",0))<Date.now()&&st.jt("5e2481533111361c98",["12-20","12-22"]).length>0,Dl:async()=>{ro.dt=!0,await st.$t(),await ghh.ya(),await buffs.ll()}},{lo:"5038109371b5122e0a34",Sl:()=>st.Rr&&st.jt("592c172410f17117297353bc202",!1)&&parseInt(st.jt("5f281c12217e112b1a821f17b1",0))<Date.now()&&st.jt("422883161a6102b1a821f17b1",[]).length>0,Dl:st.xl},{lo:"59285a3611001c2b34",Sl:()=>st.Rr&&parseInt(st.jt("5f281c1226b173cce2427b1b728bb",0))<Date.now(),Dl:async()=>{await st.Al()}},{lo:"442303719c65b3c3226",Sl:()=>{const d=st.jt("5038109261ac4281b1a262b131c",!0),h=st.jt("4423037206c1d2e1a33291b4",0);return(!d||d&&al.Br()>=al.Mr())&&st.Rr&&h<Date.now()&&st.Kc("expedition",0)&&!es.Cg().ha},Dl:async()=>{await ld.Qt()}},{lo:"442303719c65b3c3226",Sl:()=>!st.Rr&&!es.Cg().ha&&this.vl>99&&parseInt(st.jt("5f281c12366617227f341d3b01311b15a1",0))<Date.now(),Dl:async()=>{await es.ta()}},{lo:"442303719c65b3c3226",Sl:async()=>{const d=st.jt("592c17331ba661e01c2b2c3b01311b15a",[])[ld.hs(st.jt("442303719c65b22223e1d3","Normal"))];return!es.Cg().ha&&this.vl>99&&!d&&!st.Rr&&await st.Pl()&&await st.Tl()},Dl:async()=>{jQuery("#header_values_hp_percent").length&&al.Br()<95?await al.Fr():(st.oe()<8e3&&await ks.Vo(8e3),await el.Gi())}},{lo:"453f510102251b1b2b1b292f1d01c",Sl:async()=>{const d=st.jt("52381614100173761a0333a1","italy"),h=Math.min(st.jt("5538a1101d39013e33",12),parseInt(es.Cg().fa)),g=d==="britannia"&&parseInt(es.Cg().sa)<1&&parseInt(es.Cg().oa)>=h,p=d==="germany"&&parseInt(es.Cg().oa)<1,f=st.jt("52221712036376022327f1",0);return!st.Rr&&this.vl>117&&(p||g&&(f>Date.now()+36e5||f<Date.now()))&&!await st.jl()},Dl:async()=>{st.oe()<8e3&&await ks.Vo(8e3);const d=st.jt("52381614100173761a0333a1","italy")==="britannia";await st.Tt("583e2091c04301c19222716",d),await st.Wt(120),await st.Tt("503910716537",d),await st.Wt(100),await el.Hi(d?2:4)}},{lo:"462216d17bd17141b29291a317",Sl:()=>parseInt(st.jt("5f281c1236661722b12b24b",0))<Date.now(),Dl:async()=>{await lls.Qt()}},{lo:"42201a1b113261d922661d1132721d",Sl:()=>st.jt("42201a1b115ac1f25241d",!1)&&parseInt(st.jt("5f281c12217e112a7b2423311b172828171d21290f1bdb4",0))<Date.now()&&this.vl>4,Dl:async()=>{ro.ot=!0,await ms.Ji(),ro.ot=!1}},{lo:"52228a10d17336b212e24b",Sl:()=>parseInt(st.jt("5f281c12217e112a7b24233f016a7141c",0))<Date.now()&&st.jt("5038109361f18cc1a0271c201b291d",[]).length>0,Dl:st.Ql},{lo:"443e1251a1d1714a",Sl:async()=>st.jt("7225151e2ac1851c",0)<Date.now()&&!st.Rr&&await st.Pl()&&!st.jt("583e2091c04301c19222716",!1),Dl:es.Qt},{lo:"5c2c16d101a2a0c21d",Sl:()=>st.jt("5c2c16d101a4d161c16",!0)&&parseInt(st.jt("5f281c12217e112f01ca29a4173127ca1f37",0))<Date.now(),Dl:et.Qt},{lo:"5c2c16d101a2a0c21d",Sl:()=>st.jt("5c2c16d101a4d7c32",!1)&&parseInt(st.jt("5f281c12217e112f01ca29a417313d1d31ed116217",0))<Date.now(),Dl:et.vr},{lo:"4225b166",Sl:()=>parseInt(st.jt("5f281c12217e112a7b24232b71d35261181a151023d111a261005e42",0))<=Date.now(),Dl:sp.Ac},{lo:"5638da112f1708c5",Sl:()=>parseInt(st.jt("5f281c12321ba18d38f35",0))<=Date.now(),Dl:async()=>{ro.wt=!0,await gw.Qt(),ro.wt=!1}},{lo:"5039107165",Sl:()=>!st.Rr&&!st.jt("583e2091c04301c19222716",!1)&&st.jt("462216d3c82d1b3907293cb",!1)&&(parseInt(es.Cg().sa)<1||es.Cg().ha)&&parseInt(st.jt("5f281c123666172291351f171d19",0))<=Date.now(),Dl:async()=>{ro.wt=!0,es.Cg().ha&&(await st.Tt("5f281c123666172291351f171d19",Date.now()+35e3),location.reload(),await st.Wt(400)),await rk.Qt(!0),ro.wt=!1}}],this.Ml=async d=>{this.kl=!0;try{st.jt(d.lo,!1)&&await d.Sl()&&(await ghh.Gt(),await d.Dl(),await st.Wt(200))}catch(h){await errorLog.log(h),await st.Wt(100),st.Rl(),await st.Wt(5e3),location.reload(),await st.Wt(1e3)}this.kl=!1},this.ga=5/parseInt((((l=jQuery("#server-time").next().html())==null?void 0:l.match(/x(\d)$/))??["0","1"])[1]),this.Bl=!document.hidden,this.vl=parseInt(((c=document.getElementById("header_values_level"))==null?void 0:c.innerText)??"0"),document.addEventListener("visibilitychange",this.Ul.bind(this))}Ul(){this.Bl=!document.hidden,this.Bl}async Fl(){await st.Wt(10),ctProgressBar&&(pbm.Bs("ct",ctProgressBar.nowInit,ctProgressBar.end),pbm.Bs("arena",arenaProgressBar.nowInit,arenaProgressBar.end),pbm.Bs("expedition",expeditionProgressBar.nowInit,expeditionProgressBar.end),pbm.Bs("dungeon",dungeonProgressBar.nowInit,dungeonProgressBar.end),await st.Wt(10))}El(){if(window.Header&&Header.prototype.update){const l=Header.prototype.update;Header.prototype.update=function(...c){const d=l.apply(this,c);return pbm.Rs("ct",ctProgressBar.end),pbm.Rs("arena",arenaProgressBar.end),pbm.Rs("expedition",expeditionProgressBar.end),pbm.Rs("dungeon",dungeonProgressBar.end),d}}}async rl(){gh_UrlInfo.resolve(location.href),await this.Fl(),this.El(),hhU.rl(),await st.Ll(),ro.vt||await st.rl(),pc.Ol(),await invW.Qt(),await pc.Nl()}async Nl(){document.querySelector("body > center:nth-child(1) > h1")&&(location.reload(),await st.Wt(400)),await st.Wt(100),await pc.$l()}async $l(){const l=Date.now();for(;_getSessionValue("startScript",!1);){if(await ghh.Gt(),st.Gl())return;const c=await st.Hl();if(c){st.Fn()<parseFloat(st.jt("5c24a211a27248c5429162d73c","100000"))&&st.jt("5522a71b261a8d222",!1)&&await gh.ss(),ro.et(!0);const d=[...this.Il()];for(const h of d)!this.kl&&st.Wl()||await this.Xl(),await this.Ml(h),await st.Wt(500);ro.et(!0),c>Date.now()+36e5/(5/pc.ga)&&Date.now()>st.jt("5f281c123666172291351f171d19",0)&&st.jt("462216d3002165a",!1)&&await rk.Qt(),await st.Wt(1e3)}else{const d=this.Cl().filter(h=>st.jt(h.lo,!1));if(l+60*(ro.vt?.5:3.5)*1e3<=Date.now())return location.reload(),void await st.Wt(3e3);for(const h of d)!this.kl&&st.Wl()||await this.Xl(),await this.Ml(h);await st.Wt(500)}}}async Xl(){return new Promise(l=>{const c=tiW.Vl(async()=>{!this.kl&&st.Wl()&&(tiW.Jl(c),l(!0))},500,!0)})}Ol(){let l=_getSessionValue("startScript",!1);window.addEventListener("sessionStorageChange",c=>{if(c.detail.key==="startScript"){const d=_getSessionValue("startScript",!1);d&&!l&&pc.Nl(),l=d}})}}const pc=new AB;class TIW{constructor(){this.Yl=[],this.Ms=[],this.zl={},this.Kl=0,this.Zl=this.js()}tu(){return this.Kl+=1,parseInt(this.Kl.toString())}Vl(l,c,d){const h=this.tu(),g=pc.Bl?c:d?c*pc.ga:c;if(typeof Worker<"u"&&this.Zl){this.Zl.postMessage({type:"setInterval",id:h,interval:g});const p=f=>{f.data.type==="interval"&&f.data.id===h&&l()};this.zl[h]=p,this.Zl.addEventListener("message",p)}else this.Ms[h]=window.setInterval(l,g);return h}Jl(l){if(typeof Worker<"u"&&this.Zl)this.Zl.postMessage({type:"clearInterval",id:l}),this.zl[l]&&(this.Zl.removeEventListener("message",this.zl[l]),delete this.zl[l]);else{const c=this.Ms[l];c&&(clearInterval(c),delete this.Ms[l])}}ye(l,c,d){const h=this.tu(),g=pc.Bl?c:d?c*pc.ga:c;if(typeof Worker<"u"&&this.Zl){const p=f=>{var y;f.data.type==="timeout"&&f.data.id===h&&(l(),(y=this.Zl)==null||y.removeEventListener("message",p))};this.Zl.postMessage({type:"setTimeout",id:h,delay:g}),this.Zl.addEventListener("message",p)}else this.Yl[h]=window.setTimeout(()=>{l()},g);return h}eu(l){if(!(typeof Worker<"u"&&this.Zl)){const c=this.Yl[l];c&&(clearTimeout(c),delete this.Yl[l])}}js(){try{const l=new Blob([`
    const timers = new Map();

    self.onmessage = function(event) {
      const { type, id, delay, interval } = event.data;
      if (type === 'setTimeout') {
        timers.set(id, setTimeout(() => {
          self.postMessage({ type: 'timeout', id });
          timers.delete(id);
        }, delay));
      }

      if (type === 'setInterval') {
        timers.set(id, setInterval(() => {
          self.postMessage({ type: 'interval', id });
        }, interval));
      }

      if (type === 'clearTimeout' || type === 'clearInterval') {
        if (timers.has(id)) {
          clearTimeout(timers.get(id));
          clearInterval(timers.get(id));
          timers.delete(id);
        }
      }
    };
  `],{type:"application/javascript"}),c=URL.createObjectURL(l);return new Worker(c)}catch{return null}}}const tiW=new TIW,auction={ec:function(n,l){const c=auction.au(n,l);return parseInt(st.jt("50387121c1d5a61a1a25211c2b737fc61d2a",gh_auctionState.veryshort))<=c},ac:function(n,l){return auction.au(n,l)==gh_auctionState.veryshort},au:function(n,l){const c=l.find(".description_span_right b").text().trim().toLowerCase(),d=gh_auctionStateMap[n];for(const h in d)if(d[h].toLowerCase()==c.toLowerCase())return gh_auctionState[h];return null},Zi:async function(){const n=st.jt("5c2c1c201a172488b34",50),l=st.Yt(await st.qe(null,1,{f:7,fq:"-1"})),c=jQuery(l).find(".paging_numbers"),d=c.length?Array.from(c[0].children).pop():null;return(d?parseInt(d.textContent||"1",10):1)>n},rc:function(n,l){view.nu(n);const c=st.jt("50387121c1d5a4e1a24201db3b31b151c",[]);c.sort((p,f)=>(p.isMercenary?1:p.itemGold)-(f.isMercenary?1:f.itemGold));for(const p of c){const f=view.Za("div",null,"auction_item_div"),y=view.Za("div");y.style="position: relative";const m=[p.class.split(" ")[0]];p.quality!==void 0&&m.push("item-quality-"+gh_qualityMap[p.quality+1]);const b=view.Za("div",null,m.join(" "));if(tooltips!==void 0&&tooltips.set(y,p.tooltip),f.onclick=()=>location.href=gh_UrlInfo.link({mod:"auction",qry:(p.itemName||"").split(" ")[0],itemType:p.itemType,itemId:p.itemId,ttype:p.ttype}),y.appendChild(b),f.appendChild(y),p.isOutbid){const w=ghh.su("","","outbid quest_slot_button_finish");ghh.La(w,[{text:"Outbid already",color:"#00ff00"}]),f.appendChild(w)}n.appendChild(f)}const d=c.filter(p=>p.isOutbid).length,h=c.length,g="Bidden {biddenCount} / {total} items".replace("{biddenCount}",d).replace("{total}",h);return tiW.ye(()=>{l&&(l.innerText=g)},100),n}},view={Za(n,l,c,d){const h=document.createElement(n);return c&&(h.className=c),d&&(h.textContent=d),l&&(h.id=l),h},ou:function(n){const l=n[0];let c=l.length-1,d="";do d=JSON.stringify(l[c--]);while(d.indexOf("%)")<0);const h=l[c][0];let g=h.match(/\d+\\\/\d+\s\((\d+)%\)/gi);return g||(g=h.match(/\d+\/\d+\s\((\d+)%\)/gi)),parseInt(g[0].match(/\((\d+)%\)/)[1])},iu:function(n){const l=n[0];let c=l.length-1,d="";do d=JSON.stringify(l[c--]);while(d.indexOf("%)")<0);const h=l[c+1][0];let g=h.match(/\d+\\\/\d+\s\((\d+)%\)/gi);return g||(g=h.match(/\d+\/\d+\s\((\d+)%\)/gi)),parseInt(g[0].match(/\((\d+)%\)/)[1])},cu:function(n,l,c){const d=view.Za("select");for(const h of n){const g=view.Za("option",null,null,h.name);g.value=h.value,g.selected=h.value.toString()==l.toString(),d.appendChild(g)}return jQuery(d).on("change",function(){const h=view.lu(this);c&&c(h)}),d},lu:function(n){const l=n.selectedIndex===void 0?this.event.srcElement:n;return l.value||l.options[l.selectedIndex].value},uu(n,l){const c=view.Za("label",null,l);return c.textContent=n,c},nu(n){if(n)for(;n.firstChild;)n.removeChild(n.firstChild)},jc(n){view.nu(n);const l=st.jt("4225b163d741c381af2b21c163b31b151c",[]);for(const c of(l.sort((d,h)=>(h.isMercenary?1:0)-(d.isMercenary?1:0)),l)){const d=view.Za("div",null,"auction_item_div");(f=>{d.onclick=()=>{location.href=gh_UrlInfo.link(jQuery.extend({mod:"inventory"},f))}})(c.params);const h=view.Za("div");h.style="position: relative";const g=[c.class.split(" ")[0]];c.quality!==void 0&&g.push("item-quality-"+gh_qualityMap[c.quality+1]);const p=view.Za("div",null,g.join(" "));tooltips!==void 0&&tooltips.set(d,c.tooltip),h.appendChild(p),d.appendChild(h),n.appendChild(d)}return n},La(n,l){const c=[[]];let d=0;for(const h of l)c[0].push(["<div "+(d==l.length-1?'style="padding-bottom: 5px"':"")+">"+h.text+"</div>",h.color,h.width]),d++;jQuery(n).data("tooltip",c),tooltips!==void 0&&tooltips.set(n,c)},ie:null,te:null,du(){const n=view.Za("div","shopItemsSection","gh-items-section"),l=view.Za("div",null,"gh-items-section-content gh-content-scroll"),c=view.Za("i",null,"gh-icon-shop"),d=st.jt("4225b1626b000001727b662c116",{top:230,left:20});jQuery(n).css(d);const h=view.Za("div",null,"gh-items-section-header");view.La(h,[{text:"This section shows all high quality items in shop",color:"#00ff00"}]),jQuery(h).on("mousedown",function(p){const f=jQuery(n);view.ie={currentClientX:parseInt(f.css("left").replace("px",""),10),currentClientY:parseInt(f.css("top").replace("px",""),10),clientX:p.clientX,clientY:p.clientY}}).on("mouseup",function(){const p=jQuery(n),f={top:parseInt(p.css("top").replace("px",""),10),left:parseInt(p.css("left").replace("px",""),10)};st.Tt("4225b1626b000001727b662c116",f),view.ie=null}),jQuery(document).on("mousemove",function(p){if(view.ie){const f=p.clientX-view.ie.clientX,y=p.clientY-view.ie.clientY;jQuery(n).css({left:view.ie.currentClientX+f,top:view.ie.currentClientY+y})}});const g=view.uu("Shop items");h.append(c),h.append(g),n.append(h),n.append(l),view.jc(l),document.body.append(n)},fu(){const n=view.Za("div","auctionItemsSection","gh-items-section"),l=view.Za("div",null,"gh-items-section-content gh-content-scroll"),c=view.Za("i",null,"gh-icon-auction-house"),d=st.jt("50387121c1d27cc1a2e27163f1d367c61d2a",{top:100,left:20});let h=null;jQuery(n).css(d);const g=view.Za("div",null,"gh-items-section-header");ghh.La(g,[{text:"This section shows all matched filter items in Auction House",color:"#00ff00"}]);const p=view.uu(),f=view.$a("Clear",()=>{st.Tt("50387121c1d5a4e1a24201db3b31b151c",[]),location.reload()});jQuery(g).on("mousedown",y=>{const m=jQuery(n);h={currentClientX:parseInt(m.css("left").replace("px","")),currentClientY:parseInt(m.css("top").replace("px","")),clientX:y.clientX,clientY:y.clientY}}).on("mouseup",()=>{const y=jQuery(n),m={top:parseInt(y.css("top").replace("px","")),left:parseInt(y.css("left").replace("px",""))};st.Tt("50387121c1d27cc1a2e27163f1d367c61d2a",m),h=null}),jQuery(document).on("mousemove",y=>{if(h){const m=y.clientX-h.clientX,b=y.clientY-h.clientY;jQuery(n).css({left:h.currentClientX+m,top:h.currentClientY+b})}}),g.append(c),g.append(p),n.append(g),n.append(l),n.append(f),auction.rc(l,p),document.body.append(n)},$a(n,l){const c=jQuery('<button type="button">');return c.addClass("awesome-button"),c.text(n),c.click(l),c[0]},za(n,l,c){const d=view.Za("input",n);return d.type=l,c&&(d.className=c),d},Ka(n,l,c,d,h){const g=this.Za("div",null,["row",h].join(" ")),p=this.Za("div",null,"field-label");n&&p.appendChild(this.Za("label",null,c,n)),g.appendChild(p),g.appendChild(this.Za("div",null,"border"));const f=this.Za("div",null,"field-content");for(const m of l)m&&f.appendChild(m);for(const m of(g.appendChild(f),d=d||[]))m&&g.appendChild(m);const y=this.Za("div",null,"row-wrapper");return y.appendChild(g),y},Ja(n,l=[],c){const d=jQuery('<div class="item-type-list">'),h={};n.forEach(p=>{const f=jQuery(`<span class="item-type"><i class="item-type-icon ${p.icon}"></i></span>`);h[p.value]=f;const y=l.includes(p.value);f.toggleClass("active",y),ghh.La(f[0],[{text:p.name,color:"#00ff00"}]),f.on("click",()=>{if(l.includes(p.value)){const m=l.indexOf(p.value);m!==-1&&l.splice(m,1),f.removeClass("active")}else l.push(p.value),f.addClass("active");c&&c(l)}),d.append(f)});const g=jQuery('<div class="row" style="margin-inline-start: auto"></div>');return jQuery('<a class="link" href="javascript:void(0);">Select All</a>').appendTo(g).click(()=>{l.length=0,n.forEach(p=>l.push(p.value)),n.forEach(p=>{h[p.value].addClass("active")}),c&&c(l)}),jQuery('<a class="link" href="javascript:void(0);">Clear All</a>').appendTo(g).click(()=>{l.length=0,n.forEach(p=>{h[p.value].removeClass("active")}),c&&c(l)}),d.append(g),d[0]},Ya(n=[],l){const c=jQuery('<div class="item-type-list">');return gh_itemQualities.forEach(d=>{const h=jQuery(`<span class="item-type with-quality">
         <span class="quality" style="background-color: ${d.name}"></span>
       </span>`),g=n.includes(d.value);h.toggleClass("active",g),ghh.La(h[0],[{text:d.name,color:"#00ff00"}]),h.on("click",()=>{const p=n.includes(d.value);if(n.length>1||!p){if(p){const f=n.indexOf(d.value);f!==-1&&n.splice(f,1)}else n.push(d.value);h.toggleClass("active",!p),l&&l(n)}}),c.append(h)}),c[0]}},ghh={logger:(...n)=>{},mgifpti:async function(n,l){try{const c=jQuery("#inventory_nav").find(".awesome-tabs.current")[0].getAttribute("data-bag-number"),d=n.parentElement.getAttribute("data-container-number"),h=ghh.un(n),g=ghh.gu(1,1);if(!g)return l(!1);const p=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:d,fromX:1,fromY:1,to:c,toX:g.x+1,toY:g.y+1,amount:h}),f=await jQuery.post(p,{a:new Date().getTime()}),y=JSON.parse(f);return y&&y.header&&headerObject.update(y),l(!0)}catch{return l(!1)}},gu:function(n,l){const c=document.getElementById("inv"),d=[5,8],h=st.vn(jQuery(c));return st._n(l,n,st.pu(d[0],d[1],h))},Gt:async()=>{if(_getSessionValue("startScript",!1)){if(globalThis.chrome.firefox)await st.Tt("5a28116342a2c3b72a2d",new Date().getTime()+15e3);else if(ghExtensionId)try{const n=parseInt(st.jt("432ca21a327115e17",5));await ghh.mu({isKeepAlive:!0,delay:n+5})}catch{}}},bu:async()=>{const n=await ghh.zi();await st.Tt("5322171521b1b0",ghh.wu(n))},wu:function(n){return n=="es"?"jefe":n=="hu"?"főnök":n=="lt"?"bosas":n=="it"?"capo":n=="br"?"chefe":n=="ru"?"bожак":"boss"},mu:async n=>{if(!ghExtensionId)return;const l=globalThis.chrome;if(l&&l.runtime&&l.runtime.sendMessage)try{await new Promise((c,d)=>{l.runtime.sendMessage(ghExtensionId,n,h=>{l.runtime.lastError?d(new Error(l.runtime.lastError.message)):c(h)})})}catch{}},Jt:function(n){return n.filter(function(l,c,d){return d.indexOf(l)==c})},ei:function(n){let l,c,d=n.length;for(;d;)c=Math.floor(Math.random()*d--),l=n[d],n[d]=n[c],n[c]=l;return n},oi:function(n,l){return Math.round(Math.random()*(l-n)+n)},ri:async function(n){const l=gh_UrlInfo.link({dname:n,a:new Date().getTime()},"ajax/doArenaFight.php"),c=await ghh.zt(l);return{success:c.indexOf("jQuery('#errorRow')")<0,context:c}},ii:async function(n){const l=gh_UrlInfo.link({dname:n,a:new Date().getTime()},"ajax/doGroupFight.php"),c=await ghh.zt(l);return{success:c.indexOf("jQuery('#errorRow')")<0,context:c}},je:async function(n,l,c,d,h){var m;const g=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:l,fromX:1,fromY:1,to:c,toX:d,toY:h,amount:1,doll:n}),p=await jQuery.post(g),f=JSON.parse(p);if(!f||!f.to)return!1;const y=(m=f==null?void 0:f.to)==null?void 0:m.data;return y.positionX=d,y.positionY=h,y},Se:async function(n="workbench"){const l=gh_UrlInfo.link({mod:"forge",submod:n});return await ghh.ve(()=>ghh.zt(l))},Qe:async function(n,l,c,d,h){var f,y;const g=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:c,fromX:d,fromY:h,to:l,toX:1,toY:1,amount:1,doll:n}),p=await jQuery.post(g,{});return(y=(f=JSON.parse(p))==null?void 0:f.to)==null?void 0:y.data},_e:async function(n){var d;let l,c=1;await st.cpsfpi();do{await ghh.Gt();const h=await st.qe(n,c++),g=st.Yt(h);if(!l){const y=jQuery.find(".paging_numbers"),m=y.length?Array.from(y[0].children).pop():null;l=m?parseInt(m.textContent):1}const p=Array.from(g.find(".packageItem"));let f=0;for(;f<p.length;f++){const y=p[f],m=y.querySelector("[data-content-type]");if(st.Ce(st.Ke(m),n)){const b=(d=y.querySelector("input"))==null?void 0:d.getAttribute("value");return await ghh.xe(b,n.containerNumber,n.positionX,n.positionY,n.amount)}}}while(c<10&&c<l);return!1},xe:async function(n,l,c,d,h){const g=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:"-"+n,fromX:1,fromY:1,to:l,toX:c,toY:d,amount:h}),p=await jQuery.post(g,{a:new Date().getTime()}),f=JSON.parse(p);return f&&f.header&&headerObject.update(f),!(!f.to||!f.to.data)&&f.to.data},ve:function(n){return new Promise(async l=>{await ghh.Gt();let c=0,d=!1,h=null;do{await ghh.Gt(),c++;try{h=await Promise.resolve(n());const g=ghh.cs(h);if(g&&(g.error||g.needsReload)){h=!1;break}d=!0}catch{}}while(c<3&&!d);l(h)})},cs:function(n){try{return JSON.parse(n)}catch{}return!1},Ha:function(n){const l=n.toString().split("").reverse();let c=Math.ceil(l.length/3)-1;for(;c>0;c--)l.splice(3*c,0,".");return l.reverse().join("")},le:function(n){const l=n[0];let c=l.length-1,d="";do ghh.Gt(),d=JSON.stringify(l[c--]);while(d.indexOf("%)")<0);const h=l[c+1][0];let g=h.match(/\d+\\\/\d+\s\((\d+)%\)/gi);return g||(g=h.match(/\d+\/\d+\s\((\d+)%\)/gi)),parseInt(g[0].match(/\((\d+)%\)/)[1])},zi:async()=>{if(st.jt("5d2ca10f4113d6322",0)<Date.now()){const n=st.Yt(await ghh._u()).find('[name="displayLanguage"]').val();return await st.Tt("5d2ca10f4113d6322",Date.now()+9e5),await st.Tt("5628102a1404188b",n),n||"en"}return st.jt("5628102a1404188b","en")},_u:()=>{const n=gh_UrlInfo.link({mod:"settings",submod:"gameSettings"});return ghh.ve(()=>ghh.zt(n))},su:function(n,l,c){const d=view.Za("a");return d.textContent=n,d.target="_blank",d.href=l,d.className=c,d},La:function(n,l){const c=[[]];let d=0;for(const h of l)c[0].push(["<div "+(d==l.length-1?'style="padding-bottom: 5px"':"")+">"+h.text+"</div>",h.color,h.width]),d++;jQuery(n).data("tooltip",c),tooltips!==void 0&&tooltips.set(n,c)},vu:function(n){jQuery(n).data("tooltip",""),tooltips!==void 0&&tooltips.set(n,[])},Re:function(n){let l=st.Ke(n);const c=st.xa(l.basis),d=l.tooltip[0];l=jQuery.extend(!0,l,{itemType:c,itemName:d[0][0],itemNameWord:d[0][0]}),l.containerNumber<0&&(l.containerNumber*=-1);const h=jQuery(n).closest(".packageItem");if(h.length&&(l.timeLeft=parseInt(h.find("[data-ticker-time-left]").attr("data-ticker-time-left"))),c===gh_itemTypeValues.mercenary&&jQuery.extend(!0,l,{strength:parseInt(d[2][0].match(/\d+/)[0]),dexterity:parseInt(d[3][0].match(/\d+/)[0]),agility:parseInt(d[4][0].match(/\d+/)[0]),constitution:parseInt(d[5][0].match(/\d+/)[0]),charisma:parseInt(d[6][0].match(/\d+/)[0]),intelligence:parseInt(d[7][0].match(/\d+/)[0])}),c===gh_itemTypeValues.weapons){const p=l.quality||0,f=!!l.soulboundTo,y=(p>0?d[f?3:2][0][0]:d[1][0]).match(/(\d+) - (\d+)/);y&&y.length===3&&(l.damage=parseInt(y[1]))}l.isGreen=l.quality===gh_itemQuality.green,l.isBlue=l.quality===gh_itemQuality.blue,l.isPurple=l.quality===gh_itemQuality.purple,l.isOrange=l.quality===gh_itemQuality.orange,l.isRed=l.quality===gh_itemQuality.red;const g=ghh.Aa;return g&&(l.isUnderworldItem=g(n)),l},He:function(){return parseInt((jQuery("#server-time").next().html().match(/x(\d)$/)||["0","1"])[1])},Aa:function(n){const l=n.getAttribute("data-basis"),c=n.getAttribute("data-hash");if(!l||!c)return!1;const d=parseInt(l.split("-")[0]);if(![1,2,3,4,5,6,8,9,20].includes(d))return!1;const h=c.split("-"),g=parseInt(h[6],36),p=parseInt(h[5],36);return Nh.includes(p)||Oh.includes(g)},ku:function(n,l,c){const d=n.getAttribute("data-basis"),h=n.getAttribute("data-hash");if(!d||!h)return!1;const g=parseInt(d.split("-")[0]);if(![1,2,3,4,5,6,8,9,20].includes(g))return!1;const p=h.split("-"),f=parseInt(p[6],36),y=parseInt(p[5],36);return c.includes(y)||l.includes(f)},Iu:function(n){const l=n.find("#char"),c=[];for(const d of gh_dollItemContentType)c.push("div[data-content-type="+d+"]");return Array.from(l.find(c.join(",")))},an:async function(){const n=gh_UrlInfo.link({mod:"inventory",sub:1,subsub:0}),l=await ghh.ve(()=>ghh.An(n,{bestechen:"New goods"}));return await st.Tt("4225b1631f1715","{}"),await st.Tt("5f281c12217e112f01c142d1433b31b151c",0),await st.Tt("5f281c12217e112a7b24232b71d35261181a151023d111a261005e42",0),await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",0),l},un:function(n){return jQuery(n).attr("data-amount")},Su:function(n){return jQuery(n).attr("data-position-x")},Du:function(n){return jQuery(n).attr("data-position-y")},ne:function(){return parseInt(document.getElementById("header_values_level").textContent)},fn:function(n){return st.cn(n)=="14"},dn:function(n){return-1*parseInt(jQuery(n).parent().attr("data-container-number"))},Wa:async function(){const n=gh_UrlInfo.ajaxLink({mod:"forge",submod:"storageIn",inventory:0,packages:"1",sell:1,a:new Date().getTime()+""});await jQuery.post(n,{})},qu:()=>{const n=location.href.match(/https?:\/\/s(\d+)-(\w+)\.gladiatus\.gameforge\.com\/game\/(?:index|main).php\?(.*)/i);return{server:n[1],country:n[2]}},nn:async function(){const n=new Date().getTime(),l={},c=[{sub:1,subsub:0},{sub:1,subsub:1},{sub:1,subsub:2},{sub:2,subsub:0},{sub:2,subsub:1},{sub:2,subsub:2},{sub:3,subsub:1},{sub:3,subsub:2},{sub:4,subsub:0},{sub:4,subsub:1},{sub:4,subsub:2},{sub:5,subsub:0},{sub:5,subsub:1},{sub:5,subsub:2},{sub:6,subsub:0},{sub:6,subsub:1},{sub:6,subsub:2}],d=async(f,y=6)=>{try{return await ghh.zt(f)}catch(m){if(y>0)return await st.Wt(250),d(f,y-1);throw new Error(m.message)}},h=Math.ceil(c.length/4),g=[];for(let f=0;f<c.length;f+=h)g.push(c.slice(f,f+h));const p=async f=>{const y=f.map(m=>{const b=gh_UrlInfo.link(jQuery.extend({mod:"inventory"},m));return d(b).then(w=>{const k=st.Yt(w),v=k.find("#shop")[0],I=v.getAttribute("data-container-number"),T=st.vn(jQuery(v));if(l[I]={totalSpace:48-ghh.kn(T),grid:st.pu(8,6,T)},l.hasClothe===void 0){const _=k.find("[name=bestechen]").parent().find("img")[0].getAttribute("src");l.hasClothe=_.indexOf("premium/token_small/8.png")>-1,l.expiredTime=n+parseInt(k.find("[data-ticker-time-left]")[0].getAttribute("data-ticker-time-left"))}}).catch(()=>{})});await Promise.all(y)};for(const f of g)await p(f),await st.Wt(250);return await st.Wt(st.Oe(160,70)),l},Qc:n=>{var l;return(((l=n.tooltip)==null?void 0:l[0])||[]).filter(c=>c.length===3).length>=([gh_itemTypeValues.mercenary,gh_itemTypeValues.reinforcements,gh_itemTypeValues.upgrades,gh_itemTypeValues.usable,gh_itemTypeValues.scroll].includes(parseInt(n.basis.split("-")[0]))?2:1)},rs:async function(){const n=[],l=[{sub:1,subsub:0},{sub:1,subsub:1},{sub:1,subsub:2},{sub:2,subsub:0},{sub:2,subsub:1},{sub:2,subsub:2},{sub:3,subsub:1},{sub:3,subsub:2},{sub:4,subsub:0},{sub:4,subsub:1},{sub:4,subsub:2},{sub:5,subsub:0},{sub:5,subsub:1},{sub:5,subsub:2},{sub:6,subsub:0},{sub:6,subsub:1},{sub:6,subsub:2}],c=async(p,f=6)=>{try{return await ghh.zt(p)}catch(y){if(f>0)return await st.Wt(250),c(p,f-1);throw new Error(y.message)}},d=Math.ceil(l.length/3),h=[];for(let p=0;p<l.length;p+=d)h.push(l.slice(p,p+d));const g=async p=>{const f=p.map(async y=>{const m=gh_UrlInfo.link(jQuery.extend({mod:"inventory"},y));try{const b=await c(m),w=st.Yt(b),k=st.Pc(w.find("#shop"));n.push(...k.map(v=>st.Ke(v)).filter(v=>v.averagePrice&&!v.hasRubies&&ghh.Qc(v)))}catch{}});await Promise.all(f)};for(const p of h)await g(p),await st.Wt(250);return await st.Wt(st.Oe(160,70)),n},kn:function(n){let l=0;for(let c=0;c<n.length;c++){const d=n[c];l+=d.h*d.w}return l},Fe:(n,l)=>{const c=n.operator;let d=l,h=n.value;switch(typeof d=="string"&&(d=d.toLowerCase().trim()),typeof h=="string"?h=h.toLowerCase().trim():Array.isArray(h)&&(h=h.map(g=>g.toLowerCase().trim())),c){case gh_operators.containsN:return Array.isArray(h)?h.some(g=>d.includes(g)):d.includes(h);case gh_operators.nContainsN:return Array.isArray(h)?!h.some(g=>d.includes(g)):!d.includes(h);case gh_operators.contains:return d.includes(h);case gh_operators.containsWord:return d.split(" ").includes(h);case gh_operators.greaterThan:return parseInt(d)>parseInt(h);case gh_operators.lessThan:return parseInt(h)>parseInt(d);case gh_operators.startWith:return d.startsWith(h);case gh_operators.endWith:return d.endsWith(h);case gh_operators.isTrue:return d==1;case gh_operators.isWD:return ghh.Aa(l);case gh_operators.isNWD:return!ghh.Aa(l);case gh_operators.containsR:{const g=h.items.length?h.items.map(f=>f.p).filter(f=>f!==void 0):[],p=h.items.length?h.items.map(f=>f.s).filter(f=>f!==void 0):[];return ghh.ku(l,p,g)}default:return!1}},async zt(n,l={}){const c=async()=>{const d=await fetch(n,l);if(!d.ok)throw new Error(`Fetch failed with status ${d.status}`);return await d.text()};try{return await c()}catch{await st.Wt(360);try{return await c()}catch(h){throw h}}},async _a(n,l={}){const c=await fetch(n,l);try{return await c.clone().json()}catch{}return await c.text()},async An(n,l={}){const c=[];for(const g in l)c.push(`${encodeURIComponent(g)}=${encodeURIComponent(l[g])}`);const d=jQuery('meta[name="csrf-token"]').attr("content");c.push("csrf_token="+encodeURIComponent(d));const h=await fetch(n,{method:"POST",body:c.join("&"),headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-Token":d},redirect:"follow"});try{return await h.clone().json()}catch{}return await h.text()},wn:function(n){return jQuery(n).attr("data-measurement-y")},yn:function(n){return jQuery(n).attr("data-measurement-x")},ya:async(n={})=>{await st.Cu("del_asc");const l=await st.Cu("del_asc",n),c=st.Yt(l).find(".paging_numbers"),d=c.length?Array.from(c[0].children).pop():null;return d?parseInt(d.textContent||"1",10):1},Bi:function(){let n=st.jt("50391071656102de72b313061311a61737",{});const l=ghh.ti();let c=n[l];return c||((n={})[l]=c={}),c},ti:function(){const n=ghh.xu();return n[0]+"-"+n[1]+"-"+n[2]},xu:function(){var l;const n=(l=document.getElementById("server-time"))==null?void 0:l.getAttribute("data-start-time");return JSON.parse(n)},Au:async function(n){const l={};l[ghh.ti()]=n,await st.Tt("50391071656102de72b313061311a61737",l)},Pu:function(n,l,c=[]){let d;const h=document.createElement("ul"),g=[],p=[],f=st.jt(l,c),y=["1","2","3","4","5","8"],m=l==="412c7d14965a1aa2222bca1611178a342b173367e";for(const I of n){p.push(I.value);const T=document.createElement("li"),_=document.createElement("input");T.appendChild(_),_.type="checkbox",_.checked=f.indexOf(I.value)>-1,_.id="chk"+I.name.replace(" ",""),_.value=I.value,function(q){jQuery(_).click(function(){const C=st.jt(l,[...f]).filter(j=>j!="");this.checked?C.push(q):C.splice(C.indexOf(q),1),st.Tt(l,C),w.checked=C.length==p.length,m&&d&&(d.checked=C.filter(j=>y.indexOf(j)>-1).length==y.length)})}(I.value);const x=document.createElement("label");x.htmlFor=_.id,x.textContent=I.name,x.title=I.name,T.appendChild(x),h.appendChild(T),g.push(_)}const b=document.createElement("li"),w=document.createElement("input");b.appendChild(w),w.type="checkbox";let k=st.jt(l,[]).filter(function(I){return I!=""});w.checked=k.length==p.length,w.id="chkAll"+l,jQuery(w).click(function(){for(const I of g)I.checked=this.checked;st.Tt(l,this.checked?p:[]),d&&(d.checked=this.checked)});const v=document.createElement("label");if(v.htmlFor=w.id,v.textContent=gh_lang.global.all,b.appendChild(v),h.appendChild(b),m){const I=document.createElement("li");d=document.createElement("input"),I.appendChild(d),d.type="checkbox",k=st.jt(l,[]).filter(_=>y.indexOf(_)>-1),d.checked=y.every(_=>k.indexOf(_)>-1),d.id="chkAllClothe"+l,jQuery(d).click(function(){for(const q of g)y.indexOf(q.value)>-1&&(q.checked=this.checked);const _=st.jt(l,[]).filter(q=>q),x=this.checked?_.concat(y).filter((q,C,j)=>j.indexOf(q)===C):_.filter(q=>y.indexOf(q)<0);st.Tt(l,x),w.checked=g.length==x.length});const T=document.createElement("label");T.htmlFor=d.id,T.textContent="All clothes",I.appendChild(T),h.appendChild(I)}return h},u_wbf:function(n,l,c){const d=document.createElement("fieldset");d.className=c;const h=document.createElement("legend");return h.textContent=l,d.appendChild(h),d.appendChild(n),d},Sn:{Tu:function(n,l,c){let d,h,g;if(l=="shop")h=document.getElementById("shop"),g=[8,6];else if(l=="inv")h=document.getElementById("inv"),g=[5,8];else{if(l=="market")return h=document.getElementById("market_sell"),{x:(d=jQuery(h).offset()).left+32+1,y:d.top+32+1,parent:h};if(l!="char"){if(l=="avatar"){const w=jQuery("#avatar").offset();return{x:w.left+50,y:w.top+50}}return!1}const y=document.getElementById("char").children,m=parseInt(n.getAttribute("data-content-type")||"0");let b=0;for(;b<y.length;b++){const w=y[b],k=u(w.getAttribute("data-content-type-accept")||"0");if(y[b].children.length==0&&k==m){const v=jQuery(w).offset();return{x:v.left+5,y:v.top+5}}}}const p=st.vn(jQuery(h)),f=(l!="shop"||c)&&ghh.Sn.In(n,p)||st._n(n.dataset.measurementY,n.dataset.measurementX,st.pu(g[0],g[1],p));return!!f&&{x:(d={x:(d=jQuery(h).offset()).left,y:d.top}).x+32*f.x+5,y:d.y+32*f.y+5,parent:h}},ju:async function(n,l,c){const d={bubbles:!0,cancelable:l!=="mousemove",view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};d.clientX=c.clientX,d.clientY=c.clientY;const h=document.createEvent("MouseEvents");h.initMouseEvent(l,d.bubbles,d.cancelable,d.view,d.detail,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,document.body.parentNode),n.dispatchEvent(h)},findGridSpot:function(n,l,c){let d,h,g,p,f=!1;for(d=0;d<=c[0].length-l;d++){for(h=0;h<=c.length-n;h++){if(f=!0,n==1)c[h][d]==0?f=!0:c[h][d+1]==0?d++:f=!1;else for(g=0;g<l;g++){for(p=0;p<n;p++)if(c[h+p][d+g]==1){f=!1;break}if(!f)break}if(f){for(g=0;g<l;g++)for(p=0;p<n;p++)c[h+p][d+g]=!0;f={y:h,x:d};break}}if(f)break;n==1&&d++}return f},In:function(n,l){const c=n.dataset.amount?parseInt(n.dataset.amount,10):1;for(let d=0;d<l.length;d++)if(l[d].hash==n.dataset.hash&&parseInt(l[d].amount)+c<=100)return{y:l[d].y,x:l[d].x};return!1}},Dn:async function(n,l,c=!1){const d=ghh.Sn.Tu(n,l,c);return!!d&&(await ghh.Qu(n,d.x,d.y),!0)},Qu:async function(n,l,c){let d=jQuery(n).offset();d={x:d.left,y:d.top};const h=l,g=c;await ghh.Sn.ju(n,"mousedown",{clientX:d.x-window.scrollX,clientY:d.y-window.scrollY}),await ghh.Sn.ju(document,"mousemove",{clientX:h-window.scrollX,clientY:g-window.scrollY}),await ghh.Sn.ju(document,"mouseup",{clientX:h-window.scrollX,clientY:g-window.scrollY})},pn:async function(n,l,c,d,h,g,p){const f=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:n,fromX:l,fromY:c,to:d,toX:h,toY:g,amount:p}),y=await ghh.ve(()=>jQuery.post(f,{a:new Date().getTime()}));return ghh.cs(y)},async he(n,l){const c=st.jt("543f16971d",[]);c.find(h=>h.id===n)||await mesgs.er(`${n} (${l.itemName})`);const d=c.filter(h=>h.id!==n);d.push({id:n,...l}),await st.Tt("543f16971d",d)},async Ic(n,l){const c=st.jt("423875101d10",[]).filter(d=>d.id!==n);c.push({id:n,...l}),await st.Tt("423875101d10",c)}},overview={o_sdi:async function(){if(dollId==1||dollId==2)try{await st.Tt("412151f101c2d154a",document.querySelector(".player_name_bg div.ellipsis").textContent.trim()),await overview.Ze(dollId,jQuery("#content"))}catch{}},async Ze(n,l){const c=ghh.Iu(jQuery(l)).map(g=>{const p=st.Ke(g);return{itemName:p.itemName,quality:p.quality,containerNumber:p.containerNumber}}),d=n==1?"55228a4427171141c":"55228a4727171141c",h=st.jt(d,[]);for(const g of c){const p=h.find(f=>f.containerNumber==g.containerNumber);p?jQuery.extend(p,g):h.push(g)}await st.Tt(d,h)}},as={async Mu(n,l,c,d,h){const g=st.jt((n?"circusTuma":"arena")+".reportId",0),p=jQuery(".nextReportButton");g<l&&!p.length&&(await as.Ni(n,{win:c,gold:d,exp:h,date:Date.now()}),await as.$i(n,c,d,h)),await st.Tt((n?"circusTuma":"arena")+".reportId",l)},async $i(n,l,c,d){const h=n?"522416501d3714e40343c191b1":"503f18144010081b1d",g={from:Date.now(),win:0,lose:0,gold:0,exp:0,goldIntervals:{}},p=st.jt(h,g);if(Date.now()-p.from>6048e5&&(p.from=Date.now(),p.win=0,p.lose=0,p.gold=0,p.exp=0,p.goldIntervals=g.goldIntervals),p.gold+=c,p.exp+=d,l?p.win++:p.lose++,l){const f=Math.min(1e4*Math.floor(c/1e4),39e4),y=`${f+1}-${f+1e4}`;p!=null&&p.goldIntervals||(p.goldIntervals={}),p.goldIntervals[y]=(p.goldIntervals[y]||0)+1}await st.Tt(h,p)},async Ni(n,l){const c=n?"522416501d3714e402b29b1b3a2a1ba3c6251110":"503f181440f151a1b26283da3c6241ab",d=st.jt(c,[]),h=Date.now()-36e5,g=d.filter(p=>p.date>=h);g.push(l),await st.Tt(c,g)}},cr={Ru:async function(){if(await st.Wt(100),gh_UrlInfo)try{await cr.Qt()}catch(n){await errorLog.log(n)}else await cr.Ru()},Qt:async function(){gh_UrlInfo.resolve(document.location.href),gh_UrlInfo.queries.t=="0"?await cr.Bu():gh_UrlInfo.queries.t=="1"?await cr._l():gh_UrlInfo.queries.mod==="reports"&&["2","3"].indexOf(gh_UrlInfo.queries.t)>-1&&await cr.Uu()},Uu:async function(){var g,p,f,y,m;let n;const l=gh_UrlInfo.queries.t==="2"?"arena":"circusTuma",c=(p=(g=document.querySelector(".attack"))==null?void 0:g.className)==null?void 0:p.includes("right"),d=document.querySelector("#defenderAvatar11"),h=(f=(d==null?void 0:d.querySelector(".playername"))||(d==null?void 0:d.querySelector(".playername_achievement")))==null?void 0:f.textContent.trim();if(c){const b=(m=(y=document.querySelector(".attack"))==null?void 0:y.getAttribute("onclick"))==null?void 0:m.trim(),w=b==null?void 0:b.startsWith("startProvinciarumFight"),k=jQuery("#reportHeader").hasClass("reportLose"),v=w?st.jt(`${l}.autoIgnorePlayer`,!0):st.jt(`${l}.autoIgnoreSameServerPlayers`,!1),I=at.li(document.querySelector(".attack").getAttribute("onclick"));if(k&&await as.Mu(l=="arena"?0:1,parseInt(gh_UrlInfo.queries.reportId),!k,0,0),v&&k){const L=w?"ignorePlayers":"ignoreSameServerPlayers";return n=st.jt(`${l}.${L}`,[]),n.includes(h)||(n.push(h),await st.Tt(`${l}.${L}`,n)),w&&cr.Fu(I)}const T=document.querySelector(".report_reward");if(!T)return w&&cr.Fu(I);const _=ghh.Bi(),x=ghh.qu(),q=x.country==="us"?/\d+\/\d+\/\d+/:/\d+\.\d+\.\d+/,C=jQuery("#attackerCharStats1").closest("table").next().text().match(q)[0].split(x.country==="us"?"/":"."),j=ghh.ti(),S=x.country==="us"?`${C[2]}-${C[0]}-${C[1]}`:`${C[2]}-${C[1]}-${C[0]}`;_.gotTreasureBox||j!==S||(_.gotTreasureBox=document.querySelector(".reportReward")!==null,await ghh.Au(_));const A=T.textContent.trim().match(/:\s+([\d|.]+)/);if(!A)return w&&cr.Fu(I);const D=parseInt(A[1].replace(/\./g,"")),B=parseInt(st.jt(`${l}.goldRaided`,5e3)),Q=l==="circusTuma"&&st.jt("45221071939a1a",!1),N=document.querySelector("#content > div.report_reward > section > table > tbody > tr:nth-child(1) > td > p:nth-child(2)").textContent.match(/\b(\d+)\b/),R=N?parseInt(N[1],10):0;if(await as.Mu(l=="arena"?0:1,parseInt(gh_UrlInfo.queries.reportId),!k,D,R),D>=B||Q&&cr.Eu()){const L=w?"players":"sameServerPlayers",U=st.jt(`${l}.${L}`,[]);U.includes(h)||(U.push(h),await st.Tt(`${l}.${L}`,U)),w&&await cr.Lu(I)}else w&&await cr.Fu(I)}},Eu(){const n=document.querySelector(".standalone"),l=n==null?void 0:n.textContent,c=l.match(/\d+/g);return(c&&c.length>1?parseInt(c[1]):1)<1},async Lu(n){const l=parseInt(n[1])===2?"503f181423a1823f226311d1d1":"453816b1423a1823f226311d1d1",c=st.jt(l,[]),d=`${n[2]}-${n[3]}-${n[4]}`;c.includes(d)||(c.push(d),await st.Tt(l,c))},async Fu(n){const l=parseInt(n[1])===2?"503f181423a1823f226311d1d1":"453816b1423a1823f226311d1d1",c=`${n[2]}-${n[3]}-${n[4]}`,d=st.jt(l,[]).filter(h=>h!==c);await st.Tt(l,d)},_l:async function(){if(await cr.Bu(!1),!(parseInt(st.jt("43281712141c1735f1bb35102c61f201d340130",10))<=0)){const n=!jQuery("#reportHeader").hasClass("reportLose"),l=st.jt("432814971a27151de",{}),c=gh_UrlInfo.queries.reportId;Object.prototype.hasOwnProperty.call(l,c)||(l[c]=n?1:0,await st.Tt("432814971a27151de",l))}},async Ou(){const n=jQuery("tr"),l=n.find("td:first p"),c=new RegExp("(?<!\\w)(\\d{1,3}(?:[.,]\\d{3})*(?:[.,]\\d+)?|\\d+)(?!\\w)"),d=l.eq(0).text().match(c),h=d?parseFloat(d[1].replace(/\./g,"").replace(",",".")):0,g=l.eq(1).text().match(c),p=g?parseInt(g[1].replace(/[.,]/g,""),10):0,f=l.eq(2).text().match(c),y=f?parseInt(f[1].replace(/[.,]/g,""),10):0,m=Array.from(n.find('td:eq(1) .reportReward div[class^="item-i-"]')),b=[];for(const w of m){const k=st.Ke(w);b.push({quality:k.quality,priceGold:k.priceGold,type:parseInt(k.basis.split("-")[0])})}return{gold:h,experience:p,honor:y,itemDrops:b,win:!jQuery("#reportHeader").hasClass("reportLose")}},async Bu(n=!0){const l=n?"5435143117171d611d693a1d1f1d371a31b":"5538a1101d5a1ba1e283ac2616",c=st.jt(l,0),d=parseInt(gh_UrlInfo.queries.reportId),h=jQuery(".nextReportButton");if(c<d&&!(h!=null&&h.length)){const g=await cr.Ou();await cr.Ni(n,{date:Date.now(),...g}),await cr.$i(n,g)}await st.Tt(l,d)},async Ni(n=!0,l){const c=n?"5435143117171d611d6924191c6d1d1d21304171c":"5538a1101d5a5e1d330171a0161a191b1",d=st.jt(c,[]),h=Date.now()-36e5,g=d.filter(p=>p.date>=h);g.push(l),await st.Tt(c,g)},async $i(n=!0,l){const c=n?"5435143117171d611d693bce636":"5538a1101d5a1a1bf333b",d={};for(let p=1;p<=21;p++)d[p]={price:0,[-1]:{total:0},0:{total:0},1:{total:0},2:{total:0},3:{total:0},4:{total:0}};const h={from:Date.now(),gold:0,honor:0,experience:0,win:0,lose:0,types:d},g=await st.jt(c,h);Date.now()-g.from>6048e5&&(g.from=Date.now(),g.gold=0,g.honor=0,g.experience=0,g.lose=0,g.win=0,g.types=d),l.win?g.win++:g.lose++,g.honor+=l.honor,g.experience+=l.experience,g.gold+=l.gold;for(const p of l.itemDrops)g.types[p.type][p.quality].total+=1,g.types[p.type].price+=p.priceGold;await st.Tt(c,g)}},dungeon=async function(){if(!(parseInt(st.jt("43281712141c1735f1bb35102c61f201d340130",10))<=0)){const n={},l=jQuery("#content .table-container tr");let c=1;for(;c<l.length;c++){const d=l[c],h=jQuery(d.children[4]).find("a").attr("href").match(/&reportId=(\d+)/i)[1],g=jQuery(d.children[2]).text().trim().length>0;Object.prototype.hasOwnProperty.call(n,h)||(n[h]=g?1:0)}await st.Tt("432814971a27151de",n)}},workbenchButtons={isFullFix:!1,fixingSlots:[],fixingCount:0,materialQueue:[],Nu:function(){const n=[];let l=0;const c=document.getElementById("forge_nav").children;for(document.getElementById("forge_box");l<6;l++)c[l].className.indexOf("forge_finished")>-1&&n.push(l);return n},$u:function(n){const l=n.getAttribute("data-basis"),c=l?parseInt(l.split("-")[0]):1,d=n.getAttribute("data-tooltip").match(/\((\d+)%\)/gm);if(!d||d.length!=2)return!1;const h=d[0].match(/\((\d+)%\)/),g=d[1].match(/\((\d+)%\)/);return h&&g&&[1,2,3,4,5,6,8,9].indexOf(c)>-1&&parseInt(h[1])+parseInt(g[1])<200},Gu:function(){for(let n=document.getElementById("forge_box"),l=document.getElementById("forge_nav").children,c=0;c<6;c++)if(l[c].click(),n.querySelector("#slot-closed").className.indexOf("hidden")<0&&workbenchButtons.fixingSlots.indexOf(c)<0)return c;return-1},Hu:async function(n){const l=workbenchButtons,c=workbenchButtons.Gu,d=c&&c();if(d<0)return;ro.gt=!0,l.fixingCount++;const h=n.target,g=workbenchButtons.Hu;jQuery(h).off("click",g),jQuery(h).off("touchstart",g),h.style.opacity=.3,h.className=h.className+" fixing-inprogress",l.fixingSlots.push(d);const p=st.Ke(h),f=!l.isFullFix;await st.cpsfpi(),await async function(){let y;const m=be.ce;do if((y=await m(p,d,f))!==!1){jQuery.extend(!0,p,y);const b=view.iu(p.tooltip),w=view.ou(p.tooltip);jQuery(h).attr("data-durability",b+w+"%"),jQuery(h).attr("data-durability-color",1),y=!1}while(y);jQuery(h).toggleClass("fixing-inprogress"),tooltips.set(h,p.tooltip),h.style.opacity=1,l.fixingCount--,l.fixingCount<=0&&tiW.ye(()=>{ro.gt=!1,location.reload()},10)}()},Wu:function(){const n=st.jt("522ca200000000",!1),l=view.$a(gh_lang.workbench.startFix,()=>{n&&(c.isFullFix=!0,p())}),c=workbenchButtons,d=document.createElement("fieldset");d.className="workbench-actions";const h=document.createElement("legend");h.textContent=gh_lang.workbench.action,d.appendChild(h),c.fixingSlots=[];const g=workbenchButtons.Gu,p=()=>{if(!l.isInFixingMode){if((g&&g())<0||!be.Zt())return;c.fixingCount=0}l.isInFixingMode=!l.isInFixingMode,l.textContent=l.isInFixingMode?gh_lang.workbench.stopFix:gh_lang.workbench.startFix,f.style.display=l.isInFixingMode?"none":"inline-block";const _=Array.from(document.getElementById("inv").querySelectorAll("[data-content-type]")),x=workbenchButtons.Hu;for(const q of _){const C=jQuery(q);if(l.isInFixingMode){const j=workbenchButtons.$u;j&&j(q)?(q.className=q.className+" hammer",C.off("click",x),C.on("click",x),C.off("touchstart",x),C.on("touchstart",x)):q.style.opacity=.3}else q.style.opacity=1,q.className=q.className.replace("hammer",""),C.off("touchstart",x),C.off("touchstart",x),c.isFullFix=!1}},f=view.$a(gh_lang.workbench.partialFix,()=>{n&&(c.isFullFix=!1,p())}),y=view.$a(gh_lang.workbench.sendToPackage,()=>{if(!n)return;const _=workbenchButtons.Nu,x=_&&_();if(x.length!=0){y.disabled=!0,y.className+=" disabled";const q=[];x.forEach(j=>{q.push(1),ghh.zt(gh_UrlInfo.link({mod:"forge",submod:"lootbox",mode:"workbench",slot:j}).replace("index","ajax"),()=>{q.pop()})});const C=()=>{tiW.ye(()=>{q.length>0?C():tiW.ye(()=>{location.reload()},10)},50)};C()}});st.jt("522ca3510b351dc18",!1)||((()=>{const _=[{text:"Need License Key",color:"red"}];ghh.La(f,_),ghh.La(y,_),ghh.La(l,_)})(),f.disabled=!0,y.disabled=!0,l.disabled=!0),d.appendChild(l),d.appendChild(f),d.appendChild(y);const m=view.Za("div"),b=view.Za("label",null,"workbench_quality",gh_lang.workbench.maxMaterialQuality),w=gh_itemQualities.filter(_=>+_.value<3),k=parseInt(st.jt("462216d17bd1714132630291a13297c16",1)),v=view.cu(w,k,_=>{st.Tt("462216d17bd1714132630291a13297c16",parseInt(_))});m.appendChild(b),m.appendChild(v),d.appendChild(m);const I=document.createElement("span");I.className="gh-error-message",d.appendChild(I);const T=document.getElementById("inv");T.parentNode.insertBefore(d,T.nextSibling)},Qt:function(){workbenchButtons.materialQueue=[];const n=workbenchButtons.Wu;n&&n()}},fbb={forgeSlots:[],Xu(n){const l=jQuery(n).find("#basic0")[0],c=jQuery(n).find("#prefix0")[0],d=jQuery(n).find("#suffix0")[0];function h(p){return Array.from(p.options).map(f=>({value:f.value,text:f.text}))}const g={item:h(l),prefix:h(c),suffix:h(d)};st.Tt("57221611040c41d61293b",g)},cc:async function(n,l,c){const d=await fbb.Pe();for(const h of d)try{await fbb.mc(h,n,l,c)}catch{}},mc:async function(n,l,c,d){const h=gh_UrlInfo.ajaxLink({mod:"forge",submod:"rent"}),g={mod:"forge",submod:"rent",mode:"forging",slot:n,rent:"2",item:l,prefix:c,suffix:d,a:Date.now(),sh:gh_UrlInfo.queries.sh};await jQuery.post(h,g)},Pe:async(n=["closed"])=>{ghh.logger("Checking for free slots in forge.");const l=await ghh.Se("forge"),c=JSON.parse(l.match(/slotsData\s*=\s*(.*);/)[1]),d=[];for(let h=0;h<6;h++){const g=c[h]["forge_slots.state"];n.includes(g)&&d.push(h)}return d},Wu:function(){const n=st.jt("522ca200000000",!1);fbb.Xu(jQuery.find("#forge_box")[0]);const l=view.$a("Clone Forge",()=>{n&&y()}),c=view.$a("Add Silver tools",async()=>{n&&(await fbb.Ju(),location.reload())}),d=view.$a("Add Bronze tools",async()=>{n&&(await fbb.Ju("b"),location.reload())}),h=view.Za("label",null,"forge","This settings apply to all slots"),g=fbb,p=document.createElement("fieldset");p.className="workbench-actions";const f=document.createElement("legend");f.textContent="Forge",p.appendChild(f),g.forgeSlots=[],st.jt("522ca3510b351dc18",!1)||((()=>{const k=[{text:"Need License Key",color:"red"}];ghh.La(d,k),ghh.La(c,k),ghh.La(l,k)})(),d.disabled=!0,c.disabled=!0,l.disabled=!0);const y=async()=>{const k=jQuery.find("#basic0")[0].value,v=jQuery.find("#prefix0")[0].value,I=jQuery.find("#suffix0")[0].value;await fbb.cc(k,v,I),await st.Wt(150),location.reload(),await st.Wt(200)};p.appendChild(l),p.appendChild(c),p.appendChild(d);const m=view.Za("div");m.appendChild(h),p.appendChild(m);const b=document.createElement("span");b.className="gh-error-message",p.appendChild(b);const w=document.getElementById("inv");w.parentNode.insertBefore(p,w.nextSibling)},Ju:async function(n="s"){const l=await fbb.Pe(["closed","opened"]),c={s:["19-2","19-5","19-8","19-11"],b:["19-1","19-4","19-7","19-10"]}[n],d=[512,513,514,515],h={};for(const g of d){const p=await st.Je(g),f=jQuery("<div>").append(st.Yt(p))[0];c.forEach((y,m)=>{const b=jQuery(f).find(`.item-i-${y}`);b.length&&b.each((w,k)=>{const v=parseInt(k.getAttribute("data-amount"),10)||1;h[y]||(h[y]={elements:[],totalAmount:0,classIndex:m}),h[y].elements.push(k),h[y].totalAmount+=v})})}for(const g in h){let p=0;const f=h[g],{elements:y,totalAmount:m,classIndex:b}=f;let w=m;for(let k=0;k<y.length&&w>0;k++){const v=y[k],I=parseInt(v.getAttribute("data-amount"),10)||1,T=Math.min(I,w);for(;T>0&&p<l.length;){const _=l[p],x=v.getAttribute("data-container-number"),q=v.getAttribute("data-position-x"),C=v.getAttribute("data-position-y"),j=gh_UrlInfo.ajaxLink({mod:"inventory",submod:"move",from:x,fromX:q,fromY:C,to:769,toX:_+1,toY:1+b,amount:1,doll:1});try{await jQuery.post(j,{a:new Date().getTime()})}catch{}w--,p++}}}}},gmb={Wu:function(){const n=st.jt("522ca200000000",!1),l=view.$a("Rotate item",()=>{n&&h()});st.jt("522ca3510b351dc18",!1)||(ghh.La(l,[{text:"Need License Key",color:"red"}]),l.disabled=!0);const c=document.createElement("fieldset");c.className="workbench-actions";const d=document.createElement("legend");d.textContent=gh_lang.workbench.action,c.appendChild(d);const h=()=>{if(!l.isInRotateMode&&st.oe()<10)return;l.isInRotateMode=!l.isInRotateMode,l.textContent=l.isInRotateMode?"Stop":"Rotate Item";const f=Array.from(document.getElementById("inv").querySelectorAll("[data-content-type]")),y=gmb.Yu;for(const m of f){const b=jQuery(m);l.isInRotateMode?(m.className=m.className+" shop-cart",b.off("click",y),b.on("click",y),b.off("touchstart",y),b.on("touchstart",y)):(m.className=m.className.replace("shop-cart",""),b.off("touchstart",y),b.off("touchstart",y))}},g=document.createElement("span");c.appendChild(l),g.className="gh-error-message",c.appendChild(g);const p=document.getElementById("inv");p&&p.parentNode.insertBefore(c,p.nextSibling)},async Yu(n){const l=n.target,c=gmb.Yu;jQuery(l).off("click",c),jQuery(l).off("touchstart",c),l.style.opacity=.3,l.className=l.className+" fixing-inprogress";const d=st.Ke(l);await st.Ta({id:d.itemId,price:1});const h=gh_UrlInfo.link({mod:"guildMarket",fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1}),g=await ghh.zt(h);await st.Ca(g),jQuery(l).toggleClass("fixing-inprogress"),tooltips.set(l,d.tooltip),l.style.opacity=1,await st.Wt(250),jQuery(l).remove()},Qt:function(){const n=gmb.Wu;n&&n()}},mfc={async Qt(){const n=st.jt("522ca200000000",!1),l=view.$a("Stack items",()=>{n&&h()});st.jt("522ca3510b351dc18",!1)||(ghh.La(l,[{text:"Need License Key",color:"red"}]),l.disabled=!0);const c=document.createElement("fieldset");c.className="workbench-actions";const d=document.createElement("legend");d.textContent=gh_lang.workbench.action,c.appendChild(d);const h=()=>{mfc.zu()},g=document.createElement("span");c.appendChild(l),g.className="gh-error-message",c.appendChild(g);const p=document.getElementById("inv");p&&p.parentNode.insertBefore(c,p.nextSibling)},async zu(){const n=Array.from(document.getElementById("shop").querySelectorAll("[data-content-type]")),l=st.vn(jQuery("#shop"));for(const c of n){const d=ghh.Sn.In(c,l),h=st.Ke(c);!d||d.y+1===h.positionY&&d.x+1===h.positionX||(await ghh.Dn(c,"shop",!0),await st.Wt(180))}},Ku:async(n,l,c,d=0)=>gh_UrlInfo.ajaxLink({mod:"magus",submod:"upgradeItem",doll:l,iid:n,chanceGold:c,chanceRubies:d,a:Date.now()}),Zu(n,l,c,d){let h=0;return n==0?0:(h=Math.round(Math.pow(c/20,1+(d-30)/500)*n),l==1&&(h=Math.round(1.3*h)),Math.max(h,100))},async td(item){const chance=parseInt(st.jt("5c2c31364001c81d22",25));try{const i=item.target,s=mfc.td;jQuery(i).off("click",s),jQuery(i).off("touchstart",s),i.style.opacity=.3,i.className=i.className+" fixing-inprogress";const itemEx=st.Ke(i),cost=mfc.Zu(chance,itemEx.quality,4*itemEx.priceGold,itemEx.level);st.jt("5c2c31364001573f724233f",!1)&&cost>st.oe()&&await ks.Vo(cost),await st.Wt(150);const link=await mfc.Ku(itemEx.itemId,itemEx.quality,chance,0),res=await ghh.zt(link);let data={};data={test:!0},i.className=i.className.replace(" fixing-inprogress",""),i.style.opacity=1,jQuery(i).on("click",s),jQuery(i).on("touchstart",s),eval(res)}catch(n){}},Wu:function(){const n=st.jt("522ca200000000",!1),l=view.$a("Upgrade Item",()=>{n&&h()}),c=document.createElement("fieldset");c.className="workbench-actions";const d=document.createElement("legend");d.textContent=gh_lang.workbench.action,c.appendChild(d);const h=()=>{l.isInFixingMode=!l.isInFixingMode,l.textContent=l.isInFixingMode?gh_lang.workbench.stopFix:"Upgrade Item";const T=Array.from(document.getElementById("inv").querySelectorAll("[data-content-type]")),_=mfc.td;for(const x of T){const q=jQuery(x);if(l.isInFixingMode){const C=workbenchButtons.$u;C&&C(x)?(x.className=x.className+" hammer",q.off("click",_),q.on("click",_),q.off("touchstart",_),q.on("touchstart",_)):x.style.opacity=.3}else x.style.opacity=1,x.className=x.className.replace("hammer",""),q.off("touchstart",_),q.off("touchstart",_)}};st.jt("522ca3510b351dc18",!1)||(ghh.La(l,[{text:"Need License Key",color:"red"}]),l.disabled=!0),c.appendChild(l);const g=view.Za("div"),p=view.Za("label",null,"workbench_quality","Max Chance Gold"),f=this.ed(),y=parseInt(st.jt("5c2c31364001c81d22",25)),m=view.cu(f,y,T=>{st.Tt("5c2c31364001c81d22",parseInt(T))});g.appendChild(p),g.appendChild(m),c.appendChild(g);const b=view.Za("div"),w=view.Za("label",null,"gold","Pick gold from packages"),k=view.za("input","checkbox");k.checked=st.jt("5c2c31364001573f724233f",!1),jQuery(k).on("click",T=>st.Tt("5c2c31364001573f724233f",T.target.checked)),b.appendChild(w),b.appendChild(k),c.appendChild(b);const v=document.createElement("span");v.className="gh-error-message",c.appendChild(v);const I=document.getElementById("inv");I.parentNode.insertBefore(c,I.nextSibling)},ed(){const n=[];for(let l=1;l<26;l++)n.push({name:`${l}%`,value:l});return n}},mek={ad:!1,Na:async function(n){const l=st.jt("522ca200000000",!1),c=st.jt("522ca3510b351dc18",!1),d=view.$a("Start Sell",async()=>{l&&(d.style.display="none",h.style.display="",mek.ad=!0,await mek.Yu(),h.style.display="none",d.style.display="",d.disabled=!1,mek.ad=!1)}),h=document.createElement("button");h.className="awesome-button",h.type="button",h.textContent=gh_lang.packages.stop,h.style.display="none",jQuery(h).on("click",()=>{l&&(mek.ad=!1,h.style.display="none",d.style.display="",d.disabled=!1)}),c||(d.disabled=!0,ghh.La(d,[{text:"Need License Key",color:"red"}])),n.appendChild(d),n.appendChild(h)},Yu:async()=>{const n=document.getElementById("shop").children;let l=0;for(let p=0;p<n.length;p++){const f=n[p];f.getAttribute("data-measurement-x")&&f.getAttribute("data-measurement-y")&&(l+=parseInt(f.getAttribute("data-measurement-x"))*parseInt(f.getAttribute("data-measurement-y")))}const c=48-l,d=st.jt("5c281651dfd01a411d22241dc620a2c1622123c1d34c04",[]),h=Array.from(document.getElementById("inv").querySelectorAll("[data-content-type]")).filter(function(p){const f=p.getAttribute("data-basis").split("-")[0];return d.includes(f)}).sort(function(p,f){const y=parseInt(p.getAttribute("data-measurement-x"))*parseInt(p.getAttribute("data-measurement-y"));return parseInt(f.getAttribute("data-measurement-x"))*parseInt(f.getAttribute("data-measurement-y"))-y});let g=Math.min(c,h.length);for(const p of h){if(!g||!mek.ad)return;const f=await ghh.Dn(p,"shop");await st.Wt(130),f&&g--}},nd:async()=>{const n=document.createElement("h2");n.className="section-header",n.style.cursor="pointer",n.textContent="Select items For selling";const l=await st.jt("5c281651dfd01a417341b1dc62c1162c1d28921f1707",!1),c=document.createElement("section");c.className="merchant-settings",c.style.display=l?"none":"block",jQuery(n).on("click",async()=>{const m=await st.jt("5c281651dfd01a417341b1dc62c1162c1d28921f1707",!1);c.style.display=m?"block":"none",await st.Tt("5c281651dfd01a417341b1dc62c1162c1d28921f1707",!m)});const d=document.createElement("div");c.appendChild(d),d.className="actions";const h=mek.Na;h&&await h(d);const g=document.getElementById("inv");g.parentNode.insertBefore(c,g.nextSibling),g.parentNode.insertBefore(n,g.nextSibling);const p=ghh.Pu,f=ghh.u_wbf,y=p&&p(gh_itemTypes.filter(m=>![14,21,18,19].includes(parseInt(m.value))),"5c281651dfd01a411d22241dc620a2c1622123c1d34c04");c.appendChild(f&&f(y,gh_lang.packages.itemType))}};class ST{constructor(){this.Rr=!1,this.level=0,this.sd="VGh1IEp1bCAzMSAyMDI1IDAwOjAwOjAwIEdNVCswMzAwIChFYXN0ZXJuIEV1cm9wZWFuIFN1bW1lciBUaW1lKQ"}async injectFile(){const n=gh_UrlInfo.resolve(location.href);switch(n.queries.mod){case"overview":await overview.o_sdi();break;case"packages":await pss.Qt(),await pss.Oa();break;case"reports":n.queries.submod==="showCombatReport"&&["0","1","2","3"].includes(n.queries.t)?await cr.Ru():n.queries.submod==="showDungeons"&&n.queries.page==="1"&&await dungeon(),n.queries.submod==="showCombatReport"&&["0","1"].includes(n.queries.t)&&_getSessionValue("startScript",!1)&&st.jt("522ca3510b351dc18",!1)&&await ot.Bc(parseInt(n.queries.t));break;case"guildMarket":gmb.Qt();break;case"forge":n.queries.submod=="workbench"&&workbenchButtons.Qt(),n.queries.submod=="forge"&&fbb.Wu();break;case"inventory":n.queries.sub=="6"&&mfc.Qt(),mek.nd();break;case"magus":mfc.Wu();break;case"hermit":n.queries.submod=="travel"&&await el.Xi()}}async rl(){await this.injectFile(),await st.Wt(100),_getSessionValue("startScript",!1)&&await st.od();const n=()=>{window.addEventListener("beforeunload",l=>{(ro.kt||ro.It||ro.gt||ro.ht||ro.Ct||ro.ft||ro.nt||ro.tt)&&(l.preventDefault(),l.returnValue="Script is buying/selling gold packs")})};document.hasFocus()||document.readyState==="complete"?n():(window.addEventListener("click",n,{once:!0}),window.addEventListener("keydown",n,{once:!0})),st.jt("4225b11266c42b016",!0)&&view.du(),st.jt("4225b11377710c12c2830",!0)&&view.fu()}rd(n){return ro.K=Date.now(),ro.Z=n,ro.et(),new Promise(l=>tiW.ye(()=>{ro.K=null,ro.Z=null,(ro.ut||ro.ct||ro.gt)&&l(!1),ro.et(),l(!0)},n))}async Wt(n){return new Promise(l=>{const c=tiW.ye(()=>{l(!0),tiW.eu(c)},n)})}async od(){if(!st.jt("52228a10d17308623e",!0))return;const n=jQuery("#linkLoginBonus");if(n.length>0&&(n[0].click(),await st.Wt(400)),jQuery("#blackoutDialognotification").is(":visible")){const l=jQuery("#linkcancelnotification");l.length>0&&(l[0].click(),await st.Wt(100))}}jt(n,l){return extensionStore.k(`${getJunk()}_${n}`,l)}async Tt(n,l){const c={};c[st.Ot(n)]=l,await extensionStore._(c),await st.Wt(100)}Ot(n){return`${getJunk()}_${n}`}Wl(){for(const n in ro)if(typeof ro[n]!="function"&&Object.prototype.hasOwnProperty.call(ro,n)&&ro[n])return!1;return!0}Rl(){for(const n of Object.keys(ro))Object.prototype.hasOwnProperty.call(ro,n)&&typeof ro[n]=="boolean"&&(ro[n]=!1);ro.et()}ld(n){return new Promise(function(l,c){jQuery.ajax({url:n,method:"GET",success:function(d){l(d)},error:function(d,h,g){c(g)}})})}ud(n,l){return new Promise(function(c,d){jQuery.ajax({url:n,method:"POST",data:l,success:function(h){c(h)},error:function(h,g,p){d(p)}})})}Bo(){return new Date(atob(this.sd).split("-").join("/")).getTime()}Gl(){return!st.jt("522ca200000000",!1)||Date.now()>this.Bo()}Pa(n){const l="ajax.php?mod=inventory&submod=move&"+jQuery.param(n);let c="";return c=(c=c+"&a="+new Date().getTime())+"&sh="+secureHash,new Promise((d,h)=>{jQuery.ajax({url:l,type:"POST",data:c,async:!0,success:function(g){d(JSON.parse(g))},error:function(g){h(g)}})})}cn(n){return this.hn(n).split("-")[0]}hn(n){return jQuery(n).attr("data-basis")}ln(n){const l=n.getAttribute("data-quality");return l!==null?l:"0"}Pc(n){return Array.from(n.find("[data-content-type]"))}async dd(n,l="guildMarket"){const c=`index.php?mod=${l}&sh=`+secureHash;return await ghh.An(c,{...n,a:Date.now(),sh:secureHash})}_n(n,l,c){let d,h,g,p,f=!1;for(d=0;d<=c[0].length-l;d++){for(h=0;h<=c.length-n;h++){if(f=!0,n==1)c[h][d]==0?f=!0:c[h][d+1]==0?d++:f=!1;else for(g=0;g<l;g++){for(p=0;p<n;p++)if(c[h+p][d+g]==1){f=!1;break}if(!f)break}if(f){for(g=0;g<l;g++)for(p=0;p<n;p++)c[h+p][d+g]=!0;f={y:h,x:d};break}}if(f)break;n==1&&d++}return f}pu(n,l,c){let d,h;const g=[];for(d=0;d<n;d++)for(g.push([]),h=0;h<l;h++)g[d].push(!1);for(let p=c.length-1;p>=0;p--)for(d=0;d<c[p].h;d++)for(h=0;h<c[p].w;h++)g[c[p].y+d][c[p].x+h]=!0;return g}vn(n){const l=[],c=n.find(".ui-draggable");let d=0;for(;d<c.length;d++)l.push({y:parseInt(c[d].style.top,10)/32,x:parseInt(c[d].style.left,10)/32,h:parseInt(c[d].dataset.measurementY,10),w:parseInt(c[d].dataset.measurementX,10),hash:c[d].dataset.hash,amount:c[d].dataset.amount});return l}async Al(){const n=await es.ea(),l=[],c=this.jt("44230373101b1a1b1b2a2d3ae12cd",2),d=this.jt("44230373101b1a1b1b2a2d3c1a1c22b171",6);await es.ra(l,n,c,d),l.length>0?(await es.ia(l),await this.Tt("5f281c1226b173cce2427b1b728bb",Date.now()+6e5)):await this.Tt("5f281c1226b173cce2427b1b728bb",Date.now()+3e5)}async $t(n=1){const l=gh_UrlInfo.link({mod:"overview",doll:n}),c=st.Yt(await ghh.zt(l)),d=c.find("section p b");return await st.hd(d.text().trim()),c}async hd(n){const l=/[?&]p=(\d+)/.exec(n);parseInt(l?l[1]:"0")!==getJunk()&&await st.Tt("502e10f3b",!1)}async Te(n,l,c){const d=c?[c]:[512,513,514,515];for(const h of d){const g=await st.Je(h),p=jQuery("<div>").append(st.Yt(g))[0],f=st._n(l,n,st.pu(5,8,st.vn(jQuery(p))));if(f)return{spot:f,bagId:h}}return null}Je(n){return new Promise((l,c)=>{const d={mod:"inventory",submod:"loadBag",bag:n,shopType:0},h=gh_UrlInfo.ajaxLink(d);jQuery.ajax({url:h,method:"GET",success:function(g){l(g)},fail:function(g){c(g)}})})}xe(n,l,c,d,h){return this.Pa({from:"-"+n,fromX:1,fromY:1,to:l,toX:c,toY:d,amount:h})}qe(n,l,c){const d={mod:"packages",f:n?this.xa(n.basis):0,fq:(n?n.quality:"-1")||"-1",page:l||1};c&&jQuery.extend(!0,d,c);const h=gh_UrlInfo.link(d);return Promise.resolve(ghh.zt(h))}xa(n){return n?n.split("-")[0]:0}Ke(n){const l=jQuery(n),c=l.data();return c.quality=c.quality||0,{itemName:c.tooltip[0][0][0],amount:c.amount,basis:c.basis,containerNumber:c.containerNumber||-1*l.parent().data().containerNumber,contentSize:c.contentSize,contentType:c.contentType,itemId:c.itemId,level:c.level,measurementX:c.measurementX,measurementY:c.measurementY,positionX:c.positionX,positionY:c.positionY,priceGold:c.priceGold,quality:c.quality,soulboundTo:c.soulboundTo,tooltip:c.tooltip,averagePrice:c.averagePrice,hasRubies:JSON.stringify(c.tooltip).indexOf("icon_rubies")>0,isFood:c.basis.split("-")[0]=="7",isGold:c.basis.split("-")[0]=="14",subType:parseInt(c.basis.split("-")[1]),soulTo:c.soulboundTo?(()=>{const d=c.tooltip[0][1][0].match(new RegExp("(?<=:\\s*)\\S+$"));return d?d[0].trim():null})():null,isHealing:c.basis.split("-")[0]=="7"?(()=>{let d=c.tooltip[0][1][0].match(/ ([\d,.]+ )/);return d||(d=c.tooltip[0][2][0].match(/ ([\d,.]+ )/)),d?parseInt(d[0].trim()):0})():0}}Kc(n,l=1){const c=pbm.Qs[n];return c?c.end-c.now<=l:location.reload()}fd(n){return jQuery(`#cooldown_bar_${n} > .cooldown_bar_fill_ready`).length>0}async Hn(n=1){await ghh.Gt();const l=parseInt(this.jt("432ca21a327115e17",5)),c=st.Oe(l/n,Math.ceil(l/2)/n);return!(c>0)||await this.rd(1e3*c)}Oe(n,l=0){return Math.floor(Math.random()*(n-l+1)+l)}async qs(t,a,o,r){r===void 0&&(r=""),jQuery("#errorRow").css({display:"none"});const response=await st.Ps("get","ajax.php","mod=location&submod=attack&location="+t+"&stage="+a+r+"&premium="+o);if(response.success){if(o){const n=st.jt("523a211e5b71d1d61293b2d1c1721",0);await st.Tt("523a211e5b71d1d61293b2d1c1721",n+1);const l=await eons.Qn();await eons.Yc(l.cw-1,l.time),await st.Wt(100)}eval(response.context),await st.Wt(500)}else location.reload(),await st.Wt(500)}async Ps(n,l,c,d){let h;const g={method:n,headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-Token":jQuery('meta[name="csrf-token"]').attr("content")}};n==="POST"?g.body=c+"&a="+new Date().getTime()+"&sh="+secureHash:(d&&(h=l+"?"+d+"&a="+new Date().getTime()+"&sh="+secureHash),l+="?"+c+"&a="+new Date().getTime()+"&sh="+secureHash);try{return await st.gd(l,g,1,h)}catch{}}async gd(n,l,c=1,d){try{await ghh.Gt();const h=await fetch(n,l),g=await h.text();return g.includes("error")||g.includes("blackoutDialogbod")?c>0?(await st.Wt(st.Oe(650,450)),st.gd(d||n,l,c-1)):{success:!1}:{success:!0,context:g}}catch{return c>0?(await st.Wt(st.Oe(600,400)),st.gd(d||n,l,c-1)):{success:!1}}}async pd(){const n=document.getElementById("submenu2"),l=Array.from(n.querySelectorAll("a")).filter(m=>m.getAttribute("href").match(/mod=location&loc=\d/)).map(m=>parseInt(m.getAttribute("href").match(/&loc=(\d)/)[1])),c=l.length,d=l.pop(),h=Array.from(n.querySelectorAll("span")).filter(m=>m.id.match(/location_inactive_\d/)).map(m=>parseInt(m.id.match(/location_inactive_(\d)/)[1])),g=h.length,p=h.pop(),f=c+g,y=f==gh_mobData.italy.locations.length?"italy":f==gh_mobData.africa.locations.length?"africa":f==gh_mobData.germany.locations.length?d==9||p==9?"germany":"britannia":void 0;if(y&&await this.Tt("52381614100173761a0333a1",y),st.jt("583e2091c04301c19222716",!1)&&!ro.vt&&!st.Rr){const m=y==="britannia";await st.Tt("583e2091c04301c19222716",!m)}}md(n){try{for(const l in n)if(Object.hasOwn(n,l))return!1}catch{return!0}return!0}async Ll(){const n=document.getElementById("submenu1"),l=document.getElementById("wrapper_game");if(n===null){ro.vt=!0;const c=this.jt("52381614100173761a0333a1","italy");c&&await this.Tt("5d2c1712361161a1d1d17",c)}else(l==null?void 0:l.className)==="underworld"&&(this.Rr=!0,await this.Tt("52381614100173761a0333a1",""));if(this.level=ghh.ne(),!ro.vt){await this.pd();const c=this.jt("5c2c1037721827e3223b",""),d=st.jt("57221611040c41d61293b",!1);if(this.level>4&&!d){const h=await ghh.zt(gh_UrlInfo.link({mod:"forge",submod:"forge"})),g=this.Yt(h).find("#forge_box")[0];fbb.Xu(g)}this.level>4&&this.md(c)&&await this.bd()}jQuery("[name=bestechen]").on("click",async()=>{await st.Tt("5f281c12217e112f01c4201dc192c01f291d2b1",0),await st.Tt("5f281c12217e112a7b24232b71d35261181a151023d111a261005e42",0),await st.Tt("5f281c12217e112f01c142d1433b31b151c",0)}),this.jt("5322171521b1b0",!1)||await ghh.bu(),await st.yd()}async bd(){const n=await ghh.zt(gh_UrlInfo.link({mod:"forge",submod:"storage"})),l={},c=this.Yt(n).find("#remove-resource-type")[0];Array.from(c.querySelectorAll('optgroup:not([data-exclusive="0"]) option[value]')).forEach(d=>{const h=d.getAttribute("value");l[h]=d.innerText.trim()}),await this.Tt("5c2c1037721827e3223b",l)}async Tl(){const n=Date.now();let l=0;const c=parseInt(this.jt("5f281c12211c22c33b292c1d1d262c31d",0),10);if(c&&c>n)return!1;await st.Tt("5f281c12366617227f341d3b01311b15a1",0);const d=document.querySelectorAll(".buff-clickable");if(d){for(const h of d)if(h.getAttribute("data-link")===`index.php?mod=location&sh=${secureHash}`){const g=parseInt(h.getAttribute("data-effect-end"),10),p=parseInt(h.getAttribute("data-cooldown-end"),10);return g>=0?(l=1e3*(p-g),await this.Tt("5f281c12211c22c33b292c1d1d262c31d",l+n),!1):(l=1e3*p,await this.Tt("5f281c12211c22c33b292c1d1d262c31d",l+n),!1)}}return!0}async Pl(){const n=Date.now(),l=this.jt("52221712036376022327f1","0");return!(parseInt(l,10)>n)&&await st.yd()}async jl(n=11){return st.jt("592c17331ba661e01c2b2c3b01311b15a",[])[n]&&await st.wd()&&!await st.Pl()}async wd(){if(this.jt("5f281c1236661723b1c263e1d33622",0)>Date.now())return!0;const n=await st.$t(),l=!!n.find("div.avatar_costume_animation").toArray().some(c=>{const d=c.style.backgroundImage;return d&&d.includes("13_complete.png")});return l&&await st.Tt("5f281c1236661723b1c263e1d33622",this.jt("52221712036376022327f1",0)),l}async yd(){const n=Date.now()+1e4,l=document.querySelectorAll(".buff-clickable");if(l.length===0)return!0;const c=`index.php?mod=costumes&sh=${secureHash}`;for(const d of l){if(d.getAttribute("data-link")!==c)continue;const h=d.getAttribute("data-cooldown-end")??"",g=parseInt(h,10);if(isNaN(g))break;const p=1e3*g+n;return await this.Tt("52221712036376022327f1",p),!1}return!0}async Jn(n,l,c,d="guildMarket"){const h={sellid:n,preis:l,dauer:c||3,anbieten:"Offer",sell_mode:0},g=await this.dd(h,d);return this.ke(this.Yt(g).find("#sstat_gold_val")[0].textContent),g}Vn(n,l=3){return this.oe()<n*(l+1)/100}async Xn(){const n=st.jt("53381df1b93315a48323cd1d1711715a",60);await st.Tt("53381df1b93315a48323cd1d171fca",new Date(Date.now()+1e3*n).toString())}Ln(){return Math.random().toString(35).substr(2)}Nn(){return document.getElementById("server-time").textContent}async Gn(n){var d;let l,c=1;do{await ghh.Gt();const h=this.Yt(await this.qe(n,c++));if(this.ke(h.find("#sstat_gold_val")[0].textContent),!l){const f=h.find(".paging_numbers"),y=f.length?Array.from(f[0].children).pop():null;l=y?parseInt(y.textContent):1}const g=Array.from(h.find(".packageItem"));let p=0;for(;p<g.length;p++){const f=g[p],y=f.querySelector("[data-content-type]"),m=this.Ke(y);if(m.itemName=this.On(y),delete m.tooltip,this.Ce(m,n))return(d=f.querySelector("input"))==null?void 0:d.getAttribute("value")}}while(c<10&&c<Math.min(l,5));return!1}Yt(n){if(typeof n!="string")return jQuery(n);const l=document.implementation.createHTMLDocument("virtual");return jQuery(n,l)}Ce(n,l){return!(n.contentType!=null&&n.contentType!=l.contentType||n.quality!=null&&n.quality!=-1&&n.quality!=l.quality||n.amount!=null&&n.amount!=l.amount||n.level!=null&&n.level!=l.level||n.basis!=null&&n.basis!=l.basis||n.itemName!=null&&l.itemName!=null&&n.itemName!=l.itemName||n.tooltip!=null&&n.tooltip[0][0][0]!=l.tooltip[0][0][0])}On(n){const l=this.getItemTooltip(n),c=l.substring(4,l.indexOf(",")).replace('"',"");return unescape(JSON.parse('"'+c+'"'))}getItemTooltip(n){return jQuery(n).attr("data-tooltip")}async cpsfpi(){return await st.Cu("in_desc")}async Cu(n,l={}){const c=gh_UrlInfo.link({mod:"packages",submod:"sort",page:1,...l});return await ghh.An(c,{packageSorting:n})}async $n(n,l="guildMarket"){const c=gh_UrlInfo.link({mod:l,fl:0,fq:-1,f:0,qry:"",seller:"",s:"d",p:1});return!!await ghh.An(c,n)}async Ar(n){const l=gh_UrlInfo.link({mod:"market",fl:0,fq:-1,f:0,qry:"",seller:"",s:"",p:1});return!!await ghh.An(l,n)}async Mc(n,l,c){const d={mod:"inventory",submod:"move",from:l,fromX:n.positionX,fromY:n.positionY,to:c.bagId,toX:c.spot.x+1,toY:c.spot.y+1,amount:1,doll:1},h={a:new Date().getTime(),sh:secureHash},g=gh_UrlInfo.ajaxLink(d),p=await jQuery.post(g,h),f=JSON.parse(p);return f&&f.header&&f.header.gold&&this.ke(f.header.gold.text),!(!f||!f.to)&&f.to.data}Zn(){return+st.jt("41227d101a2e1b7a17",1e4)}Fn(){return this.oe()-st.Zn()}oe(){return this.En(document.getElementById("sstat_gold_val").innerText)}ke(n){jQuery("#sstat_gold_val").text(n.toLocaleString("de-DE"))}En(n){return parseInt(n.trim().replace(/\./g,""))}async Ca(n,l=1){var v,I,T,_,x,q,C,j;const c=this.Yt(n).find("#market_table")[0];if(!c)return;const d=Array.from(c.querySelectorAll("input[name=buyid]")),h=Array.from(c.querySelectorAll("input[name=qry]")),g=Array.from(c.querySelectorAll("input[name=seller]")),p=Array.from(c.querySelectorAll("input[name=f]")),f=Array.from(c.querySelectorAll("input[name=fl]")),y=Array.from(c.querySelectorAll("input[name=fq]")),m=Array.from(c.querySelectorAll("input[name=s]")),b=Array.from(c.querySelectorAll("input[name=p]")),w=Array.from(c.querySelectorAll("tr")).slice(1),k=[];for(let S=0;S<w.length;S++){const A=w[S];if(A.querySelector('[name="cancel"]')&&parseInt(A.querySelectorAll("td")[2].textContent.replace(/\./g,""),10)===1){await ghh.Gt();const D={buyid:(v=d[S])==null?void 0:v.getAttribute("value"),qry:(I=h[S])==null?void 0:I.getAttribute("value"),seller:(T=g[S])==null?void 0:T.getAttribute("value"),f:(_=p[S])==null?void 0:_.getAttribute("value"),fl:(x=f[S])==null?void 0:x.getAttribute("value"),fq:(q=y[S])==null?void 0:q.getAttribute("value"),s:(C=m[S])==null?void 0:C.getAttribute("value"),p:(j=b[S])==null?void 0:j.getAttribute("value"),cancel:"Cancel"};k.push(this.dd(D)),(k.length>=l||S===w.length-1)&&(await Promise.all(k),k.length=0)}}}jr(n){return jQuery(n).attr("data-price-gold")}async Qr(n,l){return await this.Mc(n,305,l)}Ta(n,l=1){const c={sellid:n.id,preis:n.price,dauer:l,anbieten:"Offer"};return new Promise((d,h)=>{this.dd(c).then(g=>d(g)).catch(g=>h(g))})}async ql(){switch(this.jt("412c7d21171311",packHideTypes.guild)){case packHideTypes.guild:await gh.Un();break;case packHideTypes.market:await gh.Un(!0);break;case packHideTypes.shop:await gh.os();break;case packHideTypes.auction:await gh.Yn();break;case packHideTypes.training:await gh.ns();break;case packHideTypes.donate:await gh.ss();break;default:await gh.Un()}await st._d()}async _d(){if(st.Fn()>=st.jt("5c24a2414d81192812b2c28e112e2d19130311c",5e5)&&st.jt("50218922c21721a1e17291b4",!1))switch(ro.kt=!0,st.jt("532c7d01e3315a43a3e381d",packHideTypes.auction)){case packHideTypes.guild:await gh.Un();break;case packHideTypes.market:await gh.Un(!0);break;case packHideTypes.shop:await gh.os();break;case packHideTypes.auction:await gh.Yn();break;case packHideTypes.training:await gh.ns();break;case packHideTypes.donate:await gh.ss();break;default:await gh.Un()}}async Ql(){const n=st.jt("5038109361f18cc1a0271c201b291d",[]),l={minerva:1,diana:2,vulcanus:3,mars:4,apollo:5,merkur:6},c=await ghh.zt(gh_UrlInfo.link({mod:"gods"}));for(const d of n)if(st.Yt(c).find(`#${d} .god_cooldown_box`).length===0){const h=gh_UrlInfo.link({mod:"gods",submod:"activateBlessing",god:l[d],rank:2});await ghh.zt(h)}await st.Tt("5f281c12217e112a7b24233f016a7141c",new Date().getTime()+6e5)}async xl(){const n=st.jt("422883161a6102b1a821f17b1",[]),l={minerva:1,diana:2,vulcanus:3,mars:4,apollo:5,merkur:6},c=await ghh.zt(gh_UrlInfo.link({mod:"gods"}));for(const d of n)if(st.Yt(c).find(`#${d} .god_cooldown_box`).length===0){const h=gh_UrlInfo.link({mod:"gods",submod:"activateBlessing",god:l[d],rank:1});await ghh.zt(h)}await st.Tt("5f281c12217e112b1a821f17b1",new Date().getTime()+72e4)}ze(n){const l=parseInt(n.getAttribute("data-basis").split("-")[0]);return[1,2,3,4,5,6,8,9].indexOf(l)>-1}le(n){return JSON.parse(n.getAttribute("data-tooltip")).pop().pop()[0].match(/\d+/g)}async Hl(){const n=Date.now(),l=new Date().toDateString(),c=this.jt("412c11151022a71d",[]),d=this.jt("5522a1225f167c38b263a2d116201cf00281",!1);if(!c.length)return!1;for(const h of c){if(!h.startTime||!h.endTime||h.date!==l){const g=new Date;g.setHours(h.from,0,0,0),h.startTime=g.getTime()+1e3*st.Oe(60*(h.randomStartMin??5),0),h.endTime=g.getTime()+60*(h.to-h.from)*60*1e3+1e3*st.Oe(60*(h.randomEndMin??5),0),h.date=l,await this.Tt("412c11151022a71d",c)}if(h.active&&n>=h.startTime&&n<=h.endTime&&((!d||d&&await this.Pl())&&!this.Rr&&!ro.vt||h.forced))return h.endTime}return!1}}const st=new ST,chrome$1=globalThis.chrome;function _getSessionValue(n,l){const c=sessionStorage.getItem(n);return c!==null?JSON.parse(c):l}const gh_playingModeCommunication={Qt:async function(){const n=gh_UrlInfo;n.resolve(location.href);const l={isPlaying:!0,isReloginEnabled:!0,playerId:getJunk(),language:n.country,selectedLanguage:"en",server:n.server,isRunning:_getSessionValue("startScript",!1),delay:st.jt("432ca21a327115e17",5),isDebuging:"true",loginDelay:1e3*st.jt("5d223f1b2a618816",30)};chrome$1.runtime.sendMessage(ghExtensionId,l,function(){})}},setFlagListener=()=>{window.init_event=!0};(function(){if(window.addEventListener("init_event",setFlagListener,{once:!0}),window.tickers&&typeof window.tickers.refresh=="function"){const n=window.tickers.refresh;window.tickers.refresh=function(l,c){return(l||jQuery("body")).find(".ticker").removeData("tickerRef"),n.call(this,l,c)}}})(),(async()=>{if(getJunk())if(await _initExtensionStore(getJunk()),await gh_playingModeCommunication.Qt(),_getSessionValue("startScript",!1)&&ro.et(),window.init_event)try{await pc.rl()}catch(n){await errorLog.log(n)}else{window.removeEventListener("init_event",setFlagListener);const n=async()=>{try{await pc.rl()}catch(l){await errorLog.log(l)}};window.addEventListener("init_event",n,{once:!0})}})()})();
